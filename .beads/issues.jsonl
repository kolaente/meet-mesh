{"id":"meet-mesh-05r","title":"Unify pill/badge components across the application","description":"# Unify Pill/Badge Components Implementation Plan\n\n**Goal:** Create a single, unified Badge component that handles all pill/badge use cases across the application.\n\n**Architecture:** Extend the existing Badge.svelte component to support both status variants (existing) and type variants (new: booking, poll, caldav). Add a `label` prop to allow custom text while keeping sensible defaults. Add xs size for compact use cases.\n\n**Tech Stack:** SvelteKit, Svelte 5 runes, CSS custom properties\n\n---\n\n## Current State\n\n1. **Badge.svelte** - Reusable component with:\n   - Variants: pending, confirmed, active, cancelled, draft\n   - Sizes: sm, md\n   - Fixed label mapping (variant â†’ label)\n\n2. **Inline pills** (not using Badge):\n   - Booking detail page: green \"Booking\" type pill (lines 111-113)\n   - Poll detail page: violet \"Poll\" type pill (lines 117-119)\n   - CalendarConnectionCard: green \"CalDAV\" pill (xs size) (lines 41-43)\n\n## Target State\n\nSingle Badge component with:\n- **Status variants**: pending, confirmed, active, cancelled, draft (existing)\n- **Type variants**: booking, poll, caldav (new)\n- **Sizes**: xs, sm, md\n- **Optional label prop** for custom text (overrides default)\n\n## Color Mapping\n\n| Variant | Color | Default Label |\n|---------|-------|---------------|\n| pending | amber | Pending |\n| confirmed | emerald | Confirmed |\n| active | sky | Active |\n| cancelled | muted gray | Cancelled |\n| draft | dark gray | Draft |\n| booking | emerald | Booking |\n| poll | violet | Poll |\n| caldav | emerald | CalDAV |","status":"closed","priority":2,"issue_type":"epic","owner":"k@knt.li","created_at":"2026-01-25T20:20:10.33350126+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:41:27.975808674+01:00","closed_at":"2026-01-25T20:41:27.975808674+01:00","close_reason":"Closed"}
{"id":"meet-mesh-05r.1","title":"Extend Badge.svelte with new variants and label prop","description":"## Files\n\n- Modify: `frontend/src/lib/components/ui/Badge.svelte`\n\n## Step 1: Add new type variants and xs size\n\nUpdate the Variant type to include booking, poll, caldav:\n\n```typescript\ntype Variant = 'pending' | 'confirmed' | 'active' | 'cancelled' | 'draft' | 'booking' | 'poll' | 'caldav';\ntype Size = 'xs' | 'sm' | 'md';\n```\n\n## Step 2: Add optional label prop\n\nAdd a label prop that overrides the default mapping:\n\n```typescript\ninterface Props {\n    variant?: Variant;\n    size?: Size;\n    label?: string;\n}\n\nlet { variant = 'pending', size = 'md', label }: Props = $props();\n```\n\n## Step 3: Update labels mapping\n\n```typescript\nconst labels: Record\u003cVariant, string\u003e = {\n    pending: 'Pending',\n    confirmed: 'Confirmed',\n    active: 'Active',\n    cancelled: 'Cancelled',\n    draft: 'Draft',\n    booking: 'Booking',\n    poll: 'Poll',\n    caldav: 'CalDAV'\n};\n```\n\n## Step 4: Use label prop or fallback to mapping\n\n```svelte\n\u003cspan class=\"badge badge-{variant} badge-{size}\"\u003e\n    {label ?? labels[variant]}\n\u003c/span\u003e\n```\n\n## Step 5: Add CSS for new variants and xs size\n\n```css\n/* New size */\n.badge-xs {\n    font-size: 0.65rem;\n    padding: 0.15rem 0.4rem;\n}\n\n/* New variants */\n.badge-booking {\n    background: var(--emerald, #10b981);\n}\n\n.badge-poll {\n    background: var(--violet, #8b5cf6);\n}\n\n.badge-caldav {\n    background: var(--emerald, #10b981);\n}\n```\n\n## Step 6: Run type check\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\n## Step 7: Commit\n\n```bash\ngit add frontend/src/lib/components/ui/Badge.svelte\ngit commit -m \"feat(Badge): add type variants (booking, poll, caldav), xs size, and label prop\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:20:29.143068683+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:37:04.38663689+01:00","closed_at":"2026-01-25T20:37:04.38663689+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-05r.1","depends_on_id":"meet-mesh-05r","type":"parent-child","created_at":"2026-01-25T20:20:29.146001687+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-05r.2","title":"Replace inline type pill in booking detail page with Badge","description":"## Files\n\n- Modify: `frontend/src/routes/(dashboard)/booking-links/[id]/+page.svelte:111-113`\n\n## Step 1: Locate the inline type pill\n\nFind this code in the booking detail page (around line 111-113):\n\n```svelte\n\u003cspan class=\"inline-flex items-center px-2.5 py-1 text-sm font-medium rounded-full bg-[var(--emerald)] text-white border border-[var(--border-color)]\"\u003e\n    Booking\n\u003c/span\u003e\n```\n\n## Step 2: Replace with Badge component\n\nReplace the inline span with:\n\n```svelte\n\u003cBadge variant=\"booking\" size=\"md\" /\u003e\n```\n\nThe Badge import is already present on line 8.\n\n## Step 3: Run type check\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\n## Step 4: Visual verification\n\nRun dev server and verify the booking detail page type pill looks identical:\n- Same emerald/green color\n- Same font weight and size\n- Same border styling\n\n```bash\ncd frontend \u0026\u0026 pnpm dev\n# Navigate to /booking-links/{id}\n```\n\n## Step 5: Commit\n\n```bash\ngit add frontend/src/routes/\\(dashboard\\)/booking-links/\\[id\\]/+page.svelte\ngit commit -m \"refactor(booking-detail): use Badge component for type pill\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:20:39.130938278+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:40:10.224545679+01:00","closed_at":"2026-01-25T20:40:10.224545679+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-05r.2","depends_on_id":"meet-mesh-05r","type":"parent-child","created_at":"2026-01-25T20:20:39.13337113+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-05r.2","depends_on_id":"meet-mesh-05r.1","type":"blocks","created_at":"2026-01-25T20:21:20.157890583+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-05r.3","title":"Replace inline type pill in poll detail page with Badge","description":"## Files\n\n- Modify: `frontend/src/routes/(dashboard)/polls/[id]/+page.svelte:117-119`\n\n## Step 1: Locate the inline type pill\n\nFind this code in the poll detail page (around line 117-119):\n\n```svelte\n\u003cspan class=\"inline-flex items-center px-2.5 py-1 text-sm font-medium rounded-full bg-[var(--violet)] text-white border border-[var(--border-color)]\"\u003e\n    Poll\n\u003c/span\u003e\n```\n\n## Step 2: Replace with Badge component\n\nReplace the inline span with:\n\n```svelte\n\u003cBadge variant=\"poll\" size=\"md\" /\u003e\n```\n\nThe Badge import is already present on line 8.\n\n## Step 3: Run type check\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\n## Step 4: Visual verification\n\nRun dev server and verify the poll detail page type pill looks identical:\n- Same violet color\n- Same font weight and size\n- Same border styling\n\n```bash\ncd frontend \u0026\u0026 pnpm dev\n# Navigate to /polls/{id}\n```\n\n## Step 5: Commit\n\n```bash\ngit add frontend/src/routes/\\(dashboard\\)/polls/\\[id\\]/+page.svelte\ngit commit -m \"refactor(poll-detail): use Badge component for type pill\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:20:48.722039887+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:40:10.297042635+01:00","closed_at":"2026-01-25T20:40:10.297042635+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-05r.3","depends_on_id":"meet-mesh-05r","type":"parent-child","created_at":"2026-01-25T20:20:48.72461503+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-05r.3","depends_on_id":"meet-mesh-05r.1","type":"blocks","created_at":"2026-01-25T20:21:20.246045372+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-05r.4","title":"Replace inline CalDAV pill in CalendarConnectionCard with Badge","description":"## Files\n\n- Modify: `frontend/src/lib/components/dashboard/CalendarConnectionCard.svelte:3,41-43`\n\n## Step 1: Add Badge import\n\nUpdate the import on line 3:\n\n```typescript\nimport { Card, Button, Badge } from '$lib/components/ui';\n```\n\n## Step 2: Locate the inline CalDAV pill\n\nFind this code around line 41-43:\n\n```svelte\n\u003cspan class=\"inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-full bg-[var(--emerald)] text-white border border-[var(--border-color)]\"\u003e\n    CalDAV\n\u003c/span\u003e\n```\n\n## Step 3: Replace with Badge component\n\nReplace the inline span with:\n\n```svelte\n\u003cBadge variant=\"caldav\" size=\"xs\" /\u003e\n```\n\n## Step 4: Run type check\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\n## Step 5: Visual verification\n\nRun dev server and verify the calendar card pill looks identical:\n- Same emerald/green color\n- Slightly smaller (xs size)\n- Same border styling\n\n```bash\ncd frontend \u0026\u0026 pnpm dev\n# Navigate to /settings or wherever calendar connections are shown\n```\n\n## Step 6: Commit\n\n```bash\ngit add frontend/src/lib/components/dashboard/CalendarConnectionCard.svelte\ngit commit -m \"refactor(CalendarConnectionCard): use Badge component for CalDAV pill\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:21:02.0868489+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:40:10.377205388+01:00","closed_at":"2026-01-25T20:40:10.377205388+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-05r.4","depends_on_id":"meet-mesh-05r","type":"parent-child","created_at":"2026-01-25T20:21:02.089222412+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-05r.4","depends_on_id":"meet-mesh-05r.1","type":"blocks","created_at":"2026-01-25T20:21:20.354977833+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-05r.5","title":"Verify build and visual consistency","description":"## Purpose\n\nFinal verification that all changes compile correctly and maintain visual consistency.\n\n## Step 1: Run frontend type check\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\nExpected: No TypeScript errors\n\n## Step 2: Build frontend\n\n```bash\ncd frontend \u0026\u0026 pnpm build\n```\n\nExpected: Build succeeds with no errors\n\n## Step 3: Full project build\n\n```bash\nmake build\n```\n\nExpected: Single binary builds successfully\n\n## Step 4: Visual regression check\n\nStart the dev server and manually verify each location:\n\n1. **Booking detail page** (`/booking-links/{id}`)\n   - [ ] Type pill shows \"Booking\" in emerald/green\n   - [ ] Status pill shows correctly (Active/Cancelled)\n   - [ ] Both pills have consistent styling\n\n2. **Poll detail page** (`/polls/{id}`)\n   - [ ] Type pill shows \"Poll\" in violet\n   - [ ] Status pill shows correctly (Active/Cancelled)\n   - [ ] Both pills have consistent styling\n\n3. **Calendar connection card** (`/settings` or calendar page)\n   - [ ] CalDAV pill shows in emerald/green\n   - [ ] Pill is smaller (xs size)\n   - [ ] Consistent border styling\n\n## Step 5: Final commit (if any fixes needed)\n\n```bash\ngit add -A\ngit commit -m \"fix: address visual consistency issues in Badge component\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:21:10.912413633+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:41:16.821263597+01:00","closed_at":"2026-01-25T20:41:16.821263597+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-05r.5","depends_on_id":"meet-mesh-05r","type":"parent-child","created_at":"2026-01-25T20:21:10.915064196+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-05r.5","depends_on_id":"meet-mesh-05r.2","type":"blocks","created_at":"2026-01-25T20:21:20.447245381+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-05r.5","depends_on_id":"meet-mesh-05r.3","type":"blocks","created_at":"2026-01-25T20:21:20.535230089+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-05r.5","depends_on_id":"meet-mesh-05r.4","type":"blocks","created_at":"2026-01-25T20:21:20.622545112+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-0lr","title":"Meeting Link per Booking Link","description":"# Meeting Link per Booking Link - Implementation Plan\n\n**Goal:** Add an optional meeting link field (e.g., Zoom, Google Meet) to booking links, which gets included in calendar events and ICS files.\n\n**Architecture:** Add a single optional `meeting_link` field to the `BookingLink` model, OpenAPI schema, and frontend forms. Propagate the value to calendar events via the existing `EventTemplate` location field pattern, and include it in any ICS downloads.\n\n**Tech Stack:** Go, ogen (OpenAPI codegen), GORM, SQLite, SvelteKit (Svelte 5), Tailwind CSS v4\n\n---\n\n## Overview\n\nThis feature adds an optional meeting link field to booking links that:\n1. Can be set by the organizer when creating/editing a booking link\n2. Gets added to the calendar event description and/or location when a booking is confirmed\n3. Gets included in ICS file downloads (if that feature exists)\n\nThe implementation follows the existing pattern used by `EventTemplate.Location`.\n\n## Key Design Decisions\n\n1. **Store at BookingLink level** - The meeting link is the same for all bookings on a given booking link\n2. **Reuse existing template expansion** - Add `{{meeting_link}}` as a template variable\n3. **Optional field** - Not all booking links need a meeting link\n4. **Simple URL string** - No validation of meeting platform, just a URL field","status":"open","priority":2,"issue_type":"epic","owner":"k@knt.li","created_at":"2026-01-26T14:50:59.491682273+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:50:59.491682273+01:00","labels":["backend","feature","frontend"]}
{"id":"meet-mesh-0lr.1","title":"Task 1: Add meeting_link field to OpenAPI spec","description":"### Task 1: Add meeting_link field to OpenAPI spec\n\n**Files:**\n- Modify: `/home/konrad/www/meet-mesh/api/openapi.yaml`\n\n**Step 1: Add meeting_link to BookingLink schema**\n\nIn \\`/home/konrad/www/meet-mesh/api/openapi.yaml\\`, find the \\`BookingLink\\` schema (around line 180) and add the \\`meeting_link\\` property after \\`event_template\\`:\n\n\\`\\`\\`yaml\n    BookingLink:\n      type: object\n      required: [id, slug, name, status]\n      properties:\n        # ... existing properties ...\n        event_template:\n          \\$ref: '#/components/schemas/EventTemplate'\n        meeting_link:\n          type: string\n          description: Optional meeting link (e.g., Zoom, Google Meet URL) to include in calendar events\n        created_at:\n          type: string\n          format: date-time\n\\`\\`\\`\n\n**Step 2: Add meeting_link to CreateBookingLinkReq**\n\nFind the \\`createBookingLink\\` POST request body (around line 560) and add:\n\n\\`\\`\\`yaml\n                meeting_link:\n                  type: string\n                  description: Optional meeting link URL\n\\`\\`\\`\n\n**Step 3: Add meeting_link to UpdateBookingLinkReq**\n\nFind the \\`updateBookingLink\\` PUT request body (around line 630) and add:\n\n\\`\\`\\`yaml\n                meeting_link:\n                  type: string\n                  description: Optional meeting link URL\n\\`\\`\\`\n\n**Step 4: Verify changes**\n\nRun: \\`head -n 250 api/openapi.yaml | tail -n 100\\`\nExpected: See meeting_link field in BookingLink schema\n\n**Step 5: Commit**\n\n\\`\\`\\`bash\ngit add api/openapi.yaml\ngit commit -m \"feat(api): add meeting_link field to BookingLink schema\"\n\\`\\`\\`","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:52:27.108805911+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:52:27.108805911+01:00","labels":["backend"],"dependencies":[{"issue_id":"meet-mesh-0lr.1","depends_on_id":"meet-mesh-0lr","type":"parent-child","created_at":"2026-01-26T14:52:27.111367661+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-0lr.10","title":"Task 10: Include Meeting Link in confirmation emails","description":"### Task 10: Include Meeting Link in confirmation emails\n\n**Files:**\n- Modify: \\`/home/konrad/www/meet-mesh/api/mailer.go\\`\n\n**Step 1: Update SendBookingConfirmation to accept meeting link**\n\nIn \\`/home/konrad/www/meet-mesh/api/mailer.go\\`, update the \\`SendBookingConfirmation\\` function (around line 52) to include the meeting link in the template data:\n\n\\`\\`\\`go\n// SendBookingConfirmation sends confirmation to guest\nfunc (m *Mailer) SendBookingConfirmation(booking *Booking, link *BookingLink) error {\n    body := m.renderTemplate(\"booking_confirmed_guest\", map[string]any{\n        \"LinkName\":    link.Name,\n        \"GuestName\":   booking.GuestName,\n        \"Time\":        booking.Slot.StartTime.Format(\"Monday, January 2 at 3:04 PM\"),\n        \"MeetingLink\": link.MeetingLink,  // ADD THIS LINE\n    })\n    return m.send(booking.GuestEmail, \"Booking Confirmed: \"+link.Name, body)\n}\n\\`\\`\\`\n\n**Step 2: Update SendBookingApproved similarly**\n\nUpdate \\`SendBookingApproved\\` (around line 81):\n\n\\`\\`\\`go\n// SendBookingApproved sends approval notification to guest\nfunc (m *Mailer) SendBookingApproved(booking *Booking, link *BookingLink) error {\n    body := m.renderTemplate(\"booking_approved\", map[string]any{\n        \"LinkName\":    link.Name,\n        \"GuestName\":   booking.GuestName,\n        \"Time\":        booking.Slot.StartTime.Format(\"Monday, January 2 at 3:04 PM\"),\n        \"MeetingLink\": link.MeetingLink,  // ADD THIS LINE\n    })\n    return m.send(booking.GuestEmail, \"Booking Approved: \"+link.Name, body)\n}\n\\`\\`\\`\n\n**Step 3: Update email templates**\n\nFind the \\`emailTemplates\\` const (around line 115). Update the templates to include meeting link:\n\nFor \\`booking_confirmed_guest\\`:\n\\`\\`\\`html\n{{define \"booking_confirmed_guest\"}}\n\u003chtml\u003e\n\u003cbody\u003e\n\u003ch1\u003eBooking Confirmed!\u003c/h1\u003e\n\u003cp\u003eHi {{.GuestName}},\u003c/p\u003e\n\u003cp\u003eYour booking for \u003cstrong\u003e{{.LinkName}}\u003c/strong\u003e has been confirmed.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eWhen:\u003c/strong\u003e {{.Time}}\u003c/p\u003e\n{{if .MeetingLink}}\n\u003cp\u003e\u003cstrong\u003eMeeting Link:\u003c/strong\u003e \u003ca href=\"{{.MeetingLink}}\"\u003e{{.MeetingLink}}\u003c/a\u003e\u003c/p\u003e\n{{end}}\n\u003c/body\u003e\n\u003c/html\u003e\n{{end}}\n\\`\\`\\`\n\nFor \\`booking_approved\\`:\n\\`\\`\\`html\n{{define \"booking_approved\"}}\n\u003chtml\u003e\n\u003cbody\u003e\n\u003ch1\u003eBooking Approved!\u003c/h1\u003e\n\u003cp\u003eHi {{.GuestName}},\u003c/p\u003e\n\u003cp\u003eGreat news! Your booking for \u003cstrong\u003e{{.LinkName}}\u003c/strong\u003e has been approved.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eWhen:\u003c/strong\u003e {{.Time}}\u003c/p\u003e\n{{if .MeetingLink}}\n\u003cp\u003e\u003cstrong\u003eMeeting Link:\u003c/strong\u003e \u003ca href=\"{{.MeetingLink}}\"\u003e{{.MeetingLink}}\u003c/a\u003e\u003c/p\u003e\n{{end}}\n\u003c/body\u003e\n\u003c/html\u003e\n{{end}}\n\\`\\`\\`\n\n**Step 4: Verify build**\n\nRun: \\`cd /home/konrad/www/meet-mesh/api \u0026\u0026 go build ./...\\`\nExpected: Build succeeds\n\n**Step 5: Commit**\n\n\\`\\`\\`bash\ngit add api/mailer.go\ngit commit -m \"feat(api): include meeting link in booking confirmation emails\"\n\\`\\`\\`","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:55:18.091057562+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:55:18.091057562+01:00","labels":["backend"],"dependencies":[{"issue_id":"meet-mesh-0lr.10","depends_on_id":"meet-mesh-0lr","type":"parent-child","created_at":"2026-01-26T14:55:18.093965007+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-0lr.11","title":"Task 11: End-to-end manual test","description":"### Task 11: End-to-end manual test\n\n**Purpose:** Verify the complete feature works end-to-end\n\n**Prerequisites:**\n- Backend running: \\`cd /home/konrad/www/meet-mesh/api \u0026\u0026 go run ./cmd\\`\n- Frontend running: \\`cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm dev\\`\n- CalDAV configured (optional but recommended)\n- SMTP configured (optional - can check logs for email content)\n\n**Test Cases:**\n\n**Test 1: Create booking link with meeting link**\n1. Log in to dashboard\n2. Navigate to /booking-links/new\n3. Fill in:\n   - Name: \"Test Meeting with Zoom\"\n   - Meeting Link: \"https://zoom.us/j/123456789\"\n   - Availability: Mon-Fri 9-5\n4. Click Create\n5. Expected: Booking link created successfully\n\n**Test 2: Verify meeting link in detail view**\n1. Navigate to the booking link detail page\n2. Expected: Meeting link is displayed and clickable\n\n**Test 3: Edit meeting link**\n1. Click Edit on the booking link\n2. Change meeting link to \"https://meet.google.com/abc-defg-hij\"\n3. Save\n4. Expected: Meeting link updated\n\n**Test 4: Create a booking as guest**\n1. Open the public booking URL (e.g., /p/[slug])\n2. Select a time slot\n3. Fill in guest details\n4. Submit booking\n5. Expected: Booking created (pending or confirmed based on auto_confirm setting)\n\n**Test 5: Verify calendar event (if CalDAV configured)**\n1. Approve the booking (if not auto-confirmed)\n2. Check the CalDAV calendar\n3. Expected: Event includes meeting link in description and/or location\n\n**Test 6: Verify email (if SMTP configured or check logs)**\n1. Check the confirmation email sent to guest\n2. Expected: Email includes meeting link\n\n**Test 7: Booking link without meeting link**\n1. Create a booking link without a meeting link\n2. Create a booking\n3. Expected: Works normally, no meeting link in calendar/email\n\n**After all tests pass:**\n\n\\`\\`\\`bash\ngit status  # Should show all committed\necho \"Feature complete!\"\n\\`\\`\\`","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:55:30.677284988+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:55:30.677284988+01:00","labels":["testing"],"dependencies":[{"issue_id":"meet-mesh-0lr.11","depends_on_id":"meet-mesh-0lr","type":"parent-child","created_at":"2026-01-26T14:55:30.680087831+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-0lr.2","title":"Task 2: Regenerate Go code and add model field","description":"### Task 2: Regenerate Go code and add model field\n\n**Files:**\n- Modify: \\`/home/konrad/www/meet-mesh/api/models.go\\`\n- Regenerate: \\`/home/konrad/www/meet-mesh/api/gen/\\` (auto-generated)\n\n**Step 1: Regenerate Go types from OpenAPI**\n\nRun: \\`make generate\\`\nExpected: Successful code generation with new MeetingLink field in gen/oas_schemas_gen.go\n\n**Step 2: Verify generation**\n\nRun: \\`grep -n \"MeetingLink\" api/gen/oas_schemas_gen.go | head -5\\`\nExpected: Shows MeetingLink field in BookingLink struct\n\n**Step 3: Add MeetingLink field to GORM model**\n\nIn \\`/home/konrad/www/meet-mesh/api/models.go\\`, find the \\`BookingLink\\` struct (around line 94) and add the field after \\`EventTemplate\\`:\n\n\\`\\`\\`go\ntype BookingLink struct {\n    ID                  uint               \\`gorm:\"primaryKey\"\\`\n    UserID              uint               \\`gorm:\"index;not null\"\\`\n    Slug                string             \\`gorm:\"uniqueIndex;not null\"\\`\n    Name                string             \\`gorm:\"not null\"\\`\n    Description         string\n    Status              LinkStatus         \\`gorm:\"not null;default:1\"\\`\n    AutoConfirm         bool\n    SlotDurationMinutes int                \\`gorm:\"not null;default:30\"\\`\n    BufferMinutes       int                \\`gorm:\"not null;default:0\"\\`\n    AvailabilityRules   []AvailabilityRule \\`gorm:\"serializer:json\"\\`\n    RequireEmail        bool\n    CustomFields        []CustomField      \\`gorm:\"serializer:json\"\\`\n    EventTemplate       *EventTemplate     \\`gorm:\"serializer:json\"\\`\n    MeetingLink         string             // Optional meeting URL (Zoom, Meet, etc.)\n    CreatedAt           time.Time\n    UpdatedAt           time.Time\n    Bookings            []Booking          \\`gorm:\"foreignKey:BookingLinkID\"\\`\n}\n\\`\\`\\`\n\n**Step 4: Verify build**\n\nRun: \\`cd /home/konrad/www/meet-mesh/api \u0026\u0026 go build ./...\\`\nExpected: Build succeeds\n\n**Step 5: Commit**\n\n\\`\\`\\`bash\ngit add api/models.go api/gen/\ngit commit -m \"feat(api): add MeetingLink field to BookingLink model\n\n- Regenerate Go code from OpenAPI spec\n- Add MeetingLink string field to GORM model\"\n\\`\\`\\`","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:52:45.987699575+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:52:45.987699575+01:00","labels":["backend"],"dependencies":[{"issue_id":"meet-mesh-0lr.2","depends_on_id":"meet-mesh-0lr","type":"parent-child","created_at":"2026-01-26T14:52:45.990650059+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-0lr.3","title":"Task 3: Update handler mappings for MeetingLink","description":"### Task 3: Update handler mappings for MeetingLink\n\n**Files:**\n- Modify: \\`/home/konrad/www/meet-mesh/api/handler_booking_links.go\\`\n\n**Step 1: Update CreateBookingLink handler**\n\nIn \\`/home/konrad/www/meet-mesh/api/handler_booking_links.go\\`, find \\`CreateBookingLink\\` function (around line 25). Add MeetingLink to the struct initialization (after EventTemplate):\n\n\\`\\`\\`go\n// CreateBookingLink creates a new booking link\nfunc (h *Handler) CreateBookingLink(ctx context.Context, req *gen.CreateBookingLinkReq) (*gen.BookingLink, error) {\n    userID, _ := GetUserID(ctx)\n\n    // ... existing code for slotDuration and bufferMinutes ...\n\n    link := BookingLink{\n        UserID:              userID,\n        Slug:                generateSlug(),\n        Name:                req.Name,\n        Description:         req.Description.Value,\n        Status:              LinkStatusActive,\n        AutoConfirm:         req.AutoConfirm.Value,\n        SlotDurationMinutes: slotDuration,\n        BufferMinutes:       bufferMinutes,\n        RequireEmail:        req.RequireEmail.Value,\n        AvailabilityRules:   mapAvailabilityRulesFromGen(req.AvailabilityRules),\n        CustomFields:        mapCustomFieldsFromGen(req.CustomFields),\n        EventTemplate:       mapEventTemplateFromGen(req.EventTemplate),\n        MeetingLink:         req.MeetingLink.Value,  // ADD THIS LINE\n    }\n    // ... rest of function ...\n}\n\\`\\`\\`\n\n**Step 2: Update UpdateBookingLink handler**\n\nIn the same file, find \\`UpdateBookingLink\\` function (around line 74). Add handling for MeetingLink after EventTemplate handling:\n\n\\`\\`\\`go\n    if req.EventTemplate.Set {\n        link.EventTemplate = mapEventTemplateFromGen(req.EventTemplate)\n    }\n    if req.MeetingLink.Set {\n        link.MeetingLink = req.MeetingLink.Value\n    }\n\\`\\`\\`\n\n**Step 3: Update mapBookingLinkToGen function**\n\nFind \\`mapBookingLinkToGen\\` function (around line 160). Add MeetingLink to the returned struct (after EventTemplate):\n\n\\`\\`\\`go\nfunc mapBookingLinkToGen(link *BookingLink) *gen.BookingLink {\n    return \u0026gen.BookingLink{\n        ID:                  int(link.ID),\n        Slug:                link.Slug,\n        Name:                link.Name,\n        Description:         gen.NewOptString(link.Description),\n        Status:              gen.LinkStatus(link.Status),\n        AutoConfirm:         gen.NewOptBool(link.AutoConfirm),\n        SlotDurationMinutes: gen.NewOptInt(link.SlotDurationMinutes),\n        BufferMinutes:       gen.NewOptInt(link.BufferMinutes),\n        RequireEmail:        gen.NewOptBool(link.RequireEmail),\n        AvailabilityRules:   mapAvailabilityRulesToGen(link.AvailabilityRules),\n        CustomFields:        mapCustomFieldsToGen(link.CustomFields),\n        EventTemplate:       mapEventTemplateToGen(link.EventTemplate),\n        MeetingLink:         gen.NewOptString(link.MeetingLink),  // ADD THIS LINE\n        CreatedAt:           gen.NewOptDateTime(link.CreatedAt),\n    }\n}\n\\`\\`\\`\n\n**Step 4: Verify build**\n\nRun: \\`cd /home/konrad/www/meet-mesh/api \u0026\u0026 go build ./...\\`\nExpected: Build succeeds with no errors\n\n**Step 5: Commit**\n\n\\`\\`\\`bash\ngit add api/handler_booking_links.go\ngit commit -m \"feat(api): wire MeetingLink field in booking link handlers\n\n- Handle MeetingLink in create and update operations\n- Map MeetingLink to/from generated types\"\n\\`\\`\\`","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:07.096864892+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:53:07.096864892+01:00","labels":["backend"],"dependencies":[{"issue_id":"meet-mesh-0lr.3","depends_on_id":"meet-mesh-0lr","type":"parent-child","created_at":"2026-01-26T14:53:07.099878563+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-0lr.4","title":"Task 4: Add meeting_link template variable to CalDAV events","description":"### Task 4: Add meeting_link template variable to CalDAV events\n\n**Files:**\n- Modify: \\`/home/konrad/www/meet-mesh/api/caldav.go\\`\n\n**Step 1: Update CreateBookingEvent signature**\n\nIn \\`/home/konrad/www/meet-mesh/api/caldav.go\\`, find the \\`CreateBookingEvent\\` function (around line 212). Update the signature to accept the meeting link:\n\n\\`\\`\\`go\n// CreateBookingEvent creates a calendar event for a confirmed booking\nfunc (c *CalDAVClient) CreateBookingEvent(ctx context.Context, userID uint, booking *Booking, slot *Slot, template *EventTemplate, meetingLink string) (string, error) {\n\\`\\`\\`\n\n**Step 2: Add meeting link to event description**\n\nIn the same function, after setting the description template (around line 240-242), add the meeting link:\n\n\\`\\`\\`go\n    if template != nil \u0026\u0026 template.DescriptionTemplate != \"\" {\n        desc := expandTemplate(template.DescriptionTemplate, booking)\n        if meetingLink != \"\" {\n            desc = desc + \"\\\\n\\\\nMeeting Link: \" + meetingLink\n        }\n        event.Props.SetText(ical.PropDescription, desc)\n    } else if meetingLink != \"\" {\n        event.Props.SetText(ical.PropDescription, \"Meeting Link: \" + meetingLink)\n    }\n\n    // Use meeting link as location if no location template is set\n    if template != nil \u0026\u0026 template.Location != \"\" {\n        event.Props.SetText(ical.PropLocation, template.Location)\n    } else if meetingLink != \"\" {\n        event.Props.SetText(ical.PropLocation, meetingLink)\n    }\n\\`\\`\\`\n\n**Step 3: Update expandTemplate to support meeting_link**\n\nFind the \\`expandTemplate\\` function (around line 292). Add support for \\`{{meeting_link}}\\`:\n\n\\`\\`\\`go\nfunc expandTemplate(template string, booking *Booking) string {\n    // Simple template expansion\n    result := template\n    if booking != nil {\n        result = strings.ReplaceAll(result, \"{{guest_name}}\", booking.GuestName)\n        result = strings.ReplaceAll(result, \"{{guest_email}}\", booking.GuestEmail)\n    }\n    return result\n}\n\\`\\`\\`\n\nNote: The meeting link is appended separately, not via template expansion, since it's passed directly to \\`CreateBookingEvent\\`.\n\n**Step 4: Verify build**\n\nRun: \\`cd /home/konrad/www/meet-mesh/api \u0026\u0026 go build ./...\\`\nExpected: Build fails because callers need to be updated (this is expected)\n\n**Step 5: Commit (partial - will need caller updates)**\n\nDo NOT commit yet - the callers need to be updated first. This will be done in the next task.","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:20.23294229+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:53:20.23294229+01:00","labels":["backend"],"dependencies":[{"issue_id":"meet-mesh-0lr.4","depends_on_id":"meet-mesh-0lr","type":"parent-child","created_at":"2026-01-26T14:53:20.235367181+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-0lr.5","title":"Task 5: Update CalDAV callers to pass MeetingLink","description":"### Task 5: Update CalDAV callers to pass MeetingLink\n\n**Files:**\n- Modify: \\`/home/konrad/www/meet-mesh/api/handler_bookings.go\\`\n- Modify: \\`/home/konrad/www/meet-mesh/api/handler_actions.go\\`\n- Modify: \\`/home/konrad/www/meet-mesh/api/handler_public_booking.go\\`\n\n**Step 1: Update handler_bookings.go**\n\nIn \\`/home/konrad/www/meet-mesh/api/handler_bookings.go\\`, find \\`ApproveBooking\\` (around line 42). Update the \\`CreateBookingEvent\\` call:\n\n\\`\\`\\`go\n    // Create calendar event\n    if h.caldav != nil {\n        h.caldav.CreateBookingEvent(ctx, booking.BookingLink.UserID, \u0026booking, \u0026booking.Slot, booking.BookingLink.EventTemplate, booking.BookingLink.MeetingLink)\n    }\n\\`\\`\\`\n\n**Step 2: Update handler_actions.go**\n\nIn \\`/home/konrad/www/meet-mesh/api/handler_actions.go\\`, find where \\`CreateBookingEvent\\` is called (around line 43). Update the call:\n\n\\`\\`\\`go\n        h.caldav.CreateBookingEvent(ctx, booking.BookingLink.UserID, \u0026booking, \u0026booking.Slot, booking.BookingLink.EventTemplate, booking.BookingLink.MeetingLink)\n\\`\\`\\`\n\n**Step 3: Update handler_public_booking.go**\n\nIn \\`/home/konrad/www/meet-mesh/api/handler_public_booking.go\\`, find \\`CreateBooking\\` function (around line 234). Update the \\`CreateBookingEvent\\` call:\n\n\\`\\`\\`go\n        // Create calendar event\n        if h.caldav != nil {\n            h.caldav.CreateBookingEvent(ctx, link.UserID, \u0026booking, \u0026slot, link.EventTemplate, link.MeetingLink)\n        }\n\\`\\`\\`\n\n**Step 4: Verify build**\n\nRun: \\`cd /home/konrad/www/meet-mesh/api \u0026\u0026 go build ./...\\`\nExpected: Build succeeds\n\n**Step 5: Commit**\n\n\\`\\`\\`bash\ngit add api/caldav.go api/handler_bookings.go api/handler_actions.go api/handler_public_booking.go\ngit commit -m \"feat(api): include meeting link in calendar events\n\n- Add meetingLink parameter to CreateBookingEvent\n- Add meeting link to event description and location\n- Update all callers to pass meeting link from booking link\"\n\\`\\`\\`","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:33.625746344+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:53:33.625746344+01:00","labels":["backend"],"dependencies":[{"issue_id":"meet-mesh-0lr.5","depends_on_id":"meet-mesh-0lr","type":"parent-child","created_at":"2026-01-26T14:53:33.62850676+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-0lr.6","title":"Task 6: Regenerate frontend TypeScript types","description":"### Task 6: Regenerate frontend TypeScript types\n\n**Files:**\n- Regenerate: \\`/home/konrad/www/meet-mesh/frontend/src/lib/api/generated/\\`\n\n**Step 1: Regenerate TypeScript types from OpenAPI**\n\nRun: \\`cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm generate:api\\`\nExpected: Types regenerated successfully\n\n**Step 2: Verify the new field exists**\n\nRun: \\`grep -n \"meeting_link\" frontend/src/lib/api/generated/schema.d.ts\\`\nExpected: Shows meeting_link field in BookingLink type (should appear 3 times - in BookingLink, CreateBookingLinkReq body, UpdateBookingLinkReq body)\n\n**Step 3: Verify TypeScript compiles**\n\nRun: \\`cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check\\`\nExpected: Type check passes (frontend forms not updated yet, but types should compile)\n\n**Step 4: Commit**\n\n\\`\\`\\`bash\ngit add frontend/src/lib/api/generated/\ngit commit -m \"chore(frontend): regenerate API types with meeting_link field\"\n\\`\\`\\`","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:46.426861515+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:53:46.426861515+01:00","labels":["frontend"],"dependencies":[{"issue_id":"meet-mesh-0lr.6","depends_on_id":"meet-mesh-0lr","type":"parent-child","created_at":"2026-01-26T14:53:46.429402367+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-0lr.7","title":"Task 7: Add Meeting Link field to booking link create form","description":"### Task 7: Add Meeting Link field to booking link create form\n\n**Files:**\n- Modify: \\`/home/konrad/www/meet-mesh/frontend/src/routes/(dashboard)/booking-links/new/+page.svelte\\`\n\n**Step 1: Add meetingLink state variable**\n\nFind the state variables section (around line 13-22). Add after \\`availabilityRules\\`:\n\n\\`\\`\\`typescript\nlet meetingLink = \\$state('');\n\\`\\`\\`\n\n**Step 2: Add the Meeting Link input field to the form**\n\nFind the Slot Duration \u0026 Buffer section (around line 128-141). Add the Meeting Link input after the buffer time, before the Availability section:\n\n\\`\\`\\`svelte\n            \u003c!-- Meeting Link --\u003e\n            \u003cdiv class=\"col-span-2\"\u003e\n                \u003cInput\n                    label=\"Meeting Link (optional)\"\n                    name=\"meetingLink\"\n                    type=\"url\"\n                    bind:value={meetingLink}\n                    placeholder=\"https://zoom.us/j/... or https://meet.google.com/...\"\n                /\u003e\n                \u003cp class=\"mt-1 text-sm text-gray-500 dark:text-gray-400\"\u003e\n                    Optional video call link to include in calendar invites\n                \u003c/p\u003e\n            \u003c/div\u003e\n\\`\\`\\`\n\n**Step 3: Include meetingLink in the API call**\n\nFind the \\`handleSubmit\\` function (around line 73). Update the body to include \\`meeting_link\\`:\n\n\\`\\`\\`typescript\n            const { data, error: apiError } = await api.POST('/booking-links', {\n                body: {\n                    name,\n                    description: description || undefined,\n                    slot_duration_minutes: Number(slotDurationMinutes),\n                    buffer_minutes: Number(bufferMinutes),\n                    meeting_link: meetingLink || undefined,  // ADD THIS LINE\n                    availability_rules: availabilityRules.length \u003e 0 ? availabilityRules : undefined,\n                    custom_fields: customFields.length \u003e 0 ? customFields : undefined\n                }\n            });\n\\`\\`\\`\n\n**Step 4: Verify build**\n\nRun: \\`cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check\\`\nExpected: Type check passes\n\n**Step 5: Manual test**\n\n1. Start the dev server: \\`cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm dev\\`\n2. Navigate to /booking-links/new\n3. Verify the Meeting Link field appears below Buffer Time\n4. Enter a URL and create a booking link\n5. Verify the link is saved (check via API or edit page)\n\n**Step 6: Commit**\n\n\\`\\`\\`bash\ngit add frontend/src/routes/\\\\(dashboard\\\\)/booking-links/new/+page.svelte\ngit commit -m \"feat(frontend): add meeting link field to create booking link form\"\n\\`\\`\\`","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:54:27.695609966+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:54:27.695609966+01:00","labels":["frontend"],"dependencies":[{"issue_id":"meet-mesh-0lr.7","depends_on_id":"meet-mesh-0lr","type":"parent-child","created_at":"2026-01-26T14:54:27.698439151+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-0lr.8","title":"Task 8: Add Meeting Link field to booking link edit form","description":"### Task 8: Add Meeting Link field to booking link edit form\n\n**Files:**\n- Modify: \\`/home/konrad/www/meet-mesh/frontend/src/routes/(dashboard)/booking-links/[id]/edit/+page.svelte\\`\n\n**Step 1: Add meetingLink state variable**\n\nFind the state variables section (around line 17-27). Add after \\`availabilityRules\\`:\n\n\\`\\`\\`typescript\nlet meetingLink = \\$state('');\n\\`\\`\\`\n\n**Step 2: Initialize meetingLink from loaded data**\n\nIn the \\`onMount\\` callback (around line 61-85), add after setting \\`availabilityRules\\`:\n\n\\`\\`\\`typescript\n            meetingLink = data.meeting_link || '';\n\\`\\`\\`\n\n**Step 3: Add the Meeting Link input field to the form**\n\nFind the Slot Duration \u0026 Buffer section (around line 174-188). Add the Meeting Link input after the buffer time, within the grid but as a full-width field:\n\n\\`\\`\\`svelte\n            \u003c!-- Meeting Link --\u003e\n            \u003cdiv class=\"col-span-2\"\u003e\n                \u003cInput\n                    label=\"Meeting Link (optional)\"\n                    name=\"meetingLink\"\n                    type=\"url\"\n                    bind:value={meetingLink}\n                    placeholder=\"https://zoom.us/j/... or https://meet.google.com/...\"\n                /\u003e\n                \u003cp class=\"mt-1 text-sm text-gray-500 dark:text-gray-400\"\u003e\n                    Optional video call link to include in calendar invites\n                \u003c/p\u003e\n            \u003c/div\u003e\n\\`\\`\\`\n\n**Step 4: Include meetingLink in the API call**\n\nFind the \\`handleSubmit\\` function (around line 111). Update the body to include \\`meeting_link\\`:\n\n\\`\\`\\`typescript\n            const { data, error: apiError } = await api.PUT('/booking-links/{id}', {\n                params: { path: { id: linkId } },\n                body: {\n                    name,\n                    status: Number(status) as LinkStatus,\n                    description: description || undefined,\n                    slot_duration_minutes: Number(slotDurationMinutes),\n                    buffer_minutes: Number(bufferMinutes),\n                    meeting_link: meetingLink || undefined,  // ADD THIS LINE\n                    availability_rules: availabilityRules.length \u003e 0 ? availabilityRules : undefined,\n                    custom_fields: customFields.length \u003e 0 ? customFields : undefined\n                }\n            });\n\\`\\`\\`\n\n**Step 5: Verify build**\n\nRun: \\`cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check\\`\nExpected: Type check passes\n\n**Step 6: Manual test**\n\n1. Navigate to an existing booking link edit page\n2. Verify the Meeting Link field appears and shows the saved value (if any)\n3. Update the meeting link and save\n4. Verify the change is persisted\n\n**Step 7: Commit**\n\n\\`\\`\\`bash\ngit add frontend/src/routes/\\\\(dashboard\\\\)/booking-links/\\\\[id\\\\]/edit/+page.svelte\ngit commit -m \"feat(frontend): add meeting link field to edit booking link form\"\n\\`\\`\\`","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:54:40.329094417+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:54:40.329094417+01:00","labels":["frontend"],"dependencies":[{"issue_id":"meet-mesh-0lr.8","depends_on_id":"meet-mesh-0lr","type":"parent-child","created_at":"2026-01-26T14:54:40.332335038+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-0lr.9","title":"Task 9: Display Meeting Link on booking link detail page","description":"### Task 9: Display Meeting Link on booking link detail page\n\n**Files:**\n- Modify: \\`/home/konrad/www/meet-mesh/frontend/src/routes/(dashboard)/booking-links/[id]/+page.svelte\\`\n\n**Step 1: Read the file to understand current structure**\n\nRun: \\`head -100 frontend/src/routes/\\\\(dashboard\\\\)/booking-links/\\\\[id\\\\]/+page.svelte\\`\nExpected: Understand the page structure and where to add meeting link display\n\n**Step 2: Add Meeting Link display**\n\nFind the section where booking link details are displayed (likely in a card or info section). Add a display for the meeting link:\n\n\\`\\`\\`svelte\n{#if link.meeting_link}\n    \u003cdiv class=\"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400\"\u003e\n        \u003csvg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"\u003e\n            \u003cpath stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\" /\u003e\n        \u003c/svg\u003e\n        \u003ca href={link.meeting_link} target=\"_blank\" rel=\"noopener noreferrer\" class=\"text-indigo-600 dark:text-indigo-400 hover:underline\"\u003e\n            Meeting Link\n        \u003c/a\u003e\n    \u003c/div\u003e\n{/if}\n\\`\\`\\`\n\n**Step 3: Verify build**\n\nRun: \\`cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check\\`\nExpected: Type check passes\n\n**Step 4: Manual test**\n\n1. Create or edit a booking link with a meeting link\n2. Navigate to the booking link detail page\n3. Verify the meeting link is displayed (or hidden if not set)\n\n**Step 5: Commit**\n\n\\`\\`\\`bash\ngit add frontend/src/routes/\\\\(dashboard\\\\)/booking-links/\\\\[id\\\\]/+page.svelte\ngit commit -m \"feat(frontend): display meeting link on booking link detail page\"\n\\`\\`\\`","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:54:53.942225284+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:54:53.942225284+01:00","labels":["frontend"],"dependencies":[{"issue_id":"meet-mesh-0lr.9","depends_on_id":"meet-mesh-0lr","type":"parent-child","created_at":"2026-01-26T14:54:53.944904776+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-27q","title":"Form Element Styling Consistency","description":"Make input, textarea, checkbox, and select elements use consistent styling. The Input.svelte component has the reference style - all other form elements should match it.\n\n**Reference Style (Input.svelte):**\n- border-2 border-[var(--border-color)] (2px border using CSS variable)\n- bg-[var(--bg-secondary)] (CSS variable background)\n- rounded-[var(--radius)] (8px radius)\n- min-h-[44px] (mobile-friendly touch target)\n- text-[var(--text-primary)] (CSS variable text color)\n- placeholder:text-[var(--text-muted)] (CSS variable placeholder)\n- focus:ring-2 focus:ring-[var(--sky)] (sky color focus ring)\n- Label: text-[var(--text-secondary)] font-medium\n\n**Issues Found:**\n\n1. **Textarea** - No component exists, uses hardcoded gray colors, 1px border, no dark mode\n2. **Select** - Uses 1px border (should be 2px), label uses wrong color\n3. **Checkbox** - Uses focus outline instead of ring, otherwise good","status":"closed","priority":2,"issue_type":"epic","owner":"k@knt.li","created_at":"2026-01-25T20:21:04.188889462+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:41:28.055352113+01:00","closed_at":"2026-01-25T20:41:28.055352113+01:00","close_reason":"Closed"}
{"id":"meet-mesh-27q.1","title":"Create Textarea.svelte component with consistent styling","description":"Create a new Textarea.svelte component in frontend/src/lib/components/ui/ matching Input.svelte styling.\n\n**Files:**\n- Create: `frontend/src/lib/components/ui/Textarea.svelte`\n\n**Step 1: Create Textarea.svelte**\n\nThe component should have:\n- Same props pattern as Input: label, name, value (bindable), placeholder, error, description, required, disabled, rows\n- Wrapper: `\u003cdiv class=\"space-y-1.5 {className}\"\u003e`\n- Label: `text-sm font-medium text-[var(--text-secondary)]` with red asterisk if required\n- Description: `text-sm text-[var(--text-muted)]`\n- Textarea element classes:\n  ```\n  block w-full min-h-[100px] rounded-[var(--radius)] border-2 border-[var(--border-color)] bg-[var(--bg-secondary)] px-3 py-2.5 sm:py-2 text-base sm:text-sm text-[var(--text-primary)] placeholder:text-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-[var(--sky)] disabled:cursor-not-allowed disabled:opacity-50\n  ```\n- Error state: `border-red-500 focus:border-red-500 focus:ring-red-500`\n- Error message: `text-sm text-red-600`\n\n**Step 2: Export from index**\n\nAdd export in `frontend/src/lib/components/ui/index.ts` if it exists, or verify component can be imported directly.\n\n**Step 3: Commit**\n\n```bash\ngit add frontend/src/lib/components/ui/Textarea.svelte\ngit commit -m \"feat(ui): add Textarea component with consistent styling\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:21:14.701326775+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:37:04.460924626+01:00","closed_at":"2026-01-25T20:37:04.460924626+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-27q.1","depends_on_id":"meet-mesh-27q","type":"parent-child","created_at":"2026-01-25T20:21:14.703806418+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-27q.2","title":"Replace inline textareas with Textarea component","description":"Replace all inline textarea elements with the new Textarea component.\n\n**Files:**\n- Modify: `frontend/src/routes/(dashboard)/polls/new/+page.svelte:96-106`\n- Modify: `frontend/src/routes/(dashboard)/booking-links/new/+page.svelte`\n- Modify: `frontend/src/routes/(dashboard)/polls/[id]/edit/+page.svelte`\n- Modify: `frontend/src/routes/(dashboard)/booking-links/[id]/edit/+page.svelte`\n- Modify: `frontend/src/lib/components/booking/BookingForm.svelte:110-125`\n\n**Step 1: Update polls/new/+page.svelte**\n\nImport and replace:\n```svelte\n\u003cscript\u003e\nimport { Textarea } from '$lib/components/ui/Textarea.svelte';\n\u003c/script\u003e\n\n\u003c!-- Replace the inline textarea div (lines 96-106) with: --\u003e\n\u003cTextarea\n  label=\"Description\"\n  name=\"description\"\n  bind:value={description}\n  rows={3}\n  placeholder=\"A brief description of this poll...\"\n/\u003e\n```\n\n**Step 2: Update booking-links/new/+page.svelte**\n\nSame pattern as Step 1.\n\n**Step 3: Update polls/[id]/edit/+page.svelte**\n\nSame pattern.\n\n**Step 4: Update booking-links/[id]/edit/+page.svelte**\n\nSame pattern.\n\n**Step 5: Update BookingForm.svelte**\n\nImport Textarea and replace the textarea block in the field rendering:\n```svelte\n{:else if field.type === 'textarea'}\n  \u003cTextarea\n    name={field.name}\n    label={field.label}\n    bind:value={customFieldValues[field.name]}\n    required={field.required}\n    rows={3}\n  /\u003e\n```\n\n**Step 6: Commit**\n\n```bash\ngit add -A\ngit commit -m \"refactor: replace inline textareas with Textarea component\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:21:24.578616091+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:40:10.45285568+01:00","closed_at":"2026-01-25T20:40:10.45285568+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-27q.2","depends_on_id":"meet-mesh-27q","type":"parent-child","created_at":"2026-01-25T20:21:24.582042678+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-27q.3","title":"Update Select.svelte to match Input styling","description":"Fix Select.svelte inconsistencies to match Input.svelte styling.\n\n**Files:**\n- Modify: `frontend/src/lib/components/ui/Select.svelte`\n\n**Changes needed:**\n\n1. **Label color** (line 36): Change from `text-[var(--text-primary)]` to `text-[var(--text-secondary)]` to match Input\n\n2. **Border width** (line 51): Change `border` to `border-2` in the Select.Trigger class\n\n3. **Border radius** (line 51): Change `rounded-[var(--radius-md)]` to `rounded-[var(--radius)]` in the Select.Trigger class\n\n**Step 1: Update label styling**\n\nLine 36, change:\n```svelte\n\u003c!-- From --\u003e\n\u003clabel for={selectId} class=\"block text-sm font-medium text-[var(--text-primary)]\"\u003e\n\n\u003c!-- To --\u003e\n\u003clabel for={selectId} class=\"block text-sm font-medium text-[var(--text-secondary)]\"\u003e\n```\n\n**Step 2: Update trigger border and radius**\n\nLine 51, in the Select.Trigger class string:\n- Change `border border-[var(--border-color)]` to `border-2 border-[var(--border-color)]`\n- Change `rounded-[var(--radius-md)]` to `rounded-[var(--radius)]`\n\n**Step 3: Commit**\n\n```bash\ngit add frontend/src/lib/components/ui/Select.svelte\ngit commit -m \"fix(ui): update Select styling to match Input component\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:21:32.868641202+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:37:04.537064986+01:00","closed_at":"2026-01-25T20:37:04.537064986+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-27q.3","depends_on_id":"meet-mesh-27q","type":"parent-child","created_at":"2026-01-25T20:21:32.870901233+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-27q.4","title":"Update Checkbox.svelte focus style to use ring","description":"Update Checkbox.svelte to use focus ring instead of outline for consistency with other form elements.\n\n**Files:**\n- Modify: `frontend/src/lib/components/ui/Checkbox.svelte`\n\n**Changes needed:**\n\nThe checkbox currently uses `outline` for focus state (lines 92-95):\n```css\n.checkbox:focus-visible {\n  outline: 2px solid var(--sky);\n  outline-offset: 2px;\n}\n```\n\nChange to use box-shadow to match the ring appearance:\n```css\n.checkbox:focus-visible {\n  outline: none;\n  box-shadow: 0 0 0 2px var(--bg-primary), 0 0 0 4px var(--sky);\n}\n```\n\nThis creates a focus ring effect that:\n- Uses `--bg-primary` as an offset (similar to Tailwind's ring-offset)\n- Uses `--sky` as the ring color (matching Input's focus:ring-[var(--sky)])\n\n**Step 1: Update focus-visible style**\n\nIn the `\u003cstyle\u003e` block, replace lines 92-95.\n\n**Step 2: Commit**\n\n```bash\ngit add frontend/src/lib/components/ui/Checkbox.svelte\ngit commit -m \"fix(ui): update Checkbox focus to use ring style\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:21:42.245378186+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:37:04.615096988+01:00","closed_at":"2026-01-25T20:37:04.615096988+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-27q.4","depends_on_id":"meet-mesh-27q","type":"parent-child","created_at":"2026-01-25T20:21:42.247971529+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-27q.5","title":"Visual verification and type checking","description":"Run type checks and manually verify styling consistency.\n\n**Step 1: Run TypeScript/Svelte type checking**\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\nExpected: No errors\n\n**Step 2: Run dev server and verify visually**\n\n```bash\ncd frontend \u0026\u0026 pnpm dev\n```\n\nPages to check:\n- /booking-links/new - has Input and Textarea\n- /polls/new - has Input, Textarea, and Checkbox\n- /settings/calendars - may have Select\n- Any page with forms\n\n**Verify for each form element:**\n- [ ] Same border width (2px)\n- [ ] Same border radius (8px)\n- [ ] Same background color\n- [ ] Same focus ring color (sky blue)\n- [ ] Same label color\n- [ ] Correct dark mode support\n\n**Step 3: Final commit if any fixes needed**\n\n```bash\ngit add -A\ngit commit -m \"fix(ui): final form element styling adjustments\"\n```\n\n**Step 4: Push changes**\n\n```bash\ngit push\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:21:50.308105633+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:41:16.917309177+01:00","closed_at":"2026-01-25T20:41:16.917309177+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-27q.5","depends_on_id":"meet-mesh-27q","type":"parent-child","created_at":"2026-01-25T20:21:50.310633675+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2gp","title":"Add Mailhog Service to devenv.sh Development Environment","description":"Add Mailhog as a local email testing service using devenv.sh's built-in support. This enables developers to catch and view all outgoing emails during local development.\n\n## Goal\nEnable local email testing by adding Mailhog to the development environment, allowing developers to see all emails sent by the application without configuring an external SMTP server.\n\n## Architecture\n- Use devenv.sh's built-in Mailhog service (services.mailhog.enable)\n- Configure the app's SMTP settings to use Mailhog's default ports (SMTP: 1025, UI: 8025)\n- Provide a development config example that works out-of-the-box\n\n## Tech Stack\n- devenv.sh services (Nix-based)\n- Mailhog (SMTP capture + web UI)","status":"open","priority":3,"issue_type":"epic","owner":"k@knt.li","created_at":"2026-01-26T16:33:13.116251226+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:33:13.116251226+01:00"}
{"id":"meet-mesh-2gp.1","title":"Enable Mailhog service in devenv.nix","description":"## Files\n- Modify: `/home/konrad/www/meet-mesh/devenv.nix`\n\n## Step 1: Add services block to devenv.nix\n\nOpen `devenv.nix` and add the services configuration after the languages block. The complete file should look like:\n\n```nix\n{ pkgs, lib, config, inputs, ... }:\n\nlet\n  unstable = import inputs.nixpkgs-unstable { system = pkgs.stdenv.system; };\n  beads = pkgs.buildGoModule {\n    pname = \"beads\";\n    version = \"0.47.1\";\n\n    src = pkgs.fetchFromGitHub {\n      owner = \"steveyegge\";\n      repo = \"beads\";\n      rev = \"v0.47.1\";\n      hash = \"sha256-DwIR/r1TJnpVd/CT1E2OTkAjU7k9/KHbcVwg5zziFVg=\";\n    };\n\n    vendorHash = \"sha256-pY5m5ODRgqghyELRwwxOr+xlW41gtJWLXaW53GlLaFw=\";\n\n    subPackages = [ \"cmd/bd\" ];\n\n    ldflags = [ \"-s\" \"-w\" ];\n\n    # Tests require git which isn't available in the Nix sandbox\n    doCheck = false;\n  };\nin\n{\n  packages = with pkgs; [\n    beads\n  ];\n\n  languages = {\n    javascript = {\n      enable = true;\n      pnpm.enable = true;\n    };\n\n    go = {\n      enable = true;\n      package = pkgs.go_1_25;\n    };\n  };\n\n  services.mailhog.enable = true;\n}\n```\n\n## Step 2: Verify the change compiles\n\nRun: `devenv shell -- echo 'devenv loaded successfully'`\nExpected: Shell loads without errors\n\n## Step 3: Test Mailhog starts\n\nRun: `devenv up` (in background or separate terminal)\nExpected: Mailhog service starts. Check with `curl -s http://127.0.0.1:8025/api/v2/messages | head`\n\n## Step 4: Commit\n\n```bash\ngit add devenv.nix\ngit commit -m 'feat(devenv): add Mailhog service for local email testing'\n```","status":"open","priority":3,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T16:33:31.797417805+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:33:31.797417805+01:00","dependencies":[{"issue_id":"meet-mesh-2gp.1","depends_on_id":"meet-mesh-2gp","type":"parent-child","created_at":"2026-01-26T16:33:31.800397144+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2gp.2","title":"Add development SMTP config example for Mailhog","description":"## Files\n- Modify: `/home/konrad/www/meet-mesh/config.example.yaml`\n\n## Step 1: Update config.example.yaml with Mailhog defaults\n\nUpdate the smtp section in `config.example.yaml` to include a comment explaining the Mailhog development defaults. Replace the entire smtp section:\n\n```yaml\n# SMTP Configuration\n# For local development with Mailhog (devenv up), use:\n#   host: localhost\n#   port: 1025\n#   username: \"\"     (leave empty - Mailhog doesn't require auth)\n#   password: \"\"     (leave empty)\n#   from: \"Meet Mesh \u003cnoreply@localhost\u003e\"\n# View emails at http://localhost:8025\nsmtp:\n  host: smtp.example.com\n  port: 587\n  username: meet-mesh@example.com\n  password: ${SMTP_PASSWORD}\n  from: \"Meet Mesh \u003cmeet-mesh@example.com\u003e\"\n```\n\n## Step 2: Commit\n\n```bash\ngit add config.example.yaml\ngit commit -m 'docs: add Mailhog SMTP config example in config.example.yaml'\n```","status":"open","priority":3,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T16:33:45.118510275+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:33:45.118510275+01:00","dependencies":[{"issue_id":"meet-mesh-2gp.2","depends_on_id":"meet-mesh-2gp","type":"parent-child","created_at":"2026-01-26T16:33:45.121031541+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2gp.3","title":"Create config.dev.yaml with Mailhog settings","description":"## Files\n- Create: `/home/konrad/www/meet-mesh/config.dev.yaml.example`\n\n## Step 1: Create a development config example file\n\nCreate `config.dev.yaml.example` with Mailhog-ready settings:\n\n```yaml\n# config.dev.yaml.example\n# Development configuration using Mailhog for email testing\n# Copy to config.yaml and adjust OIDC settings for your local setup\n#\n# Start services: devenv up\n# View emails: http://localhost:8025\n\nserver:\n  port: 9090\n  base_url: http://localhost:9090\n\ndatabase:\n  path: ./data/meet-mesh.db\n\noidc:\n  issuer: https://auth.example.com\n  client_id: meet-mesh\n  client_secret: ${OIDC_CLIENT_SECRET}\n  redirect_uri: http://localhost:9090/api/auth/callback\n\n# Mailhog SMTP settings (no authentication required)\nsmtp:\n  host: localhost\n  port: 1025\n  username: \"\"\n  password: \"\"\n  from: \"Meet Mesh \u003cnoreply@localhost\u003e\"\n```\n\n## Step 2: Add to .gitignore if not already covered\n\nCheck if `config.yaml` and `config.dev.yaml` are in `.gitignore`:\n`grep -E 'config\\.(yaml|dev\\.yaml)' .gitignore`\n\nIf not present, add them to prevent committing local configs with secrets.\n\n## Step 3: Commit\n\n```bash\ngit add config.dev.yaml.example\ngit commit -m 'feat: add config.dev.yaml.example with Mailhog SMTP settings'\n```","status":"open","priority":3,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T16:34:14.503190276+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:34:14.503190276+01:00","dependencies":[{"issue_id":"meet-mesh-2gp.3","depends_on_id":"meet-mesh-2gp","type":"parent-child","created_at":"2026-01-26T16:34:14.506735338+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2gp.4","title":"Update README with Mailhog development instructions","description":"## Files\n- Modify: `/home/konrad/www/meet-mesh/README.md`\n\n## Step 1: Add Mailhog section to Development instructions\n\nFind the Development section in README.md (around line 113) and add a subsection for email testing. Insert after the existing development terminal instructions:\n\n```markdown\n### Email Testing with Mailhog\n\nThe development environment includes Mailhog for email testing. Start it with:\n\n```bash\ndevenv up\n```\n\nThis starts Mailhog with:\n- **SMTP**: localhost:1025 (configure in your config.yaml)\n- **Web UI**: http://localhost:8025 (view captured emails)\n\nUse `config.dev.yaml.example` as a starting point for development configuration.\n```\n\n## Step 2: Commit\n\n```bash\ngit add README.md\ngit commit -m 'docs: add Mailhog email testing instructions to README'\n```","status":"open","priority":3,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T16:34:21.264839359+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:34:21.264839359+01:00","dependencies":[{"issue_id":"meet-mesh-2gp.4","depends_on_id":"meet-mesh-2gp","type":"parent-child","created_at":"2026-01-26T16:34:21.267793587+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2gp.5","title":"Verify end-to-end email flow with Mailhog","description":"## Verification Steps\n\nThis task verifies the complete setup works correctly.\n\n## Step 1: Start devenv services\n\n```bash\ndevenv up\n```\n\nWait for Mailhog to start. Confirm with:\n```bash\ncurl -s http://127.0.0.1:8025/api/v2/messages\n```\nExpected: Returns JSON (empty array initially: `{\"total\":0,\"count\":0,\"start\":0,\"items\":[]}`)\n\n## Step 2: Update your local config.yaml\n\nEnsure your `config.yaml` has Mailhog SMTP settings:\n\n```yaml\nsmtp:\n  host: localhost\n  port: 1025\n  username: \"\"\n  password: \"\"\n  from: \"Meet Mesh \u003cnoreply@localhost\u003e\"\n```\n\n## Step 3: Start the application\n\n```bash\n# Terminal 1: Frontend\ncd frontend \u0026\u0026 pnpm dev\n\n# Terminal 2: Backend\ncd api \u0026\u0026 go run ./cmd\n```\n\n## Step 4: Trigger an email\n\n1. Log in to the dashboard\n2. Create a booking link with manual approval\n3. Open the public booking page in incognito\n4. Make a booking (this should send an email to the organizer)\n\n## Step 5: Check Mailhog UI\n\nOpen http://localhost:8025\n\nExpected: The booking notification email should appear in Mailhog's inbox.\n\n## Step 6: Mark epic as complete\n\n```bash\nbd close meet-mesh-2gp\nbd sync \u0026\u0026 git push\n```","status":"open","priority":3,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T16:34:31.201057319+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:34:31.201057319+01:00","dependencies":[{"issue_id":"meet-mesh-2gp.5","depends_on_id":"meet-mesh-2gp","type":"parent-child","created_at":"2026-01-26T16:34:31.203911345+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2ne","title":"Simplify sidebar navigation labels","description":"# Simplify Sidebar Navigation Labels\n\n**Goal:** Remove redundant section labels and rename Settings to Calendar.\n\n**Architecture:** Update both Sidebar and MobileMenu components to remove the \"Menu\" and \"Settings\" section labels, and rename the \"Settings\" nav item to \"Calendar\" with a calendar icon.\n\n**Tech Stack:** SvelteKit, Svelte 5\n\n---\n\n## Problem\n1. \"Menu\" section label is redundant - the items are self-explanatory\n2. \"Settings\" section label is redundant - there's only one item\n3. \"Settings\" is misleading - the page only handles calendar connections\n\n## Files\n- Modify: `frontend/src/lib/components/dashboard/Sidebar.svelte`\n- Modify: `frontend/src/lib/components/dashboard/MobileMenu.svelte`\n\n## Changes\n\n### Sidebar.svelte\n\n**Step 1: Update settingsItems to rename Settings to Calendar (line 21-23)**\n\nFrom:\n```typescript\nconst settingsItems: NavItem[] = [\n  { href: '/settings', label: 'Settings', icon: 'settings' }\n]\n```\n\nTo:\n```typescript\nconst settingsItems: NavItem[] = [\n  { href: '/settings', label: 'Calendar', icon: 'calendar' }\n]\n```\n\n**Step 2: Remove \"Menu\" label (line 70)**\n\nDelete:\n```html\n\u003cdiv class=\"nav-label\"\u003eMenu\u003c/div\u003e\n```\n\n**Step 3: Remove \"Settings\" label (line 93)**\n\nDelete:\n```html\n\u003cdiv class=\"nav-label\"\u003eSettings\u003c/div\u003e\n```\n\n**Step 4: Update icon conditional to handle 'calendar' icon (around line 96)**\n\nChange from settings icon to calendar icon:\n```svelte\n{:else if item.icon === 'calendar'}\n  \u003csvg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"\u003e\n    \u003cpath stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"/\u003e\n  \u003c/svg\u003e\n{/if}\n```\n\n### MobileMenu.svelte\n\n**Step 1: Update navItems to rename Settings to Calendar (line 19)**\n\nFrom:\n```typescript\n{ href: '/settings', label: 'Settings', icon: 'settings' }\n```\n\nTo:\n```typescript\n{ href: '/settings', label: 'Calendar', icon: 'calendar' }\n```\n\n**Step 2: Remove \"Menu\" label (line 98)**\n\nDelete:\n```html\n\u003cdiv class=\"nav-label\"\u003eMenu\u003c/div\u003e\n```\n\n**Step 3: Update icon conditional (around line 130-139)**\n\nChange from settings icon to calendar icon:\n```svelte\n{:else if item.icon === 'calendar'}\n  \u003csvg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"\u003e\n    \u003cpath stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"/\u003e\n  \u003c/svg\u003e\n{/if}\n```\n\n## Verification\n1. Run `cd frontend \u0026\u0026 pnpm check` - should pass\n2. Navigate to dashboard\n3. Sidebar should show: Dashboard, Booking Links, Polls, Calendar (no section labels)\n4. Click Calendar - should navigate to /settings page\n5. Test on mobile - MobileMenu should match\n\n## Commit\n```bash\ngit add frontend/src/lib/components/dashboard/Sidebar.svelte frontend/src/lib/components/dashboard/MobileMenu.svelte\ngit commit -m \"refactor: simplify sidebar nav, rename Settings to Calendar\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T19:49:04.706916845+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:06:47.437430755+01:00","closed_at":"2026-01-25T20:06:47.437430755+01:00","close_reason":"Closed"}
{"id":"meet-mesh-2r3","title":"Dashboard Redesign: Neo-Brutalist Theme","description":"Redesign the Meet Mesh frontend dashboard to match the prototype at frontend/static/prototype-dashboard.html. \n\n## Goal\nTransform the current dashboard from a soft, modern design to a neo-brutalist aesthetic with light/dark mode support, offset shadows, solid borders, and vibrant accent colors.\n\n## Key Features\n- Neo-brutalist design: offset shadows, solid 2px borders, 8px radius\n- Light/dark mode with glowing accent effects in dark mode\n- Sidebar with logo icon, grouped nav, badges, user card\n- Stats grid with colored icons and trend badges\n- Booking list with status dots and icon action buttons\n- Quick actions panel\n- Mini calendar widget\n- Activity feed\n- Outfit font family\n\n## Architecture\n- Update CSS variables in app.css for neo-brutalist tokens\n- Modify existing UI components (Card, Button, Badge) for new aesthetic\n- Update dashboard components (Sidebar, StatsCard, BookingRow, etc.)\n- Add new components (ThemeToggle, IconButton, QuickActions, MiniCalendar, ActivityFeed)\n- Update dashboard page layout with two-column content grid\n\n## Tech Stack\n- SvelteKit with Svelte 5 runes\n- Tailwind CSS v4\n- Google Fonts (Outfit)","status":"closed","priority":2,"issue_type":"epic","owner":"k@knt.li","created_at":"2026-01-25T13:07:38.661224908+01:00","created_by":"kolaente","updated_at":"2026-01-25T15:32:45.540554999+01:00","closed_at":"2026-01-25T15:32:45.540554999+01:00","close_reason":"Closed"}
{"id":"meet-mesh-2r3.1","title":"Update CSS variables for neo-brutalist design system","description":"Update frontend/src/app.css with neo-brutalist design tokens.\n\n## Files\n- Modify: frontend/src/app.css\n\n## Changes\nReplace current CSS variables with:\n```css\n:root {\n  /* Light mode */\n  --bg-primary: #f5f3f0;\n  --bg-secondary: #ffffff;\n  --bg-tertiary: #ebe8e4;\n  --text-primary: #1a1a1a;\n  --text-secondary: #555555;\n  --text-muted: #888888;\n  --border-color: #1a1a1a;\n\n  /* Accent colors - Tailwind 500 */\n  --amber: #f59e0b;\n  --emerald: #10b981;\n  --sky: #0ea5e9;\n  --violet: #8b5cf6;\n  --rose: #f43f5e;\n\n  /* Shadows */\n  --shadow: 3px 3px 0 var(--border-color);\n  --shadow-hover: 5px 5px 0 var(--border-color);\n  --shadow-sm: 2px 2px 0 var(--border-color);\n\n  /* Borders */\n  --border: 2px solid var(--border-color);\n  --border-light: 1px solid var(--border-color);\n\n  /* Radius */\n  --radius: 8px;\n  --radius-lg: 12px;\n  --transition: 0.15s ease;\n  --sidebar-width: 250px;\n}\n\n[data-theme=\"dark\"] {\n  --bg-primary: #1a1a1a;\n  --bg-secondary: #0a0a0a;\n  --bg-tertiary: #111111;\n  --text-primary: #f5f5f5;\n  --text-secondary: #a0a0a0;\n  --text-muted: #606060;\n  --border-color: #000000;\n}\n```\n\nAlso add Outfit font import and base body styles.","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:07:56.278253542+01:00","created_by":"kolaente","updated_at":"2026-01-25T13:17:28.225312792+01:00","closed_at":"2026-01-25T13:17:28.225312792+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-2r3.1","depends_on_id":"meet-mesh-2r3","type":"parent-child","created_at":"2026-01-25T13:07:56.281651311+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2r3.10","title":"Redesign BookingRow component","description":"Update BookingRow to match prototype booking list item.\n\n## Files\n- Modify: frontend/src/lib/components/dashboard/BookingRow.svelte\n\n## Changes\n- Status dot (10px circle) instead of badge\n- pending: amber with pulse animation\n- confirmed: emerald solid\n- Guest info with meta line\n- Time badge (styled box)\n- IconButton actions (approve/decline)\n- Hover background change","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:09:22.830476725+01:00","created_by":"kolaente","updated_at":"2026-01-25T13:23:04.850195576+01:00","closed_at":"2026-01-25T13:23:04.850195576+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-2r3.10","depends_on_id":"meet-mesh-2r3","type":"parent-child","created_at":"2026-01-25T13:09:22.833349809+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2r3.11","title":"Create QuickActions component","description":"Create a new QuickActions widget for the dashboard.\n\n## Files\n- Create: frontend/src/lib/components/dashboard/QuickActions.svelte\n- Modify: frontend/src/lib/components/dashboard/index.ts\n\n## Implementation\n- List of quick action links\n- Each item: icon box + title/description + arrow\n- Icons colored: sky, violet, sky\n- Hover: background change, arrow slides right\n- Dark mode: glowing icon boxes","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:09:39.179793788+01:00","created_by":"kolaente","updated_at":"2026-01-25T13:25:16.031519737+01:00","closed_at":"2026-01-25T13:25:16.031519737+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-2r3.11","depends_on_id":"meet-mesh-2r3","type":"parent-child","created_at":"2026-01-25T13:09:39.182515262+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2r3.12","title":"Create MiniCalendar component","description":"Create a mini calendar widget for the dashboard.\n\n## Files\n- Create: frontend/src/lib/components/dashboard/MiniCalendar.svelte\n- Modify: frontend/src/lib/components/dashboard/index.ts\n\n## Implementation\n- Month/year header with prev/next buttons\n- 7-column grid (Su-Sa)\n- Day cells with hover state\n- Today: sky background\n- Has event: small dot indicator (rose)\n- Other month days: muted","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:09:44.619649431+01:00","created_by":"kolaente","updated_at":"2026-01-25T13:25:16.111051195+01:00","closed_at":"2026-01-25T13:25:16.111051195+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-2r3.12","depends_on_id":"meet-mesh-2r3","type":"parent-child","created_at":"2026-01-25T13:09:44.622360025+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2r3.13","title":"Create ActivityFeed component","description":"Create an activity feed widget for the dashboard.\n\n## Files\n- Create: frontend/src/lib/components/dashboard/ActivityFeed.svelte\n- Modify: frontend/src/lib/components/dashboard/index.ts\n\n## Implementation\n- List of activity items\n- Each item: colored dot + text + timestamp\n- Dot colors by type: booking=rose, poll=violet, vote=emerald\n- Bold names in text\n- Hover background change","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:09:50.023489527+01:00","created_by":"kolaente","updated_at":"2026-01-25T13:25:16.192286136+01:00","closed_at":"2026-01-25T13:25:16.192286136+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-2r3.13","depends_on_id":"meet-mesh-2r3","type":"parent-child","created_at":"2026-01-25T13:09:50.026514731+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2r3.14","title":"Update DashboardHeader component","description":"Update the DashboardHeader with new styling and theme toggle.\n\n## Files\n- Modify: frontend/src/lib/components/dashboard/DashboardHeader.svelte\n\n## Changes\n- Bottom border separator\n- Subtitle text below title\n- Include ThemeToggle button\n- Styled action buttons","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:10:04.684506529+01:00","created_by":"kolaente","updated_at":"2026-01-25T13:25:16.272798296+01:00","closed_at":"2026-01-25T13:25:16.272798296+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-2r3.14","depends_on_id":"meet-mesh-2r3","type":"parent-child","created_at":"2026-01-25T13:10:04.687798223+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2r3.15","title":"Update dashboard layout","description":"Update the dashboard layout for neo-brutalist design.\n\n## Files\n- Modify: frontend/src/routes/(dashboard)/+layout.svelte\n\n## Changes\n- Background color var(--bg-primary)\n- Main content margin-left for fixed sidebar\n- Responsive padding adjustments","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:10:10.109550276+01:00","created_by":"kolaente","updated_at":"2026-01-25T13:29:15.684123431+01:00","closed_at":"2026-01-25T13:29:15.684123431+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-2r3.15","depends_on_id":"meet-mesh-2r3","type":"parent-child","created_at":"2026-01-25T13:10:10.11248928+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2r3.16","title":"Redesign dashboard home page","description":"Update the main dashboard page with new layout and widgets.\n\n## Files\n- Modify: frontend/src/routes/(dashboard)/+page.svelte\n\n## Changes\n- Stats grid (4 columns) with trend badges\n- Two-column content grid (1.6fr 1fr)\n- Left: Recent Bookings card with booking list\n- Right column:\n  - Quick Actions card\n  - Mini Calendar card\n  - Activity Feed card\n- Responsive breakpoints","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:10:15.540711276+01:00","created_by":"kolaente","updated_at":"2026-01-25T13:29:15.768671161+01:00","closed_at":"2026-01-25T13:29:15.768671161+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-2r3.16","depends_on_id":"meet-mesh-2r3","type":"parent-child","created_at":"2026-01-25T13:10:15.54400778+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2r3.17","title":"Add Outfit font to app layout","description":"Add Google Fonts Outfit to the app layout.\n\n## Files\n- Modify: frontend/src/app.html (or +layout.svelte)\n\n## Changes\n- Add Google Fonts preconnect links\n- Add Outfit font stylesheet link\n- Weights: 400, 500, 600, 700, 800","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:10:29.919458635+01:00","created_by":"kolaente","updated_at":"2026-01-25T13:17:28.298762227+01:00","closed_at":"2026-01-25T13:17:28.298762227+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-2r3.17","depends_on_id":"meet-mesh-2r3","type":"parent-child","created_at":"2026-01-25T13:10:29.92235356+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2r3.18","title":"Visual QA and polish","description":"Final visual QA pass to ensure design consistency.\n\n## Steps\n1. Run dev server: cd frontend \u0026\u0026 pnpm dev\n2. Test light mode appearance\n3. Test dark mode appearance\n4. Test responsive breakpoints (mobile, tablet, desktop)\n5. Verify all hover/active states\n6. Check dark mode glow effects\n7. Fix any visual inconsistencies","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:10:35.3117791+01:00","created_by":"kolaente","updated_at":"2026-01-25T15:32:32.204028103+01:00","closed_at":"2026-01-25T15:32:32.204028103+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-2r3.18","depends_on_id":"meet-mesh-2r3","type":"parent-child","created_at":"2026-01-25T13:10:35.314547514+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2r3.2","title":"Create ThemeToggle component","description":"Create a theme toggle button component for switching between light and dark mode.\n\n## Files\n- Create: frontend/src/lib/components/ui/ThemeToggle.svelte\n- Modify: frontend/src/lib/components/ui/index.ts\n\n## Implementation\n- Button with sun/moon icon\n- Reads/writes data-theme attribute on document.documentElement\n- Persists choice to localStorage\n- Neo-brutalist styling with shadow and hover effect","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:08:13.589720372+01:00","created_by":"kolaente","updated_at":"2026-01-25T13:17:28.37158571+01:00","closed_at":"2026-01-25T13:17:28.37158571+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-2r3.2","depends_on_id":"meet-mesh-2r3","type":"parent-child","created_at":"2026-01-25T13:08:13.592529299+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2r3.3","title":"Create IconButton component","description":"Create a small icon-only button component for actions.\n\n## Files\n- Create: frontend/src/lib/components/ui/IconButton.svelte\n- Modify: frontend/src/lib/components/ui/index.ts\n\n## Implementation\n- 32x32px button with icon slot\n- Variants: default, approve (green hover), decline (rose hover)\n- Neo-brutalist border and hover shadow","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:08:18.963194823+01:00","created_by":"kolaente","updated_at":"2026-01-25T13:17:28.45207828+01:00","closed_at":"2026-01-25T13:17:28.45207828+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-2r3.3","depends_on_id":"meet-mesh-2r3","type":"parent-child","created_at":"2026-01-25T13:08:18.96623631+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2r3.4","title":"Update Button component for neo-brutalist style","description":"Update the Button component with neo-brutalist aesthetics.\n\n## Files\n- Modify: frontend/src/lib/components/ui/Button.svelte\n\n## Changes\n- Use CSS variable for border (--border)\n- Add offset shadow (--shadow)\n- Hover: translate(-2px, -2px) + larger shadow\n- Active: translate(2px, 2px) + no shadow\n- Primary: var(--sky) background\n- Secondary: white with purple hover\n- Update border-radius to var(--radius)","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:08:24.352459492+01:00","created_by":"kolaente","updated_at":"2026-01-25T13:19:05.671168233+01:00","closed_at":"2026-01-25T13:19:05.671168233+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-2r3.4","depends_on_id":"meet-mesh-2r3","type":"parent-child","created_at":"2026-01-25T13:08:24.355191088+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2r3.5","title":"Update Card component for neo-brutalist style","description":"Update the Card component with neo-brutalist aesthetics.\n\n## Files\n- Modify: frontend/src/lib/components/ui/Card.svelte\n\n## Changes\n- Use CSS variable for border (--border)\n- Add offset shadow (--shadow)\n- Header: bg-tertiary with border-bottom\n- Update border-radius to var(--radius-lg)\n- Transition on hover for slight lift effect","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:08:43.740165876+01:00","created_by":"kolaente","updated_at":"2026-01-25T13:19:05.762879801+01:00","closed_at":"2026-01-25T13:19:05.762879801+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-2r3.5","depends_on_id":"meet-mesh-2r3","type":"parent-child","created_at":"2026-01-25T13:08:43.743552174+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2r3.6","title":"Update Badge component for neo-brutalist style","description":"Update the Badge component with neo-brutalist aesthetics.\n\n## Files\n- Modify: frontend/src/lib/components/ui/Badge.svelte\n\n## Changes\n- Add solid border (1px solid var(--border-color))\n- Use accent colors for backgrounds\n- pending: var(--amber), confirmed: var(--emerald)\n- White text on colored backgrounds","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:08:49.14769712+01:00","created_by":"kolaente","updated_at":"2026-01-25T13:19:05.849154937+01:00","closed_at":"2026-01-25T13:19:05.849154937+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-2r3.6","depends_on_id":"meet-mesh-2r3","type":"parent-child","created_at":"2026-01-25T13:08:49.150397963+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2r3.7","title":"Redesign Sidebar component","description":"Completely redesign the Sidebar for neo-brutalist style.\n\n## Files\n- Modify: frontend/src/lib/components/dashboard/Sidebar.svelte\n\n## Changes\n- Fixed position, 250px width\n- Logo section: icon box with calendar icon, glowing in dark mode\n- Grouped nav with labels (Menu, Settings)\n- Nav badges for counts (e.g., '7' on Booking Links)\n- Active nav item: sky background, white text, shadow\n- Dark mode: glowing active state\n- User card at bottom with avatar initials","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:08:54.574490496+01:00","created_by":"kolaente","updated_at":"2026-01-25T13:23:04.592324995+01:00","closed_at":"2026-01-25T13:23:04.592324995+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-2r3.7","depends_on_id":"meet-mesh-2r3","type":"parent-child","created_at":"2026-01-25T13:08:54.577494149+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2r3.8","title":"Redesign MobileMenu component","description":"Update the MobileMenu to match new sidebar design.\n\n## Files\n- Modify: frontend/src/lib/components/dashboard/MobileMenu.svelte\n\n## Changes\n- Neo-brutalist hamburger button with shadow\n- Drawer matches sidebar styling\n- Same grouped nav structure\n- User card at bottom","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:09:12.021212436+01:00","created_by":"kolaente","updated_at":"2026-01-25T13:23:04.676567111+01:00","closed_at":"2026-01-25T13:23:04.676567111+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-2r3.8","depends_on_id":"meet-mesh-2r3","type":"parent-child","created_at":"2026-01-25T13:09:12.023956169+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-2r3.9","title":"Redesign StatsCard component","description":"Update the StatsCard for neo-brutalist style with colored icons.\n\n## Files\n- Modify: frontend/src/lib/components/dashboard/StatsCard.svelte\n\n## Changes\n- Neo-brutalist card with shadow\n- Large colored icon box (42x42px, rounded-10px)\n- Icon colors by position: sky, violet, amber, emerald\n- Dark mode: glowing icon boxes\n- Trend badge (up/alert variants)\n- Larger value text (2rem)\n- Hover lift animation","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:09:17.429969669+01:00","created_by":"kolaente","updated_at":"2026-01-25T13:23:04.763520834+01:00","closed_at":"2026-01-25T13:23:04.763520834+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-2r3.9","depends_on_id":"meet-mesh-2r3","type":"parent-child","created_at":"2026-01-25T13:09:17.432698653+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422","title":"Dark Mode Unification: Use Tailwind Native Approach","description":"# Dark Mode Unification: Use Tailwind Native Approach\n\n**Goal:** Leverage Tailwind CSS v4's native features instead of fighting against them. Use Tailwind's built-in color palette and `dark:` prefix for dark mode.\n\n**Key Changes from Previous Approach:**\n\n1. **Use `dark:` prefix** - Tailwind's native dark mode is well-designed and should be embraced, not avoided\n2. **Use Tailwind color palette** - Instead of custom CSS variables for colors, use Tailwind's extensive color system (gray-50, indigo-500, etc.)\n3. **Minimal CSS variables** - Only use CSS variables for truly custom values that Tailwind doesn't provide\n\n**Architecture:** SvelteKit, Tailwind CSS v4\n\n---\n\n## Implementation Tasks\n\n### 1. Configure Tailwind Dark Mode\n- Set up Tailwind v4 to use class-based dark mode (controlled by `data-theme=\"dark\"` or a dark class)\n- Ensure the existing ThemeToggle works with Tailwind's dark mode detection\n\n### 2. Define Custom Theme Colors (if needed)\n- If the neo-brutalist palette differs significantly from Tailwind defaults, add custom colors to Tailwind config\n- Otherwise, use Tailwind's built-in gray, slate, indigo, etc.\n\n### 3. Update Components\n- Replace `var(--bg-primary)` etc. with Tailwind classes like `bg-white dark:bg-gray-900`\n- Use semantic color classes where possible\n- Pattern: `bg-gray-50 dark:bg-gray-900`, `text-gray-900 dark:text-gray-100`\n\n### 4. Keep CSS Variables Only For:\n- Truly custom non-color values (shadows, transitions)\n- Complex computed styles\n- Values that need to be accessed from JS\n\n---\n\n## Benefits of This Approach\n\n1. **Better IDE support** - Tailwind intellisense works with classes\n2. **Easier maintenance** - Standard Tailwind patterns\n3. **Smaller CSS** - Tailwind purges unused classes\n4. **Community patterns** - Easier for others to contribute","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:16:43.059519588+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:51:38.850712548+01:00","closed_at":"2026-01-25T20:51:38.850712548+01:00","close_reason":"Closed"}
{"id":"meet-mesh-422.1","title":"Extend CSS variables with semantic status colors","description":"### Task 1: Extend CSS Variables\n\n**Files:**\n- Modify: `frontend/src/app.css:1-76`\n\n**Step 1: Add semantic status color variables to light mode**\n\nAdd after line 44 (after the color aliases section):\n\n```css\n/* Status colors - semantic backgrounds and text */\n--bg-success: #dcfce7;      /* green-100 equivalent */\n--bg-error: #fee2e2;        /* red-100 equivalent */\n--bg-warning: #fef3c7;      /* amber-100 equivalent */\n--bg-info: #e0f2fe;         /* sky-100 equivalent */\n\n--text-success: #166534;    /* green-800 equivalent */\n--text-error: #991b1b;      /* red-800 equivalent */\n--text-warning: #92400e;    /* amber-800 equivalent */\n--text-info: #075985;       /* sky-800 equivalent */\n\n--border-success: #86efac;  /* green-300 equivalent */\n--border-error: #fca5a5;    /* red-300 equivalent */\n--border-warning: #fcd34d;  /* amber-300 equivalent */\n--border-info: #7dd3fc;     /* sky-300 equivalent */\n\n/* Neutral state colors */\n--bg-muted: #f8fafc;        /* slate-50 equivalent */\n--bg-muted-hover: #f1f5f9;  /* slate-100 equivalent */\n--border-muted: #e2e8f0;    /* slate-200 equivalent */\n\n/* Accent backgrounds (for info boxes) */\n--bg-accent-light: #eef2ff; /* indigo-50 equivalent */\n--border-accent-light: #c7d2fe; /* indigo-200 equivalent */\n--text-accent: #3730a3;     /* indigo-800 equivalent */\n```\n\n**Step 2: Add dark mode variants**\n\nAdd to the `:root[data-theme=\"dark\"]` section (after line 75):\n\n```css\n/* Status colors - dark mode */\n--bg-success: #14532d;      /* green-900 equivalent */\n--bg-error: #7f1d1d;        /* red-900 equivalent */\n--bg-warning: #78350f;      /* amber-900 equivalent */\n--bg-info: #0c4a6e;         /* sky-900 equivalent */\n\n--text-success: #86efac;    /* green-300 equivalent */\n--text-error: #fca5a5;      /* red-300 equivalent */\n--text-warning: #fcd34d;    /* amber-300 equivalent */\n--text-info: #7dd3fc;       /* sky-300 equivalent */\n\n--border-success: #166534;  /* green-800 equivalent */\n--border-error: #991b1b;    /* red-800 equivalent */\n--border-warning: #92400e;  /* amber-800 equivalent */\n--border-info: #075985;     /* sky-800 equivalent */\n\n/* Neutral state colors */\n--bg-muted: #1e293b;        /* slate-800 equivalent */\n--bg-muted-hover: #334155;  /* slate-700 equivalent */\n--border-muted: #475569;    /* slate-600 equivalent */\n\n/* Accent backgrounds (for info boxes) */\n--bg-accent-light: rgba(99, 102, 241, 0.15); /* indigo with transparency */\n--border-accent-light: rgba(99, 102, 241, 0.3);\n--text-accent: #a5b4fc;     /* indigo-300 equivalent */\n```\n\n**Step 3: Verify the CSS is valid**\n\nRun: `cd frontend \u0026\u0026 pnpm check`\nExpected: No CSS errors\n\n**Step 4: Commit**\n\n```bash\ngit add frontend/src/app.css\ngit commit -m \"feat: add semantic status color CSS variables for dark mode support\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:16:59.768954143+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:29:17.49556783+01:00","closed_at":"2026-01-25T20:29:17.49556783+01:00","close_reason":"Superseded by new Tailwind-native approach","dependencies":[{"issue_id":"meet-mesh-422.1","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:16:59.771387994+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.10","title":"Fix DateCalendar.svelte dark mode support","description":"### Task 10: Fix DateCalendar.svelte Dark Mode\n\n**Files:**\n- Modify: `frontend/src/lib/components/booking/DateCalendar.svelte:87,95,100,112,134,136-137,138,142`\n\n**Step 1: Fix navigation buttons (lines 87, 100)**\n\nChange from:\n```html\nclass=\"p-2 min-w-[44px] min-h-[44px] flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-[var(--radius-md)] transition-colors\"\n```\nto:\n```html\nclass=\"p-2 min-w-[44px] min-h-[44px] flex items-center justify-center text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)] rounded-[var(--radius-md)] transition-colors\"\n```\n\n**Step 2: Fix month name (line 95)**\n\nChange from:\n```html\n\u003ch2 class=\"text-base sm:text-lg font-semibold text-gray-900\"\u003e{monthName}\u003c/h2\u003e\n```\nto:\n```html\n\u003ch2 class=\"text-base sm:text-lg font-semibold text-[var(--text-primary)]\"\u003e{monthName}\u003c/h2\u003e\n```\n\n**Step 3: Fix weekday headers (line 112)**\n\nChange from:\n```html\n\u003cdiv class=\"text-center text-xs sm:text-sm font-medium text-gray-500 py-2\"\u003e\n```\nto:\n```html\n\u003cdiv class=\"text-center text-xs sm:text-sm font-medium text-[var(--text-muted)] py-2\"\u003e\n```\n\n**Step 4: Fix selected day styling (line 134)**\n\nChange from:\n```typescript\n? 'bg-indigo-600 text-white'\n```\nto:\n```typescript\n? 'bg-[var(--sky)] text-white'\n```\n\n**Step 5: Fix available day hover (line 136)**\n\nChange from:\n```typescript\n? 'hover:bg-gray-100 text-gray-900 cursor-pointer active:bg-gray-200'\n```\nto:\n```typescript\n? 'hover:bg-[var(--bg-tertiary)] text-[var(--text-primary)] cursor-pointer active:bg-[var(--bg-muted)]'\n```\n\n**Step 6: Fix disabled day (line 137)**\n\nChange from:\n```typescript\n: 'text-gray-300 cursor-not-allowed'}\n```\nto:\n```typescript\n: 'text-[var(--text-muted)] cursor-not-allowed opacity-50'}\n```\n\n**Step 7: Fix today ring (line 138)**\n\nChange from:\n```typescript\n{today \u0026\u0026 !selected ? 'ring-2 ring-indigo-600 ring-inset' : ''}\"\n```\nto:\n```typescript\n{today \u0026\u0026 !selected ? 'ring-2 ring-[var(--sky)] ring-inset' : ''}\"\n```\n\n**Step 8: Fix availability indicator dot (line 142)**\n\nChange from:\n```html\n\u003cspan class=\"absolute bottom-1 sm:bottom-1.5 w-1 h-1 rounded-full bg-indigo-500\"\u003e\u003c/span\u003e\n```\nto:\n```html\n\u003cspan class=\"absolute bottom-1 sm:bottom-1.5 w-1 h-1 rounded-full bg-[var(--sky)]\"\u003e\u003c/span\u003e\n```\n\n**Step 9: Commit**\n\n```bash\ngit add frontend/src/lib/components/booking/DateCalendar.svelte\ngit commit -m \"fix: use CSS variables for DateCalendar dark mode support\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:18:45.535664588+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:29:18.328004522+01:00","closed_at":"2026-01-25T20:29:18.328004522+01:00","close_reason":"Superseded by new Tailwind-native approach","dependencies":[{"issue_id":"meet-mesh-422.10","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:18:45.538195129+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.11","title":"Fix DateRangePicker.svelte dark mode support","description":"### Task 11: Fix DateRangePicker.svelte Dark Mode\n\n**Files:**\n- Modify: `frontend/src/lib/components/booking/DateRangePicker.svelte:62,69,74,81,87,91-93`\n\n**Step 1: Fix labels (lines 62, 74)**\n\nChange from:\n```html\n\u003clabel for=\"start-date\" class=\"block text-sm font-medium text-gray-700\"\u003eStart Date\u003c/label\u003e\n\u003clabel for=\"end-date\" class=\"block text-sm font-medium text-gray-700\"\u003eEnd Date\u003c/label\u003e\n```\nto:\n```html\n\u003clabel for=\"start-date\" class=\"block text-sm font-medium text-[var(--text-secondary)]\"\u003eStart Date\u003c/label\u003e\n\u003clabel for=\"end-date\" class=\"block text-sm font-medium text-[var(--text-secondary)]\"\u003eEnd Date\u003c/label\u003e\n```\n\n**Step 2: Fix date inputs (lines 69, 81)**\n\nChange from:\n```html\nclass=\"block w-full rounded-[var(--radius-md)] border border-gray-300 px-3 py-2 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-0 focus:border-indigo-500\"\n```\nto:\n```html\nclass=\"block w-full rounded-[var(--radius-md)] border border-[var(--border-color)] bg-[var(--bg-secondary)] px-3 py-2 text-sm text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--sky)] focus:ring-offset-0 focus:border-[var(--sky)]\"\n```\n\n**Step 3: Fix validation error (line 87)**\n\nChange from:\n```html\n\u003cp class=\"text-sm text-red-600\"\u003e{validationError}\u003c/p\u003e\n```\nto:\n```html\n\u003cp class=\"text-sm text-[var(--text-error)]\"\u003e{validationError}\u003c/p\u003e\n```\n\n**Step 4: Fix summary box (lines 91-93)**\n\nChange from:\n```html\n\u003cdiv class=\"bg-gray-50 rounded-[var(--radius-md)] p-3 border border-gray-200\"\u003e\n    \u003cp class=\"text-sm text-gray-600\"\u003e\n        Selected range: \u003cspan class=\"font-medium text-gray-900\"\u003e{dateRangeDisplay}\u003c/span\u003e\n```\nto:\n```html\n\u003cdiv class=\"bg-[var(--bg-tertiary)] rounded-[var(--radius-md)] p-3 border border-[var(--border-color)]\"\u003e\n    \u003cp class=\"text-sm text-[var(--text-secondary)]\"\u003e\n        Selected range: \u003cspan class=\"font-medium text-[var(--text-primary)]\"\u003e{dateRangeDisplay}\u003c/span\u003e\n```\n\n**Step 5: Commit**\n\n```bash\ngit add frontend/src/lib/components/booking/DateRangePicker.svelte\ngit commit -m \"fix: use CSS variables for DateRangePicker dark mode support\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:19:23.61458942+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:29:18.422651369+01:00","closed_at":"2026-01-25T20:29:18.422651369+01:00","close_reason":"Superseded by new Tailwind-native approach","dependencies":[{"issue_id":"meet-mesh-422.11","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:19:23.617073342+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.12","title":"Fix DayPicker.svelte dark mode support","description":"### Task 12: Fix DayPicker.svelte Dark Mode\n\n**Files:**\n- Modify: `frontend/src/lib/components/booking/DayPicker.svelte:36,41,43,47,63,71,77,100`\n\n**Step 1: Fix label (line 36)**\n\nChange from:\n```html\n\u003cspan id=\"day-picker-label\" class=\"block text-sm font-medium text-gray-700\"\u003eSelect Date\u003c/span\u003e\n```\nto:\n```html\n\u003cspan id=\"day-picker-label\" class=\"block text-sm font-medium text-[var(--text-secondary)]\"\u003eSelect Date\u003c/span\u003e\n```\n\n**Step 2: Fix trigger button (line 41)**\n\nChange from:\n```html\nclass=\"flex h-12 w-full items-center justify-between rounded-[var(--radius-md)] border border-gray-300 bg-white px-4 py-2 text-base focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-0 focus:border-indigo-500\"\n```\nto:\n```html\nclass=\"flex h-12 w-full items-center justify-between rounded-[var(--radius-md)] border border-[var(--border-color)] bg-[var(--bg-secondary)] px-4 py-2 text-base focus:outline-none focus:ring-2 focus:ring-[var(--sky)] focus:ring-offset-0 focus:border-[var(--sky)]\"\n```\n\n**Step 3: Fix placeholder/selected text (line 43)**\n\nChange from:\n```html\n\u003cspan class={selectedOption ? 'text-gray-900' : 'text-gray-400'}\u003e\n```\nto:\n```html\n\u003cspan class={selectedOption ? 'text-[var(--text-primary)]' : 'text-[var(--text-muted)]'}\u003e\n```\n\n**Step 4: Fix chevron icon (line 47)**\n\nChange from:\n```html\nclass=\"h-5 w-5 text-gray-400\"\n```\nto:\n```html\nclass=\"h-5 w-5 text-[var(--text-muted)]\"\n```\n\n**Step 5: Fix dropdown container (line 63)**\n\nChange from:\n```html\nclass=\"z-50 max-h-60 min-w-[8rem] overflow-auto rounded-[var(--radius-md)] border border-gray-200 bg-white shadow-md animate-in fade-in-0 zoom-in-95\"\n```\nto:\n```html\nclass=\"z-50 max-h-60 min-w-[8rem] overflow-auto rounded-[var(--radius-md)] border border-[var(--border-color)] bg-[var(--bg-secondary)] shadow-md animate-in fade-in-0 zoom-in-95\"\n```\n\n**Step 6: Fix option items (line 71)**\n\nChange from:\n```html\nclass=\"relative flex cursor-pointer select-none items-center rounded-[var(--radius-sm)] py-3 pl-10 pr-4 text-sm text-gray-900 outline-none transition-colors hover:bg-gray-100 focus:bg-gray-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50\"\n```\nto:\n```html\nclass=\"relative flex cursor-pointer select-none items-center rounded-[var(--radius-sm)] py-3 pl-10 pr-4 text-sm text-[var(--text-primary)] outline-none transition-colors hover:bg-[var(--bg-tertiary)] focus:bg-[var(--bg-tertiary)] data-[disabled]:pointer-events-none data-[disabled]:opacity-50\"\n```\n\n**Step 7: Fix check icon (line 77)**\n\nChange from:\n```html\nclass=\"h-4 w-4 text-indigo-600\"\n```\nto:\n```html\nclass=\"h-4 w-4 text-[var(--sky)]\"\n```\n\n**Step 8: Fix helper text (line 100)**\n\nChange from:\n```html\n\u003cp class=\"text-sm text-gray-600 mt-2\"\u003e\n```\nto:\n```html\n\u003cp class=\"text-sm text-[var(--text-secondary)] mt-2\"\u003e\n```\n\n**Step 9: Commit**\n\n```bash\ngit add frontend/src/lib/components/booking/DayPicker.svelte\ngit commit -m \"fix: use CSS variables for DayPicker dark mode support\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:19:25.510348462+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:29:18.524207315+01:00","closed_at":"2026-01-25T20:29:18.524207315+01:00","close_reason":"Superseded by new Tailwind-native approach","dependencies":[{"issue_id":"meet-mesh-422.12","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:19:25.513265245+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.13","title":"Fix BookingForm.svelte dark mode support","description":"### Task 13: Fix BookingForm.svelte Dark Mode\n\n**Files:**\n- Modify: `frontend/src/lib/components/booking/BookingForm.svelte:111,114,123`\n\n**Step 1: Fix field labels (line 111)**\n\nChange from:\n```html\n\u003clabel for={\\`field-\\${field.name}\\`} class=\"block text-sm font-medium text-gray-700\"\u003e\n```\nto:\n```html\n\u003clabel for={\\`field-\\${field.name}\\`} class=\"block text-sm font-medium text-[var(--text-secondary)]\"\u003e\n```\n\n**Step 2: Fix required asterisk (line 114)**\n\nChange from:\n```html\n\u003cspan class=\"text-red-500\"\u003e*\u003c/span\u003e\n```\nto:\n```html\n\u003cspan class=\"text-[var(--rose)]\"\u003e*\u003c/span\u003e\n```\n\n**Step 3: Fix textarea input (line 123)**\n\nChange from:\n```html\nclass=\"block w-full min-h-[100px] rounded-[var(--radius-md)] border border-gray-300 px-3 py-3 text-base sm:text-sm text-gray-900 placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-0 focus:border-indigo-500\"\n```\nto:\n```html\nclass=\"block w-full min-h-[100px] rounded-[var(--radius-md)] border border-[var(--border-color)] bg-[var(--bg-secondary)] px-3 py-3 text-base sm:text-sm text-[var(--text-primary)] placeholder:text-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--sky)] focus:ring-offset-0 focus:border-[var(--sky)]\"\n```\n\n**Step 4: Commit**\n\n```bash\ngit add frontend/src/lib/components/booking/BookingForm.svelte\ngit commit -m \"fix: use CSS variables for BookingForm dark mode support\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:19:26.613314162+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:29:18.647325313+01:00","closed_at":"2026-01-25T20:29:18.647325313+01:00","close_reason":"Superseded by new Tailwind-native approach","dependencies":[{"issue_id":"meet-mesh-422.13","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:19:26.616270466+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.14","title":"Fix PollPage.svelte dark mode support","description":"### Task 14: Fix PollPage.svelte Dark Mode\n\n**Files:**\n- Modify: `frontend/src/lib/components/poll/PollPage.svelte:108,110,117,128-129,133-136,144-145,152,157,162`\n\n**Step 1: Fix title (line 108)**\n\nChange from:\n```html\n\u003ch1 class=\"text-2xl font-bold text-gray-900\"\u003e{link.name}\u003c/h1\u003e\n```\nto:\n```html\n\u003ch1 class=\"text-2xl font-bold text-[var(--text-primary)]\"\u003e{link.name}\u003c/h1\u003e\n```\n\n**Step 2: Fix description (line 110)**\n\nChange from:\n```html\n\u003cp class=\"mt-2 text-gray-600\"\u003e{link.description}\u003c/p\u003e\n```\nto:\n```html\n\u003cp class=\"mt-2 text-[var(--text-secondary)]\"\u003e{link.description}\u003c/p\u003e\n```\n\n**Step 3: Fix error box (line 117)**\n\nChange from:\n```html\nclass=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-[var(--radius-md)] text-red-700\"\n```\nto:\n```html\nclass=\"mb-6 p-4 bg-[var(--bg-error)] border border-[var(--border-error)] rounded-[var(--radius-md)] text-[var(--text-error)]\"\n```\n\n**Step 4: Fix success icon container (line 128)**\n\nChange from:\n```html\n\u003cdiv class=\"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center\"\u003e\n```\nto:\n```html\n\u003cdiv class=\"w-16 h-16 mx-auto mb-4 bg-[var(--bg-success)] rounded-full flex items-center justify-center\"\u003e\n```\n\n**Step 5: Fix success icon (line 129)**\n\nChange from:\n```html\n\u003csvg class=\"w-8 h-8 text-green-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"\u003e\n```\nto:\n```html\n\u003csvg class=\"w-8 h-8 text-[var(--text-success)]\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"\u003e\n```\n\n**Step 6: Fix success text (lines 133-136)**\n\nChange from:\n```html\n\u003ch2 class=\"text-xl font-semibold text-gray-900 mb-2\"\u003eVote Submitted!\u003c/h2\u003e\n\u003cp class=\"text-gray-600\"\u003eThank you for participating in this poll.\u003c/p\u003e\n{#if showResultsAfterVoting}\n    \u003cp class=\"text-sm text-gray-500 mt-4\"\u003eRedirecting to results...\u003c/p\u003e\n```\nto:\n```html\n\u003ch2 class=\"text-xl font-semibold text-[var(--text-primary)] mb-2\"\u003eVote Submitted!\u003c/h2\u003e\n\u003cp class=\"text-[var(--text-secondary)]\"\u003eThank you for participating in this poll.\u003c/p\u003e\n{#if showResultsAfterVoting}\n    \u003cp class=\"text-sm text-[var(--text-muted)] mt-4\"\u003eRedirecting to results...\u003c/p\u003e\n```\n\n**Step 7: Fix empty state (lines 144-145)**\n\nChange from:\n```html\n\u003cp class=\"text-gray-600\"\u003eNo options available for this poll.\u003c/p\u003e\n\u003cp class=\"text-sm text-gray-500 mt-2\"\u003ePlease check back later.\u003c/p\u003e\n```\nto:\n```html\n\u003cp class=\"text-[var(--text-secondary)]\"\u003eNo options available for this poll.\u003c/p\u003e\n\u003cp class=\"text-sm text-[var(--text-muted)] mt-2\"\u003ePlease check back later.\u003c/p\u003e\n```\n\n**Step 8: Fix instruction text (line 152)**\n\nChange from:\n```html\n\u003cp class=\"text-sm text-gray-600\"\u003e\n```\nto:\n```html\n\u003cp class=\"text-sm text-[var(--text-secondary)]\"\u003e\n```\n\n**Step 9: Fix progress indicator (line 157)**\n\nChange from:\n```html\n\u003cdiv class=\"flex items-center justify-between text-sm text-gray-500\"\u003e\n```\nto:\n```html\n\u003cdiv class=\"flex items-center justify-between text-sm text-[var(--text-muted)]\"\u003e\n```\n\n**Step 10: Fix completion text (line 162)**\n\nChange from:\n```html\n\u003cspan class=\"text-green-600 font-medium\"\u003eAll options voted\u003c/span\u003e\n```\nto:\n```html\n\u003cspan class=\"text-[var(--text-success)] font-medium\"\u003eAll options voted\u003c/span\u003e\n```\n\n**Step 11: Commit**\n\n```bash\ngit add frontend/src/lib/components/poll/PollPage.svelte\ngit commit -m \"fix: use CSS variables for PollPage dark mode support\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:20:08.856288564+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:29:18.741579498+01:00","closed_at":"2026-01-25T20:29:18.741579498+01:00","close_reason":"Superseded by new Tailwind-native approach","dependencies":[{"issue_id":"meet-mesh-422.14","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:20:08.858996697+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.15","title":"Fix VoteSummary.svelte dark mode support","description":"### Task 15: Fix VoteSummary.svelte Dark Mode\n\n**Files:**\n- Modify: `frontend/src/lib/components/poll/VoteSummary.svelte:44-79`\n\n**Step 1: Fix all label and count text**\n\nChange all instances of `text-gray-600` and `text-gray-500` to use CSS variables:\n- Line 44: `text-gray-600` â†’ `text-[var(--text-secondary)]`\n- Line 51: `text-gray-600` â†’ `text-[var(--text-secondary)]`\n- Line 56: `text-gray-600` â†’ `text-[var(--text-secondary)]`\n- Line 63: `text-gray-600` â†’ `text-[var(--text-secondary)]`\n- Line 68: `text-gray-600` â†’ `text-[var(--text-secondary)]`\n- Line 75: `text-gray-600` â†’ `text-[var(--text-secondary)]`\n- Line 79: `text-gray-500` â†’ `text-[var(--text-muted)]`\n\n**Step 2: Fix progress bar backgrounds (lines 45, 57, 69)**\n\nChange from:\n```html\n\u003cdiv class=\"flex-1 h-5 bg-gray-100 rounded-[var(--radius-sm)] overflow-hidden\"\u003e\n```\nto:\n```html\n\u003cdiv class=\"flex-1 h-5 bg-[var(--bg-tertiary)] rounded-[var(--radius-sm)] overflow-hidden\"\u003e\n```\n\n**Step 3: Fix progress bar fill colors**\n\nChange line 47 from:\n```html\nclass=\"h-full bg-indigo-500 rounded-[var(--radius-sm)] transition-all duration-300\"\n```\nto:\n```html\nclass=\"h-full bg-[var(--emerald)] rounded-[var(--radius-sm)] transition-all duration-300\"\n```\n\nChange line 59 from:\n```html\nclass=\"h-full bg-red-400 rounded-[var(--radius-sm)] transition-all duration-300\"\n```\nto:\n```html\nclass=\"h-full bg-[var(--rose)] rounded-[var(--radius-sm)] transition-all duration-300\"\n```\n\nChange line 71 from:\n```html\nclass=\"h-full bg-amber-400 rounded-[var(--radius-sm)] transition-all duration-300\"\n```\nto:\n```html\nclass=\"h-full bg-[var(--amber)] rounded-[var(--radius-sm)] transition-all duration-300\"\n```\n\n**Step 4: Commit**\n\n```bash\ngit add frontend/src/lib/components/poll/VoteSummary.svelte\ngit commit -m \"fix: use CSS variables for VoteSummary dark mode support\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:20:10.05627128+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:29:18.846399063+01:00","closed_at":"2026-01-25T20:29:18.846399063+01:00","close_reason":"Superseded by new Tailwind-native approach","dependencies":[{"issue_id":"meet-mesh-422.15","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:20:10.060755441+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.16","title":"Fix VoteRow.svelte dark mode support","description":"### Task 16: Fix VoteRow.svelte Dark Mode\n\n**Files:**\n- Modify: `frontend/src/lib/components/dashboard/VoteRow.svelte:23-25,39,41,45,54`\n\n**Step 1: Fix vote status color mappings (lines 23-25)**\n\nChange from:\n```typescript\nconst voteStatusColors: Record\u003cnumber, string\u003e = {\n    1: 'bg-green-100 text-green-700',\n    2: 'bg-red-100 text-red-700',\n    3: 'bg-amber-100 text-amber-700'\n};\n```\nto:\n```typescript\nconst voteStatusColors: Record\u003cnumber, string\u003e = {\n    1: 'bg-[var(--bg-success)] text-[var(--text-success)]',\n    2: 'bg-[var(--bg-error)] text-[var(--text-error)]',\n    3: 'bg-[var(--bg-warning)] text-[var(--text-warning)]'\n};\n```\n\n**Step 2: Fix container border (line 39)**\n\nChange from:\n```html\n\u003cdiv class=\"flex items-center py-3 border-b border-gray-100 last:border-b-0\"\u003e\n```\nto:\n```html\n\u003cdiv class=\"flex items-center py-3 border-b border-[var(--border-color)] last:border-b-0\"\u003e\n```\n\n**Step 3: Fix guest name (line 41)**\n\nChange from:\n```html\n\u003cp class=\"font-medium text-gray-900 truncate\"\u003e\n```\nto:\n```html\n\u003cp class=\"font-medium text-[var(--text-primary)] truncate\"\u003e\n```\n\n**Step 4: Fix guest email (line 45)**\n\nChange from:\n```html\n\u003cp class=\"text-sm text-gray-500 truncate\"\u003e{vote.guest_email}\u003c/p\u003e\n```\nto:\n```html\n\u003cp class=\"text-sm text-[var(--text-muted)] truncate\"\u003e{vote.guest_email}\u003c/p\u003e\n```\n\n**Step 5: Fix slot label (line 54)**\n\nChange from:\n```html\n\u003cspan class=\"text-gray-500\"\u003e{formatSlotLabel(slot)}:\u003c/span\u003e\n```\nto:\n```html\n\u003cspan class=\"text-[var(--text-muted)]\"\u003e{formatSlotLabel(slot)}:\u003c/span\u003e\n```\n\n**Step 6: Commit**\n\n```bash\ngit add frontend/src/lib/components/dashboard/VoteRow.svelte\ngit commit -m \"fix: use CSS variables for VoteRow dark mode support\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:20:10.941644499+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:29:18.947481246+01:00","closed_at":"2026-01-25T20:29:18.947481246+01:00","close_reason":"Superseded by new Tailwind-native approach","dependencies":[{"issue_id":"meet-mesh-422.16","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:20:10.944193701+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.17","title":"Fix PollOptionManager.svelte dark mode support","description":"### Task 17: Fix PollOptionManager.svelte Dark Mode\n\n**Files:**\n- Modify: `frontend/src/lib/components/dashboard/PollOptionManager.svelte:143,156,162,165,171,180,187,195,202,206,213,219,226,243,251,252,256,262`\n\n**Step 1: Fix section header (line 143)**\n\nChange from:\n```html\n\u003ch2 class=\"text-lg font-medium text-gray-900\"\u003e\n```\nto:\n```html\n\u003ch2 class=\"text-lg font-medium text-[var(--text-primary)]\"\u003e\n```\n\n**Step 2: Fix error box (line 156)**\n\nChange from:\n```html\n\u003cdiv class=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm\"\u003e\n```\nto:\n```html\n\u003cdiv class=\"mb-4 p-3 bg-[var(--bg-error)] border border-[var(--border-error)] rounded-lg text-[var(--text-error)] text-sm\"\u003e\n```\n\n**Step 3: Fix form container (line 162)**\n\nChange from:\n```html\n\u003cdiv class=\"mb-4 p-4 bg-gray-50 rounded-lg space-y-4\"\u003e\n```\nto:\n```html\n\u003cdiv class=\"mb-4 p-4 bg-[var(--bg-tertiary)] rounded-lg space-y-4\"\u003e\n```\n\n**Step 4: Fix all form labels (lines 165, 180, 195, 206, 219)**\n\nChange all instances of:\n```html\nclass=\"block text-sm font-medium text-gray-700 mb-1\"\n```\nto:\n```html\nclass=\"block text-sm font-medium text-[var(--text-secondary)] mb-1\"\n```\n\n**Step 5: Fix all form inputs/selects (lines 171, 187, 202, 213, 226)**\n\nChange all instances of:\n```html\nclass=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n```\nto:\n```html\nclass=\"w-full px-3 py-2 border border-[var(--border-color)] bg-[var(--bg-secondary)] text-[var(--text-primary)] rounded-lg focus:ring-2 focus:ring-[var(--sky)] focus:border-[var(--sky)]\"\n```\n\n**Step 6: Fix empty state text (line 243)**\n\nChange from:\n```html\n\u003cp class=\"text-gray-500 text-center py-4\"\u003e\n```\nto:\n```html\n\u003cp class=\"text-[var(--text-muted)] text-center py-4\"\u003e\n```\n\n**Step 7: Fix option icon container (line 251)**\n\nChange from:\n```html\n\u003cdiv class=\"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center\"\u003e\n```\nto:\n```html\n\u003cdiv class=\"w-8 h-8 bg-[var(--bg-accent-light)] rounded-lg flex items-center justify-center\"\u003e\n```\n\n**Step 8: Fix option icon (line 252)**\n\nChange from:\n```html\n\u003csvg class=\"w-4 h-4 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"\u003e\n```\nto:\n```html\n\u003csvg class=\"w-4 h-4 text-[var(--sky)]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"\u003e\n```\n\n**Step 9: Fix option text (line 256)**\n\nChange from:\n```html\n\u003cspan class=\"text-gray-900\"\u003e{formatOption(option)}\u003c/span\u003e\n```\nto:\n```html\n\u003cspan class=\"text-[var(--text-primary)]\"\u003e{formatOption(option)}\u003c/span\u003e\n```\n\n**Step 10: Fix delete button (line 262)**\n\nChange from:\n```html\nclass=\"p-1 text-gray-400 hover:text-red-500 disabled:opacity-50\"\n```\nto:\n```html\nclass=\"p-1 text-[var(--text-muted)] hover:text-[var(--rose)] disabled:opacity-50\"\n```\n\n**Step 11: Commit**\n\n```bash\ngit add frontend/src/lib/components/dashboard/PollOptionManager.svelte\ngit commit -m \"fix: use CSS variables for PollOptionManager dark mode support\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:20:36.353828358+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:29:19.043158069+01:00","closed_at":"2026-01-25T20:29:19.043158069+01:00","close_reason":"Superseded by new Tailwind-native approach","dependencies":[{"issue_id":"meet-mesh-422.17","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:20:36.356470161+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.18","title":"Final verification and cleanup","description":"### Task 18: Final Verification and Cleanup\n\n**Step 1: Run type checking**\n\nRun: `cd frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript/Svelte errors\n\n**Step 2: Build the frontend**\n\nRun: `cd frontend \u0026\u0026 pnpm build`\nExpected: Build succeeds\n\n**Step 3: Visual verification checklist**\n\nRun: `cd frontend \u0026\u0026 pnpm dev`\n\nTest the following pages in both light and dark mode:\n- [ ] Dashboard home page\n- [ ] Booking links list\n- [ ] Create/edit booking link\n- [ ] Poll links list\n- [ ] Create/edit poll link\n- [ ] Public booking page\n- [ ] Public poll page\n- [ ] Email action pages\n\nFor each page verify:\n- [ ] All text is readable (no dark text on dark backgrounds)\n- [ ] All form inputs have visible borders and text\n- [ ] All buttons are visible and styled correctly\n- [ ] Status messages (error, success, info) are readable\n- [ ] Empty states are visible\n- [ ] Loading skeletons are visible\n\n**Step 4: Search for any remaining hardcoded colors**\n\nRun: `grep -r \"bg-gray-\\|bg-slate-\\|bg-indigo-\\|text-gray-\\|text-slate-\\|text-indigo-\" frontend/src/lib/components --include=\"*.svelte\" | grep -v \"node_modules\"`\n\nExpected: No results (or only intentional uses)\n\n**Step 5: Commit any final fixes**\n\nIf any issues found, fix them and commit:\n```bash\ngit add -A\ngit commit -m \"fix: address remaining dark mode issues found during verification\"\n```\n\n**Step 6: Final commit for epic completion**\n\n```bash\ngit add -A\ngit commit -m \"chore: complete dark mode unification epic\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:20:36.627906022+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:29:19.134395667+01:00","closed_at":"2026-01-25T20:29:19.134395667+01:00","close_reason":"Superseded by new Tailwind-native approach","dependencies":[{"issue_id":"meet-mesh-422.18","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:20:36.630874336+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.19","title":"Configure Tailwind v4 dark mode with data-theme selector","description":"### Configure Tailwind Dark Mode\n\n**Goal:** Set up Tailwind v4 to recognize `data-theme=\"dark\"` on the root element for dark mode.\n\n**Tailwind v4 uses CSS-first configuration.** Add to app.css:\n\n```css\n@custom-variant dark (\u0026:where([data-theme=\"dark\"], [data-theme=\"dark\"] *));\n```\n\nThis tells Tailwind that `dark:` classes should apply when the root has `data-theme=\"dark\"`.\n\n**Verify:**\n- Add a test class like `dark:bg-red-500` to any component\n- Toggle theme - the class should apply in dark mode","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:29:39.929327998+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:37:04.315583173+01:00","closed_at":"2026-01-25T20:37:04.315583173+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-422.19","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:29:39.932111614+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.2","title":"Fix public and actions layouts for dark mode","description":"### Task 2: Fix Public and Actions Layouts\n\n**Files:**\n- Modify: `frontend/src/routes/(public)/+layout.svelte:9`\n- Modify: `frontend/src/routes/(actions)/+layout.svelte:9`\n\n**Step 1: Update public layout**\n\nIn `frontend/src/routes/(public)/+layout.svelte`, change line 9 from:\n```html\n\u003cdiv class=\"min-h-screen bg-slate-50\"\u003e\n```\nto:\n```html\n\u003cdiv class=\"min-h-screen bg-[var(--bg-primary)]\"\u003e\n```\n\n**Step 2: Update actions layout**\n\nIn `frontend/src/routes/(actions)/+layout.svelte`, change line 9 from:\n```html\n\u003cdiv class=\"min-h-screen bg-slate-50\"\u003e\n```\nto:\n```html\n\u003cdiv class=\"min-h-screen bg-[var(--bg-primary)]\"\u003e\n```\n\n**Step 3: Test visually**\n\nRun: `cd frontend \u0026\u0026 pnpm dev`\n- Navigate to a public booking page\n- Navigate to an email action page\n- Toggle dark mode and verify backgrounds change correctly\n\n**Step 4: Commit**\n\n```bash\ngit add frontend/src/routes/\\(public\\)/+layout.svelte frontend/src/routes/\\(actions\\)/+layout.svelte\ngit commit -m \"fix: add dark mode support to public and actions layouts\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:17:20.772585971+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:29:17.591897866+01:00","closed_at":"2026-01-25T20:29:17.591897866+01:00","close_reason":"Superseded by new Tailwind-native approach","dependencies":[{"issue_id":"meet-mesh-422.2","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:17:20.775479333+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.20","title":"Simplify app.css - remove redundant CSS variables","description":"### Simplify app.css\n\n**Goal:** Remove CSS variables that duplicate Tailwind's built-in colors.\n\n**Currently app.css defines:**\n- Accent colors that match Tailwind 500 palette (amber, emerald, sky, violet, rose)\n- Neo-brutalist colors that can be replaced with Tailwind equivalents\n\n**Keep only:**\n- `--shadow`, `--shadow-hover`, `--shadow-sm` - neo-brutalist shadows\n- `--border`, `--border-light` - neo-brutalist border styles\n- `--radius`, `--radius-lg` - if different from Tailwind defaults\n- `--transition` - animation timing\n- `--sidebar-width` - layout value\n\n**Replace with Tailwind classes in components:**\n- `var(--bg-primary)` â†’ `bg-stone-100 dark:bg-neutral-900` (or similar)\n- `var(--bg-secondary)` â†’ `bg-white dark:bg-black`\n- `var(--text-primary)` â†’ `text-neutral-900 dark:text-neutral-100`\n- `var(--border-color)` â†’ `border-neutral-900 dark:border-neutral-700`","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:29:48.176989374+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:50:40.565196132+01:00","closed_at":"2026-01-25T20:50:40.565196132+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-422.20","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:29:48.179313367+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.21","title":"Update components to use Tailwind dark: prefix pattern","description":"### Update Components to Use dark: Prefix\n\n**Goal:** Replace CSS variable usage with Tailwind classes + dark: variants.\n\n**Pattern to apply:**\n```svelte\n\u003c!-- Before --\u003e\n\u003cdiv style=\"background: var(--bg-primary); color: var(--text-primary)\"\u003e\n\n\u003c!-- After --\u003e\n\u003cdiv class=\"bg-stone-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100\"\u003e\n```\n\n**Common mappings:**\n- Backgrounds: `bg-white dark:bg-neutral-900`, `bg-stone-50 dark:bg-neutral-800`\n- Text: `text-neutral-900 dark:text-neutral-100`, `text-neutral-600 dark:text-neutral-400`\n- Borders: `border-neutral-200 dark:border-neutral-700`\n- Status: `bg-green-100 dark:bg-green-900`, `bg-red-100 dark:bg-red-900`\n\n**Files to update:** All components in `frontend/src/lib/components/`","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:30:08.890114628+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:50:40.639365656+01:00","closed_at":"2026-01-25T20:50:40.639365656+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-422.21","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:30:08.892965005+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.22","title":"Verify dark mode works across all pages","description":"### Final Verification\n\n**Goal:** Test that dark mode works consistently across the entire app.\n\n**Test checklist:**\n- [ ] Dashboard pages\n- [ ] Public booking pages\n- [ ] Public poll pages\n- [ ] Action pages (approve/decline via email)\n- [ ] All modals and dialogs\n- [ ] Toast notifications\n- [ ] Form inputs and validation states\n- [ ] Loading states and skeletons\n- [ ] Empty states\n\n**Method:**\n1. Run the app locally\n2. Toggle theme using the ThemeToggle\n3. Visit each page type and verify colors adapt correctly\n4. Check there are no hardcoded colors that don't change","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:30:15.447505217+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:51:38.744700363+01:00","closed_at":"2026-01-25T20:51:38.744700363+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-422.22","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:30:15.449929261+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.3","title":"Fix BookingPage.svelte dark mode - remove dark: prefix","description":"### Task 3: Fix BookingPage.svelte Dark Mode\n\n**Files:**\n- Modify: `frontend/src/lib/components/booking/BookingPage.svelte:219,295-296,341-342,388-389`\n\n**Problem:** This component uses `dark:` Tailwind prefix which doesn't work with the data-theme approach.\n\n**Step 1: Fix error message box (line 219)**\n\nChange from:\n```html\nclass=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-[var(--radius-md)] text-red-700\"\n```\nto:\n```html\nclass=\"mb-6 p-4 bg-[var(--bg-error)] border border-[var(--border-error)] rounded-[var(--radius-md)] text-[var(--text-error)]\"\n```\n\n**Step 2: Fix info boxes (lines 295-296, 341-342, 388-389)**\n\nThere are 3 identical info boxes. Change each from:\n```html\n\u003cdiv class=\"mb-6 p-3 bg-indigo-50 dark:bg-indigo-900/30 rounded-[var(--radius-md)] border border-indigo-100 dark:border-indigo-800\"\u003e\n    \u003cp class=\"text-sm text-indigo-800 dark:text-indigo-200 font-medium\"\u003e\n```\nto:\n```html\n\u003cdiv class=\"mb-6 p-3 bg-[var(--bg-accent-light)] rounded-[var(--radius-md)] border border-[var(--border-accent-light)]\"\u003e\n    \u003cp class=\"text-sm text-[var(--text-accent)] font-medium\"\u003e\n```\n\n**Step 3: Test visually**\n\nRun: `cd frontend \u0026\u0026 pnpm dev`\n- Navigate to a booking page with time slots\n- Toggle dark mode\n- Verify the info boxes and error messages are readable in both modes\n\n**Step 4: Commit**\n\n```bash\ngit add frontend/src/lib/components/booking/BookingPage.svelte\ngit commit -m \"fix: replace dark: prefix with CSS variables in BookingPage\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:17:31.800391387+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:29:17.684076239+01:00","closed_at":"2026-01-25T20:29:17.684076239+01:00","close_reason":"Superseded by new Tailwind-native approach","dependencies":[{"issue_id":"meet-mesh-422.3","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:17:31.802826298+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.4","title":"Fix Toast.svelte dark mode support","description":"### Task 4: Fix Toast.svelte Dark Mode\n\n**Files:**\n- Modify: `frontend/src/lib/components/ui/Toast.svelte:14-18`\n\n**Step 1: Update variant classes**\n\nChange lines 14-18 from:\n```typescript\nconst variantClasses: Record\u003cVariant, string\u003e = {\n    success: 'bg-green-50 text-green-800 border-green-200',\n    error: 'bg-red-50 text-red-800 border-red-200',\n    info: 'bg-blue-50 text-blue-800 border-blue-200'\n};\n```\nto:\n```typescript\nconst variantClasses: Record\u003cVariant, string\u003e = {\n    success: 'bg-[var(--bg-success)] text-[var(--text-success)] border-[var(--border-success)]',\n    error: 'bg-[var(--bg-error)] text-[var(--text-error)] border-[var(--border-error)]',\n    info: 'bg-[var(--bg-info)] text-[var(--text-info)] border-[var(--border-info)]'\n};\n```\n\n**Step 2: Test visually**\n\nRun: `cd frontend \u0026\u0026 pnpm dev`\n- Trigger toast notifications (success, error, info)\n- Toggle dark mode and verify all variants are readable\n\n**Step 3: Commit**\n\n```bash\ngit add frontend/src/lib/components/ui/Toast.svelte\ngit commit -m \"fix: use CSS variables for Toast dark mode support\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:17:32.082575135+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:29:17.775208546+01:00","closed_at":"2026-01-25T20:29:17.775208546+01:00","close_reason":"Superseded by new Tailwind-native approach","dependencies":[{"issue_id":"meet-mesh-422.4","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:17:32.085191687+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.5","title":"Fix Dialog.svelte dark mode support","description":"### Task 5: Fix Dialog.svelte Dark Mode\n\n**Files:**\n- Modify: `frontend/src/lib/components/ui/Dialog.svelte:21,23-24,28,50`\n\n**Step 1: Fix dialog container (line 21)**\n\nChange from:\n```html\nclass=\"fixed left-1/2 top-1/2 z-50 w-full max-w-lg -translate-x-1/2 -translate-y-1/2 rounded-[var(--radius-lg)] border border-gray-200 bg-white shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95\"\n```\nto:\n```html\nclass=\"fixed left-1/2 top-1/2 z-50 w-full max-w-lg -translate-x-1/2 -translate-y-1/2 rounded-[var(--radius-lg)] border border-[var(--border-color)] bg-[var(--bg-secondary)] shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95\"\n```\n\n**Step 2: Fix header section (line 23)**\n\nChange from:\n```html\n\u003cdiv class=\"flex items-center justify-between border-b border-gray-200 px-6 py-4\"\u003e\n```\nto:\n```html\n\u003cdiv class=\"flex items-center justify-between border-b border-[var(--border-color)] px-6 py-4\"\u003e\n```\n\n**Step 3: Fix title (line 24)**\n\nChange from:\n```html\n\u003cDialog.Title class=\"text-lg font-semibold text-gray-900\"\u003e\n```\nto:\n```html\n\u003cDialog.Title class=\"text-lg font-semibold text-[var(--text-primary)]\"\u003e\n```\n\n**Step 4: Fix close button (line 28)**\n\nChange from:\n```html\nclass=\"rounded-[var(--radius-sm)] p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n```\nto:\n```html\nclass=\"rounded-[var(--radius-sm)] p-1 text-[var(--text-muted)] hover:bg-[var(--bg-tertiary)] hover:text-[var(--text-secondary)] focus:outline-none focus:ring-2 focus:ring-[var(--sky)] focus:ring-offset-2\"\n```\n\n**Step 5: Fix footer section (line 50)**\n\nChange from:\n```html\n\u003cdiv class=\"flex justify-end gap-3 border-t border-gray-200 bg-gray-50 px-6 py-4 rounded-b-[var(--radius-lg)]\"\u003e\n```\nto:\n```html\n\u003cdiv class=\"flex justify-end gap-3 border-t border-[var(--border-color)] bg-[var(--bg-tertiary)] px-6 py-4 rounded-b-[var(--radius-lg)]\"\u003e\n```\n\n**Step 6: Test visually**\n\nRun: `cd frontend \u0026\u0026 pnpm dev`\n- Open any dialog (e.g., booking link settings, delete confirmation)\n- Toggle dark mode and verify dialog is readable\n\n**Step 7: Commit**\n\n```bash\ngit add frontend/src/lib/components/ui/Dialog.svelte\ngit commit -m \"fix: use CSS variables for Dialog dark mode support\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:18:15.165368385+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:29:17.865750879+01:00","closed_at":"2026-01-25T20:29:17.865750879+01:00","close_reason":"Superseded by new Tailwind-native approach","dependencies":[{"issue_id":"meet-mesh-422.5","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:18:15.167912707+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.6","title":"Fix Skeleton and LoadingScreen dark mode","description":"### Task 6: Fix Skeleton and LoadingScreen Dark Mode\n\n**Files:**\n- Modify: `frontend/src/lib/components/ui/Skeleton.svelte:19`\n- Modify: `frontend/src/lib/components/shared/LoadingScreen.svelte:5`\n\n**Step 1: Fix Skeleton.svelte (line 19)**\n\nChange from:\n```html\nclass=\"animate-pulse bg-slate-200 rounded-[var(--radius-sm)] {className}\"\n```\nto:\n```html\nclass=\"animate-pulse bg-[var(--bg-tertiary)] rounded-[var(--radius-sm)] {className}\"\n```\n\n**Step 2: Fix LoadingScreen.svelte (line 5)**\n\nChange from:\n```html\n\u003cdiv class=\"min-h-screen flex items-center justify-center bg-slate-50\"\u003e\n```\nto:\n```html\n\u003cdiv class=\"min-h-screen flex items-center justify-center bg-[var(--bg-primary)]\"\u003e\n```\n\n**Step 3: Test visually**\n\nRun: `cd frontend \u0026\u0026 pnpm dev`\n- Navigate to a page with loading states\n- Toggle dark mode and verify skeletons are visible\n\n**Step 4: Commit**\n\n```bash\ngit add frontend/src/lib/components/ui/Skeleton.svelte frontend/src/lib/components/shared/LoadingScreen.svelte\ngit commit -m \"fix: use CSS variables for Skeleton and LoadingScreen dark mode\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:18:16.319366248+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:29:17.955115656+01:00","closed_at":"2026-01-25T20:29:17.955115656+01:00","close_reason":"Superseded by new Tailwind-native approach","dependencies":[{"issue_id":"meet-mesh-422.6","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:18:16.32197227+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.7","title":"Fix EmptyState.svelte dark mode support","description":"### Task 7: Fix EmptyState.svelte Dark Mode\n\n**Files:**\n- Modify: `frontend/src/lib/components/ui/EmptyState.svelte:16,21,22`\n\n**Step 1: Fix icon container (line 16)**\n\nChange from:\n```html\n\u003cdiv class=\"text-slate-400 mb-4\"\u003e\n```\nto:\n```html\n\u003cdiv class=\"text-[var(--text-muted)] mb-4\"\u003e\n```\n\n**Step 2: Fix title (line 21)**\n\nChange from:\n```html\n\u003ch3 class=\"text-lg font-medium text-slate-900 mb-2\"\u003e{title}\u003c/h3\u003e\n```\nto:\n```html\n\u003ch3 class=\"text-lg font-medium text-[var(--text-primary)] mb-2\"\u003e{title}\u003c/h3\u003e\n```\n\n**Step 3: Fix description (line 22)**\n\nChange from:\n```html\n\u003cp class=\"text-sm text-slate-500 max-w-sm mb-6\"\u003e{description}\u003c/p\u003e\n```\nto:\n```html\n\u003cp class=\"text-sm text-[var(--text-secondary)] max-w-sm mb-6\"\u003e{description}\u003c/p\u003e\n```\n\n**Step 4: Test visually**\n\nRun: `cd frontend \u0026\u0026 pnpm dev`\n- Navigate to pages with empty states (e.g., empty bookings list)\n- Toggle dark mode and verify text is readable\n\n**Step 5: Commit**\n\n```bash\ngit add frontend/src/lib/components/ui/EmptyState.svelte\ngit commit -m \"fix: use CSS variables for EmptyState dark mode support\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:18:17.135195383+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:29:18.049714673+01:00","closed_at":"2026-01-25T20:29:18.049714673+01:00","close_reason":"Superseded by new Tailwind-native approach","dependencies":[{"issue_id":"meet-mesh-422.7","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:18:17.137610924+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.8","title":"Fix Popover.svelte dark mode support","description":"### Task 8: Fix Popover.svelte Dark Mode\n\n**Files:**\n- Modify: `frontend/src/lib/components/ui/Popover.svelte:25`\n\n**Step 1: Fix popover content container**\n\nChange from:\n```html\nclass=\"z-50 w-72 rounded-[var(--radius-md)] border border-gray-200 bg-white p-4 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\"\n```\nto:\n```html\nclass=\"z-50 w-72 rounded-[var(--radius-md)] border border-[var(--border-color)] bg-[var(--bg-secondary)] p-4 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\"\n```\n\n**Step 2: Commit**\n\n```bash\ngit add frontend/src/lib/components/ui/Popover.svelte\ngit commit -m \"fix: use CSS variables for Popover dark mode support\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:18:43.710547952+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:29:18.14607397+01:00","closed_at":"2026-01-25T20:29:18.14607397+01:00","close_reason":"Superseded by new Tailwind-native approach","dependencies":[{"issue_id":"meet-mesh-422.8","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:18:43.713648186+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-422.9","title":"Fix Input and Select error state colors","description":"### Task 9: Fix Input and Select Error State Colors\n\n**Files:**\n- Modify: `frontend/src/lib/components/ui/Input.svelte:47,70,75`\n- Modify: `frontend/src/lib/components/ui/Select.svelte:52,111`\n\n**Step 1: Fix Input.svelte required asterisk (line 47)**\n\nChange from:\n```html\n\u003cspan class=\"text-red-500\"\u003e*\u003c/span\u003e\n```\nto:\n```html\n\u003cspan class=\"text-[var(--rose)]\"\u003e*\u003c/span\u003e\n```\n\n**Step 2: Fix Input.svelte error border (line 70)**\n\nChange from:\n```typescript\n{error ? 'border-red-500 focus:border-red-500 focus:ring-red-500' : ''}\"\n```\nto:\n```typescript\n{error ? 'border-[var(--rose)] focus:border-[var(--rose)] focus:ring-[var(--rose)]' : ''}\"\n```\n\n**Step 3: Fix Input.svelte error message (line 75)**\n\nChange from:\n```html\n\u003cp id={errorId} class=\"text-sm text-red-600\"\u003e\n```\nto:\n```html\n\u003cp id={errorId} class=\"text-sm text-[var(--text-error)]\"\u003e\n```\n\n**Step 4: Fix Select.svelte error border (line 52)**\n\nChange from:\n```typescript\n{error ? 'border-red-500 focus:ring-red-500' : ''}\"\n```\nto:\n```typescript\n{error ? 'border-[var(--rose)] focus:ring-[var(--rose)]' : ''}\"\n```\n\n**Step 5: Fix Select.svelte error message (line 111)**\n\nChange from:\n```html\n\u003cp id={errorId} class=\"text-sm text-red-600\"\u003e\n```\nto:\n```html\n\u003cp id={errorId} class=\"text-sm text-[var(--text-error)]\"\u003e\n```\n\n**Step 6: Commit**\n\n```bash\ngit add frontend/src/lib/components/ui/Input.svelte frontend/src/lib/components/ui/Select.svelte\ngit commit -m \"fix: use CSS variables for Input and Select error states\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:18:44.575455041+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:29:18.237552769+01:00","closed_at":"2026-01-25T20:29:18.237552769+01:00","close_reason":"Superseded by new Tailwind-native approach","dependencies":[{"issue_id":"meet-mesh-422.9","depends_on_id":"meet-mesh-422","type":"parent-child","created_at":"2026-01-25T20:18:44.578150624+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-53w","title":"Fix dark mode on public booking/poll pages","description":"# Fix Dark Mode on Public Booking/Poll Pages Implementation Plan\n\n**Goal:** Enable dark/light mode toggle on booking and poll pages, and fix the light background that appears in dark mode.\n\n**Architecture:** Add ThemeToggle component to the public layout and fix CSS to use theme-aware variables instead of hardcoded colors.\n\n**Tech Stack:** SvelteKit, Tailwind CSS v4, CSS custom properties\n\n---\n\n## Root Cause Analysis\n\n**Issue 1: Hardcoded light background in public layout**\n- File: `frontend/src/routes/(public)/+layout.svelte`\n- The layout uses `bg-slate-50` which is a hardcoded light color\n- This doesn't respond to the `data-theme` attribute\n\n**Issue 2: No theme toggle on public pages**\n- The `ThemeToggle.svelte` component exists and works correctly\n- It's only used in `DashboardHeader.svelte` (dashboard pages)\n- Public pages (booking/poll) have no way to toggle the theme\n\n## Solution Overview\n\n1. Update public layout to use CSS variable `var(--bg-primary)` instead of `bg-slate-50`\n2. Add ThemeToggle component to public layout in a subtle, accessible position","status":"closed","priority":2,"issue_type":"epic","owner":"k@knt.li","created_at":"2026-01-25T21:51:39.808179472+01:00","created_by":"kolaente","updated_at":"2026-01-26T11:03:54.249369836+01:00","closed_at":"2026-01-26T11:03:54.249369836+01:00","close_reason":"Closed"}
{"id":"meet-mesh-53w.1","title":"Fix public layout background to use theme variables","description":"### Task 1: Fix Public Layout Background\n\n**Files:**\n- Modify: `frontend/src/routes/(public)/+layout.svelte`\n\n**Step 1: Open the file and identify the issue**\n\nThe current code at line 9:\n```svelte\n\u003cdiv class=\"min-h-screen bg-slate-50\"\u003e\n```\n\nThis `bg-slate-50` is a hardcoded Tailwind class that doesn't respond to dark mode.\n\n**Step 2: Replace hardcoded color with CSS variable**\n\nChange line 9 from:\n```svelte\n\u003cdiv class=\"min-h-screen bg-slate-50\"\u003e\n```\n\nTo:\n```svelte\n\u003cdiv class=\"min-h-screen bg-[var(--bg-primary)]\"\u003e\n```\n\nThis uses the `--bg-primary` CSS variable which is defined in `app.css` and changes based on `data-theme`:\n- Light mode: `#f5f3f0`\n- Dark mode: `#1a1a1a`\n\n**Step 3: Verify the change**\n\nRun the dev server and navigate to a booking or poll page:\n```bash\ncd frontend \u0026\u0026 pnpm dev\n```\n\n1. Open a booking page (e.g., `/p/booking/[slug]`)\n2. The background should now be the cream color (`#f5f3f0`)\n3. Using browser devtools, change `data-theme` on `\u003chtml\u003e` to `\"dark\"`\n4. The background should change to dark (`#1a1a1a`)\n\n**Step 4: Commit**\n\n```bash\ngit add frontend/src/routes/\\(public\\)/+layout.svelte\ngit commit -m \"fix: use theme variable for public layout background\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:52:03.62084737+01:00","created_by":"kolaente","updated_at":"2026-01-26T11:03:53.989218296+01:00","closed_at":"2026-01-26T11:03:53.989218296+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-53w.1","depends_on_id":"meet-mesh-53w","type":"parent-child","created_at":"2026-01-25T21:52:03.623728497+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-53w.2","title":"Add ThemeToggle component to public layout","description":"### Task 2: Add ThemeToggle to Public Layout\n\n**Files:**\n- Modify: `frontend/src/routes/(public)/+layout.svelte`\n\n**Step 1: Import the ThemeToggle component**\n\nAdd import at the top of the script section:\n```svelte\n\u003cscript lang=\"ts\"\u003e\n  import { page } from '$app/state'\n  import { fade } from 'svelte/transition'\n  import { pageIn, pageOut } from '$lib/utils/transitions'\n  import ThemeToggle from '$lib/components/ui/ThemeToggle.svelte'\n\n  let { children } = $props()\n\u003c/script\u003e\n```\n\n**Step 2: Add ThemeToggle to the layout**\n\nPosition it in the top-right corner, outside the content area but visible on all public pages. Update the template:\n\n```svelte\n\u003cdiv class=\"min-h-screen bg-[var(--bg-primary)]\"\u003e\n  \u003c!-- Theme toggle in top-right corner --\u003e\n  \u003cdiv class=\"fixed top-4 right-4 z-50\"\u003e\n    \u003cThemeToggle /\u003e\n  \u003c/div\u003e\n  \n  \u003cdiv class=\"max-w-2xl mx-auto px-4 py-8\"\u003e\n    {#key page.url.pathname}\n      \u003cdiv in:fade={pageIn} out:fade={pageOut}\u003e\n        {@render children()}\n      \u003c/div\u003e\n    {/key}\n  \u003c/div\u003e\n\u003c/div\u003e\n```\n\n**Step 3: Verify the change**\n\nRun the dev server:\n```bash\ncd frontend \u0026\u0026 pnpm dev\n```\n\n1. Open a booking page (e.g., `/p/booking/[slug]`)\n2. Verify the theme toggle button appears in the top-right corner\n3. Click the toggle to switch between light and dark mode\n4. Verify the entire page (background + content) updates correctly\n5. Refresh the page - theme preference should persist\n\n**Step 4: Commit**\n\n```bash\ngit add frontend/src/routes/\\(public\\)/+layout.svelte\ngit commit -m \"feat: add theme toggle to public booking/poll pages\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:52:54.35960114+01:00","created_by":"kolaente","updated_at":"2026-01-26T11:03:54.078226977+01:00","closed_at":"2026-01-26T11:03:54.078226977+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-53w.2","depends_on_id":"meet-mesh-53w","type":"parent-child","created_at":"2026-01-25T21:52:54.363204759+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-53w.3","title":"Test dark mode on booking and poll pages end-to-end","description":"### Task 3: Test Dark Mode End-to-End\n\n**Files:**\n- No code changes, testing only\n\n**Step 1: Start the dev server**\n\n```bash\ncd frontend \u0026\u0026 pnpm dev\n```\n\n**Step 2: Test booking page**\n\n1. Navigate to a booking link page (e.g., `/p/booking/test-link`)\n2. Verify default theme matches system preference\n3. Click the theme toggle in top-right corner\n4. Verify:\n   - Background changes from cream to dark grey\n   - Header text (`link.name`) is readable\n   - Step indicators are visible\n   - Calendar/date picker is readable\n   - Cards have appropriate contrast\n   - Buttons are visible and have proper hover states\n\n**Step 3: Test poll page**\n\n1. Navigate to a poll page (e.g., `/p/poll/test-poll`)\n2. Repeat theme toggle test\n3. Verify:\n   - Vote cards are readable\n   - Vote buttons (Yes/No/Maybe) have proper contrast\n   - Form inputs are visible\n   - Success/error states are visible\n\n**Step 4: Test theme persistence**\n\n1. Toggle to dark mode\n2. Close the browser tab\n3. Reopen the page\n4. Verify dark mode is still active (persisted in localStorage)\n\n**Step 5: Test results/confirmation pages**\n\n1. After voting on a poll, navigate to results page\n2. After booking, navigate to confirmation page\n3. Verify theme is consistent across all public pages\n\n**Step 6: Commit (if any fixes needed)**\n\nIf any issues are found during testing, fix them and commit:\n```bash\ngit add -A\ngit commit -m \"fix: address dark mode issues found during testing\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:53:05.130535385+01:00","created_by":"kolaente","updated_at":"2026-01-26T11:03:54.163961733+01:00","closed_at":"2026-01-26T11:03:54.163961733+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-53w.3","depends_on_id":"meet-mesh-53w","type":"parent-child","created_at":"2026-01-25T21:53:05.133684829+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-5sz","title":"Calendar Event Creation + ICS Email on Booking Confirmation","description":"# Calendar Event Creation + ICS Email on Booking Confirmation\n\n**Goal:** When a booking is confirmed (either immediately via auto-confirm or later via approval), create a calendar event on the organizer's CalDAV calendar AND send the guest an email with an .ics attachment.\n\n**Architecture:** \n1. Extend `CalDAVClient.CreateBookingEvent()` to return the full ICS data in addition to creating the event\n2. Add `GenerateICSData()` helper function for generating standalone .ics file content\n3. Extend `Mailer` to support attachments and modify confirmation email methods to attach .ics\n4. Ensure both immediate (auto-confirm) and delayed (approval) paths trigger calendar+email\n\n**Tech Stack:** Go, github.com/emersion/go-ical, gopkg.in/gomail.v2\n\n---\n\n## Context\n\nThe app already has:\n- CalDAV integration (`api/caldav.go`) with `CreateBookingEvent()` that creates events on organizer calendar\n- Email system (`api/mailer.go`) using gomail that sends HTML emails\n- Booking confirmation flow in `handler_public_booking.go` (auto-confirm) and `handler_actions.go` / `handler_bookings.go` (approval)\n\nWhat's missing:\n- Guests don't receive an .ics file to add to their own calendars\n- Email confirmations don't have the event attached\n\n## Confirmation Paths\n\nBoth paths need calendar event + ICS email:\n\n1. **Immediate confirmation** (`handler_public_booking.go:CreateBooking`):\n   - When `link.AutoConfirm` is true\n   - Already calls `CreateBookingEvent()` and `SendBookingConfirmation()`\n\n2. **Delayed confirmation** (approval):\n   - `handler_actions.go:ApproveViaEmail` - approval via email link\n   - `handler_bookings.go:ApproveBooking` - approval via dashboard\n   - Both already call `CreateBookingEvent()` and `SendBookingApproved()`\n\n## ICS Format Requirements\n\nRFC 5545 compliant calendar event with:\n- VCALENDAR wrapper with PRODID, VERSION\n- VEVENT with: UID, DTSTAMP, DTSTART, DTEND, SUMMARY, DESCRIPTION (optional), LOCATION (optional), ORGANIZER, ATTENDEE\n- METHOD:REQUEST for calendar invites","status":"in_progress","priority":2,"issue_type":"epic","owner":"k@knt.li","created_at":"2026-01-26T14:50:37.411216191+01:00","created_by":"kolaente","updated_at":"2026-01-26T17:26:28.192445946+01:00","labels":["backend","calendar","email","feature"]}
{"id":"meet-mesh-5sz.1","title":"Task 1: Add GenerateICSData helper function with test","description":"## Files\n\n- **Create:** `api/ics.go` - New file for ICS generation helpers\n- **Create:** `api/ics_test.go` - Tests for ICS generation\n\n## Step 1: Write the failing test\n\nCreate `api/ics_test.go`:\n\n```go\npackage api\n\nimport (\n\t\"strings\"\n\t\"testing\"\n\t\"time\"\n)\n\nfunc TestGenerateICSData(t *testing.T) {\n\tbooking := \u0026Booking{\n\t\tGuestEmail: \"guest@example.com\",\n\t\tGuestName:  \"John Doe\",\n\t}\n\tslot := \u0026Slot{\n\t\tStartTime: time.Date(2026, 2, 15, 14, 0, 0, 0, time.UTC),\n\t\tEndTime:   time.Date(2026, 2, 15, 15, 0, 0, 0, time.UTC),\n\t}\n\ttemplate := \u0026EventTemplate{\n\t\tTitleTemplate:       \"Meeting with {{guest_name}}\",\n\t\tDescriptionTemplate: \"Booking with {{guest_email}}\",\n\t\tLocation:            \"Conference Room A\",\n\t}\n\torganizerEmail := \"organizer@example.com\"\n\n\ticsData, err := GenerateICSData(booking, slot, template, organizerEmail)\n\tif err != nil {\n\t\tt.Fatalf(\"GenerateICSData failed: %v\", err)\n\t}\n\n\t// Verify required components\n\tchecks := []string{\n\t\t\"BEGIN:VCALENDAR\",\n\t\t\"VERSION:2.0\",\n\t\t\"PRODID:-//Meet Mesh//EN\",\n\t\t\"BEGIN:VEVENT\",\n\t\t\"SUMMARY:Meeting with John Doe\",\n\t\t\"DESCRIPTION:Booking with guest@example.com\",\n\t\t\"LOCATION:Conference Room A\",\n\t\t\"DTSTART:20260215T140000Z\",\n\t\t\"DTEND:20260215T150000Z\",\n\t\t\"ORGANIZER:mailto:organizer@example.com\",\n\t\t\"ATTENDEE;CN=John Doe:mailto:guest@example.com\",\n\t\t\"END:VEVENT\",\n\t\t\"END:VCALENDAR\",\n\t}\n\n\tfor _, check := range checks {\n\t\tif !strings.Contains(icsData, check) {\n\t\t\tt.Errorf(\"ICS data missing %q\", check)\n\t\t}\n\t}\n}\n\nfunc TestGenerateICSData_MinimalTemplate(t *testing.T) {\n\tbooking := \u0026Booking{\n\t\tGuestEmail: \"guest@example.com\",\n\t}\n\tslot := \u0026Slot{\n\t\tStartTime: time.Date(2026, 2, 15, 14, 0, 0, 0, time.UTC),\n\t\tEndTime:   time.Date(2026, 2, 15, 15, 0, 0, 0, time.UTC),\n\t}\n\torganizerEmail := \"organizer@example.com\"\n\n\t// nil template should use defaults\n\ticsData, err := GenerateICSData(booking, slot, nil, organizerEmail)\n\tif err != nil {\n\t\tt.Fatalf(\"GenerateICSData failed: %v\", err)\n\t}\n\n\tif !strings.Contains(icsData, \"SUMMARY:Meeting\") {\n\t\tt.Error(\"Expected default summary 'Meeting'\")\n\t}\n}\n```\n\n## Step 2: Run test to verify it fails\n\n```bash\ncd api \u0026\u0026 go test -run TestGenerateICSData -v\n```\n\nExpected: FAIL with \"undefined: GenerateICSData\"\n\n## Step 3: Write minimal implementation\n\nCreate `api/ics.go`:\n\n```go\n// api/ics.go\npackage api\n\nimport (\n\t\"bytes\"\n\t\"time\"\n\n\t\"github.com/emersion/go-ical\"\n)\n\n// GenerateICSData creates an ICS calendar file for a booking\nfunc GenerateICSData(booking *Booking, slot *Slot, template *EventTemplate, organizerEmail string) (string, error) {\n\tcal := ical.NewCalendar()\n\tcal.Props.SetText(ical.PropProductID, \"-//Meet Mesh//EN\")\n\tcal.Props.SetText(ical.PropVersion, \"2.0\")\n\tcal.Props.SetText(ical.PropMethod, \"REQUEST\")\n\n\tevent := ical.NewEvent()\n\t\n\t// Required: UID and DTSTAMP\n\tuid := generateUID()\n\tevent.Props.SetText(ical.PropUID, uid)\n\tevent.Props.SetDateTime(ical.PropDateTimeStamp, time.Now().UTC())\n\t\n\t// Time\n\tevent.Props.SetDateTime(ical.PropDateTimeStart, slot.StartTime.UTC())\n\tevent.Props.SetDateTime(ical.PropDateTimeEnd, slot.EndTime.UTC())\n\n\t// Title\n\ttitle := \"Meeting\"\n\tif template != nil \u0026\u0026 template.TitleTemplate != \"\" {\n\t\ttitle = expandTemplate(template.TitleTemplate, booking)\n\t}\n\tevent.Props.SetText(ical.PropSummary, title)\n\n\t// Description (optional)\n\tif template != nil \u0026\u0026 template.DescriptionTemplate != \"\" {\n\t\tevent.Props.SetText(ical.PropDescription, expandTemplate(template.DescriptionTemplate, booking))\n\t}\n\n\t// Location (optional)\n\tif template != nil \u0026\u0026 template.Location != \"\" {\n\t\tevent.Props.SetText(ical.PropLocation, template.Location)\n\t}\n\n\t// Organizer\n\torganizerProp := ical.NewProp(ical.PropOrganizer)\n\torganizerProp.Value = \"mailto:\" + organizerEmail\n\tevent.Props.Set(organizerProp)\n\n\t// Attendee (guest)\n\tattendeeProp := ical.NewProp(ical.PropAttendee)\n\tattendeeProp.Value = \"mailto:\" + booking.GuestEmail\n\tif booking.GuestName != \"\" {\n\t\tattendeeProp.Params.Set(ical.ParamCommonName, booking.GuestName)\n\t}\n\tevent.Props.Set(attendeeProp)\n\n\tcal.Children = append(cal.Children, event.Component)\n\n\t// Encode to string\n\tvar buf bytes.Buffer\n\tenc := ical.NewEncoder(\u0026buf)\n\tif err := enc.Encode(cal); err != nil {\n\t\treturn \"\", err\n\t}\n\n\treturn buf.String(), nil\n}\n```\n\n## Step 4: Run test to verify it passes\n\n```bash\ncd api \u0026\u0026 go test -run TestGenerateICSData -v\n```\n\nExpected: PASS\n\n## Step 5: Commit\n\n```bash\ngit add api/ics.go api/ics_test.go\ngit commit -m \"feat: add GenerateICSData helper for ICS file generation\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","estimated_minutes":15,"created_at":"2026-01-26T14:52:26.337602118+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:52:26.337602118+01:00","labels":["backend","tdd"],"dependencies":[{"issue_id":"meet-mesh-5sz.1","depends_on_id":"meet-mesh-5sz","type":"parent-child","created_at":"2026-01-26T14:52:26.340681523+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-5sz.2","title":"Task 2: Add attachment support to Mailer with test","description":"## Files\n\n- **Modify:** `api/mailer.go` - Add sendWithAttachment method\n- **Create:** `api/mailer_test.go` - Tests for mailer (mock-based)\n\n## Step 1: Write the failing test\n\nCreate `api/mailer_test.go`:\n\n```go\npackage api\n\nimport (\n\t\"testing\"\n)\n\nfunc TestMailer_AttachmentFormat(t *testing.T) {\n\t// Test that attachment is properly formatted\n\t// We can't easily test actual email sending, but we can test the attachment struct\n\t\n\tattachment := \u0026EmailAttachment{\n\t\tFilename:    \"event.ics\",\n\t\tContentType: \"text/calendar; charset=utf-8; method=REQUEST\",\n\t\tData:        []byte(\"BEGIN:VCALENDAR\\r\\nEND:VCALENDAR\"),\n\t}\n\n\tif attachment.Filename != \"event.ics\" {\n\t\tt.Error(\"Expected filename 'event.ics'\")\n\t}\n\tif attachment.ContentType != \"text/calendar; charset=utf-8; method=REQUEST\" {\n\t\tt.Error(\"Expected correct content type for ICS\")\n\t}\n\tif len(attachment.Data) == 0 {\n\t\tt.Error(\"Expected non-empty data\")\n\t}\n}\n```\n\n## Step 2: Run test to verify it fails\n\n```bash\ncd api \u0026\u0026 go test -run TestMailer_AttachmentFormat -v\n```\n\nExpected: FAIL with \"undefined: EmailAttachment\"\n\n## Step 3: Write minimal implementation\n\nAdd to `api/mailer.go`:\n\n```go\n// EmailAttachment represents an email attachment\ntype EmailAttachment struct {\n\tFilename    string\n\tContentType string\n\tData        []byte\n}\n\n// sendWithAttachment sends an email with optional attachments\nfunc (m *Mailer) sendWithAttachment(to, subject, body string, attachments ...*EmailAttachment) error {\n\tmsg := gomail.NewMessage()\n\tmsg.SetHeader(\"From\", m.config.From)\n\tmsg.SetHeader(\"To\", to)\n\tmsg.SetHeader(\"Subject\", subject)\n\tmsg.SetBody(\"text/html\", body)\n\n\tfor _, att := range attachments {\n\t\tmsg.Attach(att.Filename,\n\t\t\tgomail.SetCopyFunc(func(w io.Writer) error {\n\t\t\t\t_, err := w.Write(att.Data)\n\t\t\t\treturn err\n\t\t\t}),\n\t\t\tgomail.SetHeader(map[string][]string{\n\t\t\t\t\"Content-Type\": {att.ContentType},\n\t\t\t}),\n\t\t)\n\t}\n\n\treturn m.dialer.DialAndSend(msg)\n}\n```\n\nAlso add `\"io\"` to imports.\n\n## Step 4: Run test to verify it passes\n\n```bash\ncd api \u0026\u0026 go test -run TestMailer_AttachmentFormat -v\n```\n\nExpected: PASS\n\n## Step 5: Commit\n\n```bash\ngit add api/mailer.go api/mailer_test.go\ngit commit -m \"feat: add attachment support to Mailer\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","estimated_minutes":10,"created_at":"2026-01-26T14:52:39.748221335+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:52:39.748221335+01:00","labels":["backend","tdd"],"dependencies":[{"issue_id":"meet-mesh-5sz.2","depends_on_id":"meet-mesh-5sz","type":"parent-child","created_at":"2026-01-26T14:52:39.751001997+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-5sz.2","depends_on_id":"meet-mesh-5sz.1","type":"blocks","created_at":"2026-01-26T14:54:22.792063672+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-5sz.3","title":"Task 3: Add SendBookingConfirmationWithICS method","description":"## Files\n\n- **Modify:** `api/mailer.go` - Add new method that includes ICS attachment\n- **Modify:** `api/mailer_test.go` - Add test\n\n## Step 1: Write the failing test\n\nAdd to `api/mailer_test.go`:\n\n```go\nfunc TestSendBookingConfirmationWithICS_GeneratesAttachment(t *testing.T) {\n\t// Test that the method creates proper ICS attachment\n\tbooking := \u0026Booking{\n\t\tGuestEmail: \"guest@example.com\",\n\t\tGuestName:  \"John Doe\",\n\t\tSlot: Slot{\n\t\t\tStartTime: time.Date(2026, 2, 15, 14, 0, 0, 0, time.UTC),\n\t\t\tEndTime:   time.Date(2026, 2, 15, 15, 0, 0, 0, time.UTC),\n\t\t},\n\t}\n\tlink := \u0026BookingLink{\n\t\tName: \"Test Meeting\",\n\t\tEventTemplate: \u0026EventTemplate{\n\t\t\tTitleTemplate: \"Meeting with {{guest_name}}\",\n\t\t},\n\t}\n\n\t// Generate the ICS data that would be attached\n\ticsData, err := GenerateICSData(booking, \u0026booking.Slot, link.EventTemplate, \"organizer@example.com\")\n\tif err != nil {\n\t\tt.Fatalf(\"Failed to generate ICS: %v\", err)\n\t}\n\n\tif !strings.Contains(icsData, \"BEGIN:VCALENDAR\") {\n\t\tt.Error(\"ICS data should contain VCALENDAR\")\n\t}\n\tif !strings.Contains(icsData, \"Meeting with John Doe\") {\n\t\tt.Error(\"ICS should contain expanded title\")\n\t}\n}\n```\n\nAdd imports: `\"strings\"`, `\"time\"`\n\n## Step 2: Run test to verify it fails (or passes if GenerateICSData works)\n\n```bash\ncd api \u0026\u0026 go test -run TestSendBookingConfirmationWithICS -v\n```\n\n## Step 3: Write the implementation\n\nAdd to `api/mailer.go`:\n\n```go\n// SendBookingConfirmationWithICS sends confirmation to guest with ICS attachment\nfunc (m *Mailer) SendBookingConfirmationWithICS(booking *Booking, link *BookingLink, organizerEmail string) error {\n\tbody := m.renderTemplate(\"booking_confirmed_guest\", map[string]any{\n\t\t\"LinkName\":  link.Name,\n\t\t\"GuestName\": booking.GuestName,\n\t\t\"Time\":      booking.Slot.StartTime.Format(\"Monday, January 2 at 3:04 PM\"),\n\t})\n\n\t// Generate ICS data\n\ticsData, err := GenerateICSData(booking, \u0026booking.Slot, link.EventTemplate, organizerEmail)\n\tif err != nil {\n\t\t// Log error but still send email without attachment\n\t\treturn m.send(booking.GuestEmail, \"Booking Confirmed: \"+link.Name, body)\n\t}\n\n\tattachment := \u0026EmailAttachment{\n\t\tFilename:    \"invite.ics\",\n\t\tContentType: \"text/calendar; charset=utf-8; method=REQUEST\",\n\t\tData:        []byte(icsData),\n\t}\n\n\treturn m.sendWithAttachment(booking.GuestEmail, \"Booking Confirmed: \"+link.Name, body, attachment)\n}\n\n// SendBookingApprovedWithICS sends approval notification to guest with ICS attachment\nfunc (m *Mailer) SendBookingApprovedWithICS(booking *Booking, link *BookingLink, organizerEmail string) error {\n\tbody := m.renderTemplate(\"booking_approved\", map[string]any{\n\t\t\"LinkName\":  link.Name,\n\t\t\"GuestName\": booking.GuestName,\n\t\t\"Time\":      booking.Slot.StartTime.Format(\"Monday, January 2 at 3:04 PM\"),\n\t})\n\n\t// Generate ICS data\n\ticsData, err := GenerateICSData(booking, \u0026booking.Slot, link.EventTemplate, organizerEmail)\n\tif err != nil {\n\t\t// Log error but still send email without attachment\n\t\treturn m.send(booking.GuestEmail, \"Booking Approved: \"+link.Name, body)\n\t}\n\n\tattachment := \u0026EmailAttachment{\n\t\tFilename:    \"invite.ics\",\n\t\tContentType: \"text/calendar; charset=utf-8; method=REQUEST\",\n\t\tData:        []byte(icsData),\n\t}\n\n\treturn m.sendWithAttachment(booking.GuestEmail, \"Booking Approved: \"+link.Name, body, attachment)\n}\n```\n\n## Step 4: Run tests\n\n```bash\ncd api \u0026\u0026 go test -run TestSendBookingConfirmationWithICS -v\n```\n\nExpected: PASS\n\n## Step 5: Commit\n\n```bash\ngit add api/mailer.go api/mailer_test.go\ngit commit -m \"feat: add SendBookingConfirmationWithICS and SendBookingApprovedWithICS methods\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","estimated_minutes":15,"created_at":"2026-01-26T14:52:56.827960892+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:52:56.827960892+01:00","labels":["backend","tdd"],"dependencies":[{"issue_id":"meet-mesh-5sz.3","depends_on_id":"meet-mesh-5sz","type":"parent-child","created_at":"2026-01-26T14:52:56.830926673+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-5sz.3","depends_on_id":"meet-mesh-5sz.1","type":"blocks","created_at":"2026-01-26T14:54:23.121492592+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-5sz.3","depends_on_id":"meet-mesh-5sz.2","type":"blocks","created_at":"2026-01-26T14:54:23.440755136+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-5sz.4","title":"Task 4: Get organizer email from User model","description":"## Files\n\n- **Modify:** `api/handler.go` - Add helper to get organizer email\n- **Modify:** `api/handler_public_booking.go` - Update CreateBooking to pass organizer email\n- **Modify:** `api/handler_actions.go` - Update ApproveViaEmail to pass organizer email\n- **Modify:** `api/handler_bookings.go` - Update ApproveBooking to pass organizer email\n\n## Context\n\nCurrently the mailer methods don't know the organizer's email. We need to:\n1. Get the User associated with the BookingLink\n2. Pass their email to the ICS generation\n\nThe User model already has an Email field (`api/models.go` line 73).\n\n## Step 1: Add helper to get organizer email\n\nAdd to `api/handler.go`:\n\n```go\n// getOrganizerEmail fetches the organizer's email for a booking link\nfunc (h *Handler) getOrganizerEmail(userID uint) string {\n\tvar user User\n\tif err := h.db.First(\u0026user, userID).Error; err != nil {\n\t\treturn \"\" // fallback: empty organizer\n\t}\n\treturn user.Email\n}\n```\n\n## Step 2: Update handler_public_booking.go CreateBooking\n\nReplace lines 228-235 (the auto-confirm email + calendar block):\n\n```go\n\t// Send notification email and create calendar event if auto-confirmed\n\tif link.AutoConfirm {\n\t\torganizerEmail := h.getOrganizerEmail(link.UserID)\n\t\tif h.mailer != nil {\n\t\t\th.mailer.SendBookingConfirmationWithICS(\u0026booking, \u0026link, organizerEmail)\n\t\t}\n\t\t// Create calendar event\n\t\tif h.caldav != nil {\n\t\t\th.caldav.CreateBookingEvent(ctx, link.UserID, \u0026booking, \u0026slot, link.EventTemplate)\n\t\t}\n\t} else {\n\t\tif h.mailer != nil {\n\t\t\th.mailer.SendBookingPending(\u0026booking, \u0026link)\n\t\t}\n\t}\n```\n\n## Step 3: Update handler_actions.go ApproveViaEmail\n\nReplace lines 36-44:\n\n```go\n\t// Send confirmation email with ICS\n\torganizerEmail := h.getOrganizerEmail(booking.BookingLink.UserID)\n\tif h.mailer != nil {\n\t\th.mailer.SendBookingApprovedWithICS(\u0026booking, \u0026booking.BookingLink, organizerEmail)\n\t}\n\n\t// Create calendar event\n\tif h.caldav != nil {\n\t\th.caldav.CreateBookingEvent(ctx, booking.BookingLink.UserID, \u0026booking, \u0026booking.Slot, booking.BookingLink.EventTemplate)\n\t}\n```\n\n## Step 4: Update handler_bookings.go ApproveBooking\n\nReplace lines 35-43:\n\n```go\n\t// Send confirmation email with ICS\n\torganizerEmail := h.getOrganizerEmail(booking.BookingLink.UserID)\n\tif h.mailer != nil {\n\t\th.mailer.SendBookingApprovedWithICS(\u0026booking, \u0026booking.BookingLink, organizerEmail)\n\t}\n\n\t// Create calendar event\n\tif h.caldav != nil {\n\t\th.caldav.CreateBookingEvent(ctx, booking.BookingLink.UserID, \u0026booking, \u0026booking.Slot, booking.BookingLink.EventTemplate)\n\t}\n```\n\n## Step 5: Run build to verify\n\n```bash\ncd api \u0026\u0026 go build ./...\n```\n\nExpected: Build succeeds\n\n## Step 6: Commit\n\n```bash\ngit add api/handler.go api/handler_public_booking.go api/handler_actions.go api/handler_bookings.go\ngit commit -m \"feat: pass organizer email to ICS generation in all confirmation paths\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","estimated_minutes":10,"created_at":"2026-01-26T14:53:12.288001858+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:53:12.288001858+01:00","labels":["backend"],"dependencies":[{"issue_id":"meet-mesh-5sz.4","depends_on_id":"meet-mesh-5sz","type":"parent-child","created_at":"2026-01-26T14:53:12.290448749+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-5sz.4","depends_on_id":"meet-mesh-5sz.3","type":"blocks","created_at":"2026-01-26T14:54:28.362304484+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-5sz.5","title":"Task 5: Update CalDAVClient.CreateBookingEvent to return UID","description":"## Files\n\n- **Modify:** `api/caldav.go` - CreateBookingEvent already returns UID, verify and store in booking\n- **Modify:** `api/handler_public_booking.go` - Store CalendarUID on booking\n- **Modify:** `api/handler_actions.go` - Store CalendarUID on booking\n- **Modify:** `api/handler_bookings.go` - Store CalendarUID on booking\n\n## Context\n\nThe `Booking` model already has a `CalendarUID` field (line 157 in models.go).\nThe `CreateBookingEvent` already returns the UID (line 257 in caldav.go).\n\nWe just need to store the returned UID in the booking record for future reference (e.g., cancellation).\n\n## Step 1: Update handler_public_booking.go\n\nIn the auto-confirm block, capture and store the UID:\n\n```go\n\t\t// Create calendar event\n\t\tif h.caldav != nil {\n\t\t\tuid, err := h.caldav.CreateBookingEvent(ctx, link.UserID, \u0026booking, \u0026slot, link.EventTemplate)\n\t\t\tif err == nil \u0026\u0026 uid != \"\" {\n\t\t\t\tbooking.CalendarUID = uid\n\t\t\t\th.db.Save(\u0026booking)\n\t\t\t}\n\t\t}\n```\n\n## Step 2: Update handler_actions.go ApproveViaEmail\n\n```go\n\t// Create calendar event\n\tif h.caldav != nil {\n\t\tuid, err := h.caldav.CreateBookingEvent(ctx, booking.BookingLink.UserID, \u0026booking, \u0026booking.Slot, booking.BookingLink.EventTemplate)\n\t\tif err == nil \u0026\u0026 uid != \"\" {\n\t\t\tbooking.CalendarUID = uid\n\t\t\th.db.Save(\u0026booking)\n\t\t}\n\t}\n```\n\n## Step 3: Update handler_bookings.go ApproveBooking\n\n```go\n\t// Create calendar event\n\tif h.caldav != nil {\n\t\tuid, err := h.caldav.CreateBookingEvent(ctx, booking.BookingLink.UserID, \u0026booking, \u0026booking.Slot, booking.BookingLink.EventTemplate)\n\t\tif err == nil \u0026\u0026 uid != \"\" {\n\t\t\tbooking.CalendarUID = uid\n\t\t\th.db.Save(\u0026booking)\n\t\t}\n\t}\n```\n\n## Step 4: Run build\n\n```bash\ncd api \u0026\u0026 go build ./...\n```\n\nExpected: Build succeeds\n\n## Step 5: Commit\n\n```bash\ngit add api/handler_public_booking.go api/handler_actions.go api/handler_bookings.go\ngit commit -m \"feat: store CalendarUID on booking when calendar event is created\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","estimated_minutes":10,"created_at":"2026-01-26T14:53:22.668184717+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:53:22.668184717+01:00","labels":["backend"],"dependencies":[{"issue_id":"meet-mesh-5sz.5","depends_on_id":"meet-mesh-5sz","type":"parent-child","created_at":"2026-01-26T14:53:22.67075346+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-5sz.5","depends_on_id":"meet-mesh-5sz.4","type":"blocks","created_at":"2026-01-26T14:54:28.626945939+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-5sz.6","title":"Task 6: Add integration test for full booking confirmation flow","description":"## Files\n\n- **Create:** `api/booking_integration_test.go` - Integration test for the full flow\n\n## Step 1: Write integration test\n\nCreate `api/booking_integration_test.go`:\n\n```go\npackage api\n\nimport (\n\t\"strings\"\n\t\"testing\"\n\t\"time\"\n)\n\nfunc TestBookingConfirmation_GeneratesValidICS(t *testing.T) {\n\t// Test the full flow: booking -\u003e ICS generation\n\t\n\tbooking := \u0026Booking{\n\t\tID:         1,\n\t\tGuestEmail: \"guest@example.com\",\n\t\tGuestName:  \"Alice Smith\",\n\t\tStatus:     BookingStatusConfirmed,\n\t}\n\t\n\tslot := \u0026Slot{\n\t\tStartTime: time.Date(2026, 3, 15, 10, 0, 0, 0, time.UTC),\n\t\tEndTime:   time.Date(2026, 3, 15, 11, 0, 0, 0, time.UTC),\n\t}\n\t\n\ttemplate := \u0026EventTemplate{\n\t\tTitleTemplate:       \"Meeting: {{guest_name}}\",\n\t\tDescriptionTemplate: \"Call with {{guest_email}}\",\n\t\tLocation:            \"Zoom\",\n\t}\n\t\n\torganizerEmail := \"organizer@company.com\"\n\t\n\t// Generate ICS\n\ticsData, err := GenerateICSData(booking, slot, template, organizerEmail)\n\tif err != nil {\n\t\tt.Fatalf(\"GenerateICSData failed: %v\", err)\n\t}\n\t\n\t// Verify ICS is valid and contains all required fields\n\trequiredFields := []string{\n\t\t\"BEGIN:VCALENDAR\",\n\t\t\"VERSION:2.0\",\n\t\t\"PRODID:-//Meet Mesh//EN\",\n\t\t\"METHOD:REQUEST\",\n\t\t\"BEGIN:VEVENT\",\n\t\t\"UID:\",\n\t\t\"DTSTAMP:\",\n\t\t\"DTSTART:20260315T100000Z\",\n\t\t\"DTEND:20260315T110000Z\",\n\t\t\"SUMMARY:Meeting: Alice Smith\",\n\t\t\"DESCRIPTION:Call with guest@example.com\",\n\t\t\"LOCATION:Zoom\",\n\t\t\"ORGANIZER:mailto:organizer@company.com\",\n\t\t\"ATTENDEE\",\n\t\t\"guest@example.com\",\n\t\t\"END:VEVENT\",\n\t\t\"END:VCALENDAR\",\n\t}\n\t\n\tfor _, field := range requiredFields {\n\t\tif !strings.Contains(icsData, field) {\n\t\t\tt.Errorf(\"ICS missing required field: %q\", field)\n\t\t}\n\t}\n\t\n\t// Verify CN parameter for attendee\n\tif !strings.Contains(icsData, \"CN=Alice Smith\") {\n\t\tt.Error(\"Attendee should have CN parameter with guest name\")\n\t}\n}\n\nfunc TestBookingConfirmation_HandlesMissingOptionalFields(t *testing.T) {\n\tbooking := \u0026Booking{\n\t\tGuestEmail: \"minimal@example.com\",\n\t\t// No GuestName\n\t}\n\t\n\tslot := \u0026Slot{\n\t\tStartTime: time.Date(2026, 3, 15, 10, 0, 0, 0, time.UTC),\n\t\tEndTime:   time.Date(2026, 3, 15, 11, 0, 0, 0, time.UTC),\n\t}\n\t\n\t// No template (nil)\n\ticsData, err := GenerateICSData(booking, slot, nil, \"org@test.com\")\n\tif err != nil {\n\t\tt.Fatalf(\"Should handle nil template: %v\", err)\n\t}\n\t\n\t// Should have default summary\n\tif !strings.Contains(icsData, \"SUMMARY:Meeting\") {\n\t\tt.Error(\"Should have default summary 'Meeting'\")\n\t}\n\t\n\t// Should NOT have DESCRIPTION or LOCATION if not in template\n\t// (but this depends on implementation - empty string might still emit the field)\n}\n\nfunc TestBookingConfirmation_TimezoneHandling(t *testing.T) {\n\t// Test with non-UTC timezone\n\tloc, _ := time.LoadLocation(\"America/New_York\")\n\t\n\tbooking := \u0026Booking{\n\t\tGuestEmail: \"tz@example.com\",\n\t}\n\t\n\tslot := \u0026Slot{\n\t\tStartTime: time.Date(2026, 3, 15, 10, 0, 0, 0, loc), // 10 AM ET\n\t\tEndTime:   time.Date(2026, 3, 15, 11, 0, 0, 0, loc), // 11 AM ET\n\t}\n\t\n\ticsData, err := GenerateICSData(booking, slot, nil, \"org@test.com\")\n\tif err != nil {\n\t\tt.Fatalf(\"Failed: %v\", err)\n\t}\n\t\n\t// Times should be converted to UTC (10 AM ET in March = 14:00 or 15:00 UTC depending on DST)\n\t// March 15, 2026 is during DST, so 10 AM ET = 14:00 UTC\n\tif !strings.Contains(icsData, \"DTSTART:20260315T140000Z\") {\n\t\tt.Logf(\"ICS data: %s\", icsData)\n\t\tt.Error(\"Expected UTC time in ICS\")\n\t}\n}\n```\n\n## Step 2: Run tests\n\n```bash\ncd api \u0026\u0026 go test -run TestBookingConfirmation -v\n```\n\nExpected: All tests pass\n\n## Step 3: Commit\n\n```bash\ngit add api/booking_integration_test.go\ngit commit -m \"test: add integration tests for booking confirmation ICS generation\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","estimated_minutes":15,"created_at":"2026-01-26T14:53:43.130937153+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:53:43.130937153+01:00","labels":["backend","tdd","testing"],"dependencies":[{"issue_id":"meet-mesh-5sz.6","depends_on_id":"meet-mesh-5sz","type":"parent-child","created_at":"2026-01-26T14:53:43.134040144+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-5sz.6","depends_on_id":"meet-mesh-5sz.1","type":"blocks","created_at":"2026-01-26T14:54:28.827241962+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-5sz.7","title":"Task 7: Update email templates to mention calendar invite","description":"## Files\n\n- **Modify:** `api/mailer.go` - Update email templates to mention the attached calendar invite\n\n## Step 1: Update email templates\n\nIn `api/mailer.go`, update the `emailTemplates` constant.\n\nUpdate `booking_confirmed_guest` template:\n\n```html\n{{define \"booking_confirmed_guest\"}}\n\u003chtml\u003e\n\u003cbody\u003e\n\u003ch1\u003eBooking Confirmed!\u003c/h1\u003e\n\u003cp\u003eHi {{.GuestName}},\u003c/p\u003e\n\u003cp\u003eYour booking for \u003cstrong\u003e{{.LinkName}}\u003c/strong\u003e has been confirmed.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eWhen:\u003c/strong\u003e {{.Time}}\u003c/p\u003e\n\u003cp style=\"margin-top: 20px; padding: 15px; background: #f0f9ff; border-radius: 8px;\"\u003e\nðŸ“… \u003cstrong\u003eAdd to your calendar:\u003c/strong\u003e Open the attached \u003ccode\u003einvite.ics\u003c/code\u003e file to add this event to your calendar.\n\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n{{end}}\n```\n\nUpdate `booking_approved` template:\n\n```html\n{{define \"booking_approved\"}}\n\u003chtml\u003e\n\u003cbody\u003e\n\u003ch1\u003eBooking Approved!\u003c/h1\u003e\n\u003cp\u003eHi {{.GuestName}},\u003c/p\u003e\n\u003cp\u003eGreat news! Your booking for \u003cstrong\u003e{{.LinkName}}\u003c/strong\u003e has been approved.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eWhen:\u003c/strong\u003e {{.Time}}\u003c/p\u003e\n\u003cp style=\"margin-top: 20px; padding: 15px; background: #f0f9ff; border-radius: 8px;\"\u003e\nðŸ“… \u003cstrong\u003eAdd to your calendar:\u003c/strong\u003e Open the attached \u003ccode\u003einvite.ics\u003c/code\u003e file to add this event to your calendar.\n\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n{{end}}\n```\n\n## Step 2: Run build\n\n```bash\ncd api \u0026\u0026 go build ./...\n```\n\nExpected: Build succeeds\n\n## Step 3: Commit\n\n```bash\ngit add api/mailer.go\ngit commit -m \"feat: update email templates to mention calendar invite attachment\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","estimated_minutes":5,"created_at":"2026-01-26T14:53:53.447542194+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:53:53.447542194+01:00","labels":["backend"],"dependencies":[{"issue_id":"meet-mesh-5sz.7","depends_on_id":"meet-mesh-5sz","type":"parent-child","created_at":"2026-01-26T14:53:53.450507202+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-5sz.7","depends_on_id":"meet-mesh-5sz.3","type":"blocks","created_at":"2026-01-26T14:54:34.075261131+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-5sz.8","title":"Task 8: Add error handling and logging for calendar/ICS failures","description":"## Files\n\n- **Modify:** `api/mailer.go` - Add logging for ICS generation failures\n- **Modify:** `api/handler_public_booking.go` - Add logging for calendar event failures\n- **Modify:** `api/handler_actions.go` - Add logging for calendar event failures\n- **Modify:** `api/handler_bookings.go` - Add logging for calendar event failures\n\n## Context\n\nCalendar integration is critical but should not block the booking flow. If calendar event creation or ICS generation fails:\n1. Log the error for debugging\n2. Continue with the booking (don't fail the request)\n3. Still send the email (without ICS if generation failed)\n\n## Step 1: Add logging to mailer.go\n\nUpdate `SendBookingConfirmationWithICS` and `SendBookingApprovedWithICS`:\n\n```go\nimport \"log\"\n\n// SendBookingConfirmationWithICS sends confirmation to guest with ICS attachment\nfunc (m *Mailer) SendBookingConfirmationWithICS(booking *Booking, link *BookingLink, organizerEmail string) error {\n\tbody := m.renderTemplate(\"booking_confirmed_guest\", map[string]any{\n\t\t\"LinkName\":  link.Name,\n\t\t\"GuestName\": booking.GuestName,\n\t\t\"Time\":      booking.Slot.StartTime.Format(\"Monday, January 2 at 3:04 PM\"),\n\t})\n\n\t// Generate ICS data\n\ticsData, err := GenerateICSData(booking, \u0026booking.Slot, link.EventTemplate, organizerEmail)\n\tif err != nil {\n\t\tlog.Printf(\"[WARN] Failed to generate ICS for booking %d: %v\", booking.ID, err)\n\t\t// Send email without attachment\n\t\treturn m.send(booking.GuestEmail, \"Booking Confirmed: \"+link.Name, body)\n\t}\n\n\tattachment := \u0026EmailAttachment{\n\t\tFilename:    \"invite.ics\",\n\t\tContentType: \"text/calendar; charset=utf-8; method=REQUEST\",\n\t\tData:        []byte(icsData),\n\t}\n\n\treturn m.sendWithAttachment(booking.GuestEmail, \"Booking Confirmed: \"+link.Name, body, attachment)\n}\n```\n\n## Step 2: Add logging to handlers\n\nIn each handler, add logging for calendar failures:\n\n```go\n\t\t// Create calendar event\n\t\tif h.caldav != nil {\n\t\t\tuid, err := h.caldav.CreateBookingEvent(ctx, link.UserID, \u0026booking, \u0026slot, link.EventTemplate)\n\t\t\tif err != nil {\n\t\t\t\tlog.Printf(\"[WARN] Failed to create calendar event for booking %d: %v\", booking.ID, err)\n\t\t\t} else if uid != \"\" {\n\t\t\t\tbooking.CalendarUID = uid\n\t\t\t\th.db.Save(\u0026booking)\n\t\t\t}\n\t\t}\n```\n\nAdd `\"log\"` import to each file.\n\n## Step 3: Run build\n\n```bash\ncd api \u0026\u0026 go build ./...\n```\n\nExpected: Build succeeds\n\n## Step 4: Commit\n\n```bash\ngit add api/mailer.go api/handler_public_booking.go api/handler_actions.go api/handler_bookings.go\ngit commit -m \"feat: add error logging for calendar and ICS failures (non-blocking)\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","estimated_minutes":10,"created_at":"2026-01-26T14:54:07.971322189+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:54:07.971322189+01:00","labels":["backend"],"dependencies":[{"issue_id":"meet-mesh-5sz.8","depends_on_id":"meet-mesh-5sz","type":"parent-child","created_at":"2026-01-26T14:54:07.973661947+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-5sz.8","depends_on_id":"meet-mesh-5sz.5","type":"blocks","created_at":"2026-01-26T14:54:34.269672745+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-5sz.9","title":"Task 9: Run full test suite and build","description":"## Final Verification\n\nRun all tests and ensure the full build succeeds.\n\n## Step 1: Run all Go tests\n\n```bash\ncd api \u0026\u0026 go test ./... -v\n```\n\nExpected: All tests pass\n\n## Step 2: Run full build\n\n```bash\nmake build\n```\n\nExpected: Build succeeds, single binary created\n\n## Step 3: Manual testing checklist\n\nStart the application and test:\n\n1. **Auto-confirm booking:**\n   - Create a booking link with auto_confirm=true\n   - Book a slot as a guest\n   - Verify guest receives email with .ics attachment\n   - Open the .ics file in a calendar app to verify it's valid\n\n2. **Manual approval booking:**\n   - Create a booking link with auto_confirm=false\n   - Book a slot as a guest\n   - Approve via the dashboard\n   - Verify guest receives approval email with .ics attachment\n\n3. **Email approval:**\n   - Book a slot on a non-auto-confirm link\n   - Click approve link in organizer email\n   - Verify guest receives approval email with .ics attachment\n\n4. **Calendar event creation:**\n   - With CalDAV configured, verify events appear on organizer's calendar\n\n## Step 4: Final commit (if any cleanup needed)\n\n```bash\ngit status\n# If any uncommitted changes:\ngit add -A\ngit commit -m \"chore: final cleanup for calendar event + ICS feature\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","estimated_minutes":15,"created_at":"2026-01-26T14:54:17.905039248+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:54:17.905039248+01:00","labels":["backend","testing"],"dependencies":[{"issue_id":"meet-mesh-5sz.9","depends_on_id":"meet-mesh-5sz","type":"parent-child","created_at":"2026-01-26T14:54:17.907527338+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-5sz.9","depends_on_id":"meet-mesh-5sz.6","type":"blocks","created_at":"2026-01-26T14:54:34.46420945+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-5sz.9","depends_on_id":"meet-mesh-5sz.7","type":"blocks","created_at":"2026-01-26T14:54:34.669907033+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-5sz.9","depends_on_id":"meet-mesh-5sz.8","type":"blocks","created_at":"2026-01-26T14:54:34.866290508+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-7t3","title":"Configurable slot duration and booking flow fix","description":"# Configurable Slot Duration Implementation Plan\n\n**Goal:** Fix the booking flow bug and add configurable slot duration/buffer time to booking links.\n\n**Architecture:** \n1. Fix CreateBooking to validate slots against dynamically generated availability (not DB lookup)\n2. Add slot_duration_minutes and buffer_minutes fields to BookingLink model\n3. Generate granular time slots (e.g., 30-min slots within 10am-6pm availability window)\n\n**Tech Stack:** Go 1.25, ogen (OpenAPI codegen), GORM, SQLite, SvelteKit, Svelte 5, Tailwind CSS v4\n\n---\n\n## Problem Analysis\n\n### Current Bug\n- `GetBookingAvailability` generates slots dynamically from availability rules\n- These slots have `ID: 0` (not persisted to DB)\n- `CreateBooking` queries DB for slot by ID â†’ fails with \"Slot not available\"\n- Frontend sends `slot_id` but the slot doesn't exist in database\n\n### Solution\n1. Change `CreateBooking` to accept `start_time` and `end_time` instead of `slot_id`\n2. Validate the requested time against availability rules and busy times\n3. Store `slot_duration_minutes` (default 30) and `buffer_minutes` (default 0) on BookingLink\n4. Generate individual time slots within availability windows\n\n---\n\n## Implementation Tasks\n\n### Task 1: Add slot_duration and buffer fields to data model\n\n**Files:**\n- Modify: `api/models.go` - Add fields to BookingLink struct\n- Modify: `api/openapi.yaml` - Add fields to BookingLink schema and create/update endpoints\n\n### Task 2: Update OpenAPI spec for new booking request format\n\n**Files:**\n- Modify: `api/openapi.yaml` - Change CreateBookingReq to use start_time/end_time instead of slot_id\n\n### Task 3: Regenerate Go code from OpenAPI\n\n**Command:** `make generate`\n\n### Task 4: Update slot generation to use duration and buffer\n\n**Files:**\n- Modify: `api/handler_public_booking.go` - Update generateAvailableSlots()\n\n### Task 5: Fix CreateBooking to validate against availability\n\n**Files:**\n- Modify: `api/handler_public_booking.go` - Rewrite CreateBooking validation logic\n\n### Task 6: Update frontend API types\n\n**Command:** `cd frontend \u0026\u0026 pnpm generate:api`\n\n### Task 7: Add slot duration/buffer fields to booking link forms\n\n**Files:**\n- Modify: `frontend/src/routes/(dashboard)/booking-links/new/+page.svelte`\n- Modify: `frontend/src/routes/(dashboard)/booking-links/[id]/edit/+page.svelte`\n\n### Task 8: Update booking page to send start_time/end_time\n\n**Files:**\n- Modify: `frontend/src/lib/components/booking/BookingPage.svelte`\n\n### Task 9: Test the complete flow\n\n**Verification:**\n- Create booking link with 30min slots, 15min buffer\n- View public booking page - should show individual 30min slots\n- Book a slot - should succeed\n- Verify calendar event is created correctly","status":"closed","priority":1,"issue_type":"epic","owner":"k@knt.li","created_at":"2026-01-25T21:36:08.798370769+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:27:26.134686324+01:00","closed_at":"2026-01-26T10:27:26.134686324+01:00","close_reason":"Closed"}
{"id":"meet-mesh-7t3.1","title":"Add slot_duration and buffer fields to BookingLink model","description":"## Task 1: Add slot_duration and buffer fields to data model\n\n**Files:**\n- Modify: `api/models.go:94-109`\n- Modify: `api/openapi.yaml:149-179` (BookingLink schema)\n- Modify: `api/openapi.yaml:494-514` (createBookingLink request)\n- Modify: `api/openapi.yaml:559-574` (updateBookingLink request)\n\n**Step 1: Update Go model**\n\nIn `api/models.go`, add two fields to the BookingLink struct after line 105:\n\n```go\ntype BookingLink struct {\n    ID                  uint               `gorm:\"primaryKey\"`\n    UserID              uint               `gorm:\"index;not null\"`\n    Slug                string             `gorm:\"uniqueIndex;not null\"`\n    Name                string             `gorm:\"not null\"`\n    Description         string\n    Status              LinkStatus         `gorm:\"not null;default:1\"`\n    AutoConfirm         bool\n    SlotDurationMinutes int                `gorm:\"not null;default:30\"`  // NEW\n    BufferMinutes       int                `gorm:\"not null;default:0\"`   // NEW\n    AvailabilityRules   []AvailabilityRule `gorm:\"serializer:json\"`\n    RequireEmail        bool\n    CustomFields        []CustomField      `gorm:\"serializer:json\"`\n    EventTemplate       *EventTemplate     `gorm:\"serializer:json\"`\n    CreatedAt           time.Time\n    UpdatedAt           time.Time\n    Bookings            []Booking          `gorm:\"foreignKey:BookingLinkID\"`\n}\n```\n\n**Step 2: Update OpenAPI spec - BookingLink schema**\n\nIn `api/openapi.yaml`, add to BookingLink schema (around line 163):\n\n```yaml\n    BookingLink:\n      type: object\n      required: [id, slug, name, status]\n      properties:\n        # ... existing fields ...\n        slot_duration_minutes:\n          type: integer\n          description: Duration of each bookable slot in minutes\n          default: 30\n        buffer_minutes:\n          type: integer\n          description: Buffer time between slots in minutes\n          default: 0\n```\n\n**Step 3: Update createBookingLink request schema**\n\nIn `api/openapi.yaml`, add to createBookingLink request body (around line 501):\n\n```yaml\n                slot_duration_minutes:\n                  type: integer\n                  default: 30\n                buffer_minutes:\n                  type: integer\n                  default: 0\n```\n\n**Step 4: Update updateBookingLink request schema**\n\nIn `api/openapi.yaml`, add to updateBookingLink request body (around line 571):\n\n```yaml\n                slot_duration_minutes:\n                  type: integer\n                buffer_minutes:\n                  type: integer\n```\n\n**Step 5: Commit**\n\n```bash\ngit add api/models.go api/openapi.yaml\ngit commit -m \"feat: add slot_duration_minutes and buffer_minutes to BookingLink\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:36:29.390058694+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:27:21.980381515+01:00","closed_at":"2026-01-26T10:27:21.980381515+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-7t3.1","depends_on_id":"meet-mesh-7t3","type":"parent-child","created_at":"2026-01-25T21:36:29.393642245+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-7t3.2","title":"Update CreateBooking API to use start_time/end_time","description":"## Task 2: Update CreateBooking API to use start_time/end_time\n\nThe current API accepts `slot_id` which doesn't work with dynamically generated slots.\nChange to accept `start_time` and `end_time` directly.\n\n**Files:**\n- Modify: `api/openapi.yaml:958-1000` (CreateBooking endpoint)\n\n**Step 1: Update OpenAPI spec**\n\nReplace the CreateBookingReq schema in `api/openapi.yaml`:\n\n```yaml\n  /p/booking/{slug}/book:\n    post:\n      operationId: createBooking\n      summary: Create a booking\n      parameters:\n        - name: slug\n          in: path\n          required: true\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              required: [guest_email, start_time, end_time]\n              properties:\n                guest_email:\n                  type: string\n                  format: email\n                guest_name:\n                  type: string\n                start_time:\n                  type: string\n                  format: date-time\n                  description: Start time of the requested slot\n                end_time:\n                  type: string\n                  format: date-time\n                  description: End time of the requested slot\n                custom_fields:\n                  type: object\n                  additionalProperties:\n                    type: string\n```\n\n**Step 2: Commit**\n\n```bash\ngit add api/openapi.yaml\ngit commit -m \"feat: change CreateBooking to accept start_time/end_time instead of slot_id\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:36:38.796429554+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:27:22.072194312+01:00","closed_at":"2026-01-26T10:27:22.072194312+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-7t3.2","depends_on_id":"meet-mesh-7t3","type":"parent-child","created_at":"2026-01-25T21:36:38.799311691+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-7t3.3","title":"Regenerate Go code and update handlers","description":"## Task 3: Regenerate Go code and update handlers\n\n**Step 1: Regenerate Go types**\n\n```bash\nmake generate\n```\n\n**Step 2: Update handler_booking_links.go to handle new fields**\n\nIn `api/handler_booking_links.go`, update CreateBookingLink (around line 30):\n\n```go\nfunc (h *Handler) CreateBookingLink(ctx context.Context, req *gen.CreateBookingLinkReq) (*gen.BookingLink, error) {\n    userID := ctx.Value(UserIDContextKey).(uint)\n\n    // Generate unique slug\n    slug := generateSlug()\n\n    // Set defaults for slot duration\n    slotDuration := 30\n    if req.SlotDurationMinutes.Set {\n        slotDuration = req.SlotDurationMinutes.Value\n    }\n    \n    bufferMinutes := 0\n    if req.BufferMinutes.Set {\n        bufferMinutes = req.BufferMinutes.Value\n    }\n\n    link := BookingLink{\n        UserID:              userID,\n        Slug:                slug,\n        Name:                req.Name,\n        Description:         req.Description.Value,\n        AutoConfirm:         req.AutoConfirm.Value,\n        SlotDurationMinutes: slotDuration,\n        BufferMinutes:       bufferMinutes,\n        AvailabilityRules:   mapAvailabilityRulesFromGen(req.AvailabilityRules),\n        RequireEmail:        req.RequireEmail.Value,\n        CustomFields:        mapCustomFieldsFromGen(req.CustomFields),\n        EventTemplate:       mapEventTemplateFromGen(req.EventTemplate),\n        Status:              LinkStatusActive,\n    }\n    // ... rest unchanged\n}\n```\n\nUpdate UpdateBookingLink similarly to handle the new fields.\n\nUpdate mapBookingLinkToGen to include the new fields:\n\n```go\nfunc mapBookingLinkToGen(link *BookingLink) *gen.BookingLink {\n    return \u0026gen.BookingLink{\n        // ... existing fields ...\n        SlotDurationMinutes: gen.NewOptInt(link.SlotDurationMinutes),\n        BufferMinutes:       gen.NewOptInt(link.BufferMinutes),\n    }\n}\n```\n\n**Step 3: Commit**\n\n```bash\ngit add api/\ngit commit -m \"feat: update handlers for slot duration and buffer fields\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:36:53.742893821+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:27:22.161743114+01:00","closed_at":"2026-01-26T10:27:22.161743114+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-7t3.3","depends_on_id":"meet-mesh-7t3","type":"parent-child","created_at":"2026-01-25T21:36:53.74557849+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-7t3.4","title":"Update slot generation to create individual time slots","description":"## Task 4: Update slot generation to create individual time slots\n\nCurrently, generateAvailableSlots creates one slot per availability rule (e.g., 10am-6pm).\nUpdate it to create individual slots based on slot_duration_minutes and buffer_minutes.\n\n**Files:**\n- Modify: `api/handler_public_booking.go:59-106`\n\n**Step 1: Rewrite generateAvailableSlots**\n\n```go\nfunc (h *Handler) generateAvailableSlots(link BookingLink, start, end time.Time, busyTimes []TimePeriod) []Slot {\n    var slots []Slot\n\n    if len(link.AvailabilityRules) == 0 {\n        return slots\n    }\n\n    slotDuration := time.Duration(link.SlotDurationMinutes) * time.Minute\n    bufferDuration := time.Duration(link.BufferMinutes) * time.Minute\n\n    // Generate slots for each day in the range\n    for day := start; day.Before(end); day = day.AddDate(0, 0, 1) {\n        weekday := int(day.Weekday())\n\n        for _, rule := range link.AvailabilityRules {\n            if !containsDay(rule.DaysOfWeek, weekday) {\n                continue\n            }\n\n            // Parse availability window times\n            ruleStart, _ := time.Parse(\"15:04\", rule.StartTime)\n            ruleEnd, _ := time.Parse(\"15:04\", rule.EndTime)\n\n            windowStart := time.Date(day.Year(), day.Month(), day.Day(),\n                ruleStart.Hour(), ruleStart.Minute(), 0, 0, day.Location())\n            windowEnd := time.Date(day.Year(), day.Month(), day.Day(),\n                ruleEnd.Hour(), ruleEnd.Minute(), 0, 0, day.Location())\n\n            // Generate individual slots within this window\n            for slotStart := windowStart; slotStart.Add(slotDuration).Before(windowEnd) || slotStart.Add(slotDuration).Equal(windowEnd); slotStart = slotStart.Add(slotDuration + bufferDuration) {\n                slotEnd := slotStart.Add(slotDuration)\n\n                // Skip past slots\n                if slotStart.Before(time.Now()) {\n                    continue\n                }\n\n                // Check if slot conflicts with busy times\n                if isSlotBusy(slotStart, slotEnd, busyTimes) {\n                    continue\n                }\n\n                slots = append(slots, Slot{\n                    Type:      SlotTypeTime,\n                    StartTime: slotStart,\n                    EndTime:   slotEnd,\n                })\n            }\n        }\n    }\n\n    return slots\n}\n\nfunc containsDay(days []int, day int) bool {\n    for _, d := range days {\n        if d == day {\n            return true\n        }\n    }\n    return false\n}\n\nfunc isSlotBusy(start, end time.Time, busyTimes []TimePeriod) bool {\n    for _, busy := range busyTimes {\n        if start.Before(busy.End) \u0026\u0026 end.After(busy.Start) {\n            return true\n        }\n    }\n    return false\n}\n```\n\n**Step 2: Commit**\n\n```bash\ngit add api/handler_public_booking.go\ngit commit -m \"feat: generate individual time slots based on duration and buffer\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:37:08.023524381+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:27:22.249688347+01:00","closed_at":"2026-01-26T10:27:22.249688347+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-7t3.4","depends_on_id":"meet-mesh-7t3","type":"parent-child","created_at":"2026-01-25T21:37:08.026341312+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-7t3.5","title":"Fix CreateBooking to validate against availability rules","description":"## Task 5: Fix CreateBooking to validate against availability rules\n\nInstead of looking up slot by ID in database, validate the requested time against\ndynamically generated availability.\n\n**Files:**\n- Modify: `api/handler_public_booking.go:108-186`\n\n**Step 1: Rewrite CreateBooking validation**\n\n```go\nfunc (h *Handler) CreateBooking(ctx context.Context, req *gen.CreateBookingReq, params gen.CreateBookingParams) (gen.CreateBookingRes, error) {\n    var link BookingLink\n    if err := h.db.Where(\"slug = ? AND status = ?\", params.Slug, LinkStatusActive).First(\u0026link).Error; err != nil {\n        if err == gorm.ErrRecordNotFound {\n            return \u0026gen.Error{Message: \"Booking link not found\"}, nil\n        }\n        return nil, err\n    }\n\n    // Validate slot duration matches configuration\n    requestedDuration := req.EndTime.Sub(req.StartTime)\n    expectedDuration := time.Duration(link.SlotDurationMinutes) * time.Minute\n    if requestedDuration != expectedDuration {\n        return \u0026gen.Error{Message: \"Invalid slot duration\"}, nil\n    }\n\n    // Check slot is not in the past\n    if req.StartTime.Before(time.Now()) {\n        return \u0026gen.Error{Message: \"Cannot book slots in the past\"}, nil\n    }\n\n    // Validate slot falls within availability rules\n    if !h.isSlotWithinAvailability(req.StartTime, req.EndTime, link.AvailabilityRules) {\n        return \u0026gen.Error{Message: \"Slot not within available hours\"}, nil\n    }\n\n    // Check CalDAV for conflicts\n    if h.caldav != nil {\n        busyTimes, err := h.caldav.GetBusyTimes(ctx, link.UserID, req.StartTime, req.EndTime)\n        if err == nil \u0026\u0026 len(busyTimes) \u003e 0 {\n            return \u0026gen.Error{Message: \"Slot no longer available\"}, nil\n        }\n    }\n\n    // Generate action token\n    tokenBytes := make([]byte, 32)\n    rand.Read(tokenBytes)\n    actionToken := hex.EncodeToString(tokenBytes)\n\n    status := BookingStatusPending\n    if link.AutoConfirm {\n        status = BookingStatusConfirmed\n    }\n\n    // Convert custom fields\n    var customFields map[string]string\n    if req.CustomFields.Set {\n        customFields = make(map[string]string)\n        for k, v := range req.CustomFields.Value {\n            customFields[k] = v\n        }\n    }\n\n    // Create a transient slot for this booking (not persisted)\n    slot := Slot{\n        Type:      SlotTypeTime,\n        StartTime: req.StartTime,\n        EndTime:   req.EndTime,\n    }\n\n    booking := Booking{\n        BookingLinkID: link.ID,\n        SlotID:        0, // No longer using slot IDs\n        SlotStartTime: req.StartTime, // Store times directly on booking\n        SlotEndTime:   req.EndTime,\n        GuestEmail:    req.GuestEmail,\n        GuestName:     req.GuestName.Value,\n        CustomFields:  customFields,\n        Status:        status,\n        ActionToken:   actionToken,\n    }\n\n    if err := h.db.Create(\u0026booking).Error; err != nil {\n        return nil, err\n    }\n\n    // Send notification and create calendar event\n    if link.AutoConfirm {\n        if h.mailer != nil {\n            h.mailer.SendBookingConfirmation(\u0026booking, \u0026link)\n        }\n        if h.caldav != nil {\n            h.caldav.CreateBookingEvent(ctx, link.UserID, \u0026booking, \u0026slot, link.EventTemplate)\n        }\n    } else {\n        if h.mailer != nil {\n            h.mailer.SendBookingPending(\u0026booking, \u0026link)\n        }\n    }\n\n    message := \"Booking confirmed\"\n    if !link.AutoConfirm {\n        message = \"Booking pending approval\"\n    }\n\n    return \u0026gen.CreateBookingCreated{\n        Status:  gen.BookingStatus(status),\n        Message: gen.NewOptString(message),\n    }, nil\n}\n\nfunc (h *Handler) isSlotWithinAvailability(start, end time.Time, rules []AvailabilityRule) bool {\n    weekday := int(start.Weekday())\n    slotStartTime := start.Format(\"15:04\")\n    slotEndTime := end.Format(\"15:04\")\n\n    for _, rule := range rules {\n        if !containsDay(rule.DaysOfWeek, weekday) {\n            continue\n        }\n        if slotStartTime \u003e= rule.StartTime \u0026\u0026 slotEndTime \u003c= rule.EndTime {\n            return true\n        }\n    }\n    return false\n}\n```\n\n**Step 2: Update Booking model to store slot times**\n\nIn `api/models.go`, add fields to Booking struct:\n\n```go\ntype Booking struct {\n    ID            uint              `gorm:\"primaryKey\"`\n    BookingLinkID uint              `gorm:\"index;not null;default:0\"`\n    SlotID        uint              `gorm:\"index\"` // Keep for backwards compat but optional\n    SlotStartTime time.Time         `gorm:\"not null\"` // NEW\n    SlotEndTime   time.Time         `gorm:\"not null\"` // NEW\n    GuestEmail    string            `gorm:\"not null\"`\n    GuestName     string\n    CustomFields  map[string]string `gorm:\"serializer:json\"`\n    Status        BookingStatus     `gorm:\"not null;default:1\"`\n    ActionToken   string            `gorm:\"uniqueIndex\"`\n    CalendarUID   string\n    CreatedAt     time.Time\n    UpdatedAt     time.Time\n}\n```\n\n**Step 3: Commit**\n\n```bash\ngit add api/handler_public_booking.go api/models.go\ngit commit -m \"fix: validate booking against availability rules instead of DB slot lookup\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:46:16.366183121+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:27:22.3441551+01:00","closed_at":"2026-01-26T10:27:22.3441551+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-7t3.5","depends_on_id":"meet-mesh-7t3","type":"parent-child","created_at":"2026-01-25T21:46:16.369278362+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-7t3.6","title":"Update frontend booking link forms","description":"## Task 6: Update frontend booking link forms\n\nAdd slot duration and buffer time inputs to the booking link create/edit forms.\n\n**Files:**\n- Modify: `frontend/src/routes/(dashboard)/booking-links/new/+page.svelte`\n- Modify: `frontend/src/routes/(dashboard)/booking-links/[id]/edit/+page.svelte`\n\n**Step 1: Regenerate frontend API types**\n\n```bash\ncd frontend \u0026\u0026 pnpm generate:api\n```\n\n**Step 2: Update new booking link page**\n\nAdd form fields after the existing fields (around line 50):\n\n```svelte\n\u003cdiv class=\"grid grid-cols-2 gap-4\"\u003e\n    \u003cdiv\u003e\n        \u003cLabel for=\"slotDuration\"\u003eSlot Duration (minutes)\u003c/Label\u003e\n        \u003cSelect bind:value={slotDurationMinutes}\u003e\n            \u003coption value={15}\u003e15 minutes\u003c/option\u003e\n            \u003coption value={30}\u003e30 minutes\u003c/option\u003e\n            \u003coption value={45}\u003e45 minutes\u003c/option\u003e\n            \u003coption value={60}\u003e1 hour\u003c/option\u003e\n            \u003coption value={90}\u003e1.5 hours\u003c/option\u003e\n            \u003coption value={120}\u003e2 hours\u003c/option\u003e\n        \u003c/Select\u003e\n    \u003c/div\u003e\n    \u003cdiv\u003e\n        \u003cLabel for=\"buffer\"\u003eBuffer Between Slots (minutes)\u003c/Label\u003e\n        \u003cSelect bind:value={bufferMinutes}\u003e\n            \u003coption value={0}\u003eNo buffer\u003c/option\u003e\n            \u003coption value={5}\u003e5 minutes\u003c/option\u003e\n            \u003coption value={10}\u003e10 minutes\u003c/option\u003e\n            \u003coption value={15}\u003e15 minutes\u003c/option\u003e\n            \u003coption value={30}\u003e30 minutes\u003c/option\u003e\n        \u003c/Select\u003e\n    \u003c/div\u003e\n\u003c/div\u003e\n```\n\nAdd state variables:\n\n```typescript\nlet slotDurationMinutes = $state(30);\nlet bufferMinutes = $state(0);\n```\n\nUpdate the API call to include new fields:\n\n```typescript\nconst { data, error } = await api.POST('/booking-links', {\n    body: {\n        name,\n        description,\n        auto_confirm: autoConfirm,\n        require_email: requireEmail,\n        slot_duration_minutes: slotDurationMinutes,\n        buffer_minutes: bufferMinutes,\n        availability_rules: availabilityRules,\n        custom_fields: customFields,\n        event_template: eventTemplate\n    }\n});\n```\n\n**Step 3: Update edit page similarly**\n\nLoad existing values and bind to form fields.\n\n**Step 4: Commit**\n\n```bash\ngit add frontend/src/routes/\\(dashboard\\)/booking-links/\ngit commit -m \"feat: add slot duration and buffer settings to booking link forms\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:46:29.973981603+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:27:22.43020325+01:00","closed_at":"2026-01-26T10:27:22.43020325+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-7t3.6","depends_on_id":"meet-mesh-7t3","type":"parent-child","created_at":"2026-01-25T21:46:29.976591724+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-7t3.7","title":"Update booking page to send start_time/end_time","description":"## Task 7: Update booking page to send start_time/end_time\n\nThe frontend currently sends slot_id. Update it to send start_time and end_time.\n\n**Files:**\n- Modify: `frontend/src/lib/components/booking/BookingPage.svelte`\n\n**Step 1: Update the handleSubmit function**\n\nFind the API call in handleSubmit (around line 107) and update:\n\n```typescript\nasync function handleSubmit(data: { email: string; name?: string; customFields: Record\u003cstring, string\u003e }) {\n    if (!selectedSlot) return;\n\n    submitting = true;\n    error = undefined;\n\n    try {\n        const response = await api.POST('/p/booking/{slug}/book', {\n            params: { path: { slug } },\n            body: {\n                guest_email: data.email,\n                guest_name: data.name,\n                start_time: selectedSlot.start_time,  // Changed from slot_id\n                end_time: selectedSlot.end_time,      // Added\n                custom_fields: Object.keys(data.customFields).length \u003e 0 ? data.customFields : undefined\n            }\n        });\n\n        if (response.error) {\n            error = response.error.message || 'Failed to create booking';\n            submitting = false;\n            return;\n        }\n\n        goto(`/p/booking/${slug}/confirmed`);\n    } catch (err) {\n        error = 'An unexpected error occurred. Please try again.';\n        submitting = false;\n    }\n}\n```\n\n**Step 2: Commit**\n\n```bash\ngit add frontend/src/lib/components/booking/BookingPage.svelte\ngit commit -m \"feat: send start_time/end_time instead of slot_id for bookings\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:46:39.444035795+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:27:22.517399829+01:00","closed_at":"2026-01-26T10:27:22.517399829+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-7t3.7","depends_on_id":"meet-mesh-7t3","type":"parent-child","created_at":"2026-01-25T21:46:39.446429441+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-7t3.8","title":"Test complete booking flow end-to-end","description":"## Task 8: Test complete booking flow end-to-end\n\n**Verification Steps:**\n\n1. **Build and run the application**\n   ```bash\n   make build\n   ./api/cmd/meet-mesh\n   ```\n\n2. **Create a new booking link with custom slot settings**\n   - Login to dashboard\n   - Create new booking link\n   - Set slot duration to 30 minutes\n   - Set buffer to 15 minutes\n   - Add availability: Monday-Friday, 9:00-17:00\n   - Save\n\n3. **Verify slot generation**\n   - Navigate to public booking page\n   - Select a future date\n   - Verify individual 30-minute slots are displayed\n   - Slots should be: 9:00-9:30, 9:45-10:15, 10:30-11:00, etc.\n   - (15 min buffer between each)\n\n4. **Complete a booking**\n   - Select a time slot\n   - Fill in guest details\n   - Submit booking\n   - Verify \"Booking confirmed\" or \"Booking pending\" message\n   - Verify no \"Slot not available\" error\n\n5. **Verify calendar integration (if configured)**\n   - Check calendar for new event\n   - Event should have correct start/end times\n\n6. **Edge cases to test**\n   - Try to book a past slot (should fail)\n   - Try to book outside availability hours (should not be shown)\n   - Try to double-book a slot (should show as unavailable after calendar sync)\n\n**Expected Results:**\n- All slots display correctly based on duration/buffer settings\n- Bookings complete successfully\n- No \"Slot not available\" errors\n- Calendar events created with correct times","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:46:50.302385995+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:27:22.599847477+01:00","closed_at":"2026-01-26T10:27:22.599847477+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-7t3.8","depends_on_id":"meet-mesh-7t3","type":"parent-child","created_at":"2026-01-25T21:46:50.305120938+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-8o0","title":"Multiple Time Slot Durations per Booking Link","description":"Allow organizers to configure multiple time slot durations per booking link (e.g., 15min, 30min, 60min). When multiple durations are configured, bookers see a duration selector on the booking page that updates available slots in real-time.\n\n## Goal\nEnable booking links to support multiple duration options, giving bookers flexibility to choose meeting length.\n\n## Architecture\n- Change `slot_duration_minutes` from single integer to JSON array of integers\n- Add `duration` query parameter to availability endpoint for filtering\n- Add duration selector component to public booking page\n- Maintain backwards compatibility: single-duration links work as before\n\n## Tech Stack\n- Go backend with ogen-generated API\n- SvelteKit frontend with Svelte 5 runes\n- SQLite database via GORM\n- OpenAPI-first development","status":"open","priority":2,"issue_type":"epic","owner":"k@knt.li","created_at":"2026-01-26T16:36:24.734266335+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:36:24.734266335+01:00"}
{"id":"meet-mesh-8o0.1","title":"Update OpenAPI spec: add slot_durations_minutes array","description":"Modify the OpenAPI specification to change slot_duration_minutes from integer to array of integers.\n\n## Files\n- Modify: `/home/konrad/www/meet-mesh/api/openapi.yaml`\n\n## Changes\n\n### In components/schemas/BookingLink (around line 196-199):\n\nReplace:\n```yaml\n        slot_duration_minutes:\n          type: integer\n          description: Duration of each bookable slot in minutes\n          default: 30\n```\n\nWith:\n```yaml\n        slot_duration_minutes:\n          type: integer\n          description: Duration of each bookable slot in minutes (deprecated, use slot_durations_minutes)\n          default: 30\n        slot_durations_minutes:\n          type: array\n          items:\n            type: integer\n            minimum: 5\n            maximum: 480\n          description: Available slot durations in minutes. If empty or not set, slot_duration_minutes is used.\n          example: [15, 30, 60]\n```\n\n### In createBookingLink request body (around line 572-574):\n\nAdd:\n```yaml\n                slot_durations_minutes:\n                  type: array\n                  items:\n                    type: integer\n                    minimum: 5\n                    maximum: 480\n                  description: Available slot durations in minutes\n```\n\n### In updateBookingLink request body (around line 644-646):\n\nAdd:\n```yaml\n                slot_durations_minutes:\n                  type: array\n                  items:\n                    type: integer\n                    minimum: 5\n                    maximum: 480\n```\n\n### In getPublicBookingLink response (around line 1018-1026):\n\nAdd after require_email:\n```yaml\n                  slot_durations_minutes:\n                    type: array\n                    items:\n                      type: integer\n                    description: Available slot durations in minutes\n```\n\n### In getBookingAvailability query parameters (around line 1044-1055):\n\nAdd:\n```yaml\n        - name: duration\n          in: query\n          required: false\n          schema:\n            type: integer\n            minimum: 5\n            maximum: 480\n          description: Filter availability by slot duration in minutes\n```\n\n## Verification\nRun: `make generate` - should succeed without errors\n\n## Commit\n```bash\ngit add api/openapi.yaml\ngit commit -m \"feat(api): add slot_durations_minutes to OpenAPI spec\n\nSupport multiple time slot durations per booking link.\nAdds slot_durations_minutes array field to BookingLink schema.\nAdds duration query param to availability endpoint.\nMaintains backwards compatibility via slot_duration_minutes.\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T16:36:38.1811626+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:36:38.1811626+01:00","dependencies":[{"issue_id":"meet-mesh-8o0.1","depends_on_id":"meet-mesh-8o0","type":"parent-child","created_at":"2026-01-26T16:36:38.184095828+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-8o0.10","title":"Update dashboard: multi-select for slot durations","description":"Update the booking link create/edit forms to support selecting multiple durations.\n\n## Files\n- Modify: `/home/konrad/www/meet-mesh/frontend/src/routes/(dashboard)/booking-links/new/+page.svelte`\n- Modify: `/home/konrad/www/meet-mesh/frontend/src/routes/(dashboard)/booking-links/[id]/edit/+page.svelte`\n\n## Changes to new/+page.svelte\n\n### Update state (around line 15):\n\nReplace:\n```typescript\nlet slotDurationMinutes = $state('30');\n```\n\nWith:\n```typescript\nlet slotDurationsMinutes = $state\u003cstring[]\u003e(['30']);\n```\n\n### Update slotDurationOptions (keep the same):\n\n```typescript\nconst slotDurationOptions = [\n\t{ value: '15', label: '15 minutes' },\n\t{ value: '30', label: '30 minutes' },\n\t{ value: '45', label: '45 minutes' },\n\t{ value: '60', label: '60 minutes (1 hour)' },\n\t{ value: '90', label: '90 minutes (1.5 hours)' },\n\t{ value: '120', label: '120 minutes (2 hours)' }\n];\n```\n\n### Add toggle function:\n\n```typescript\nfunction toggleDuration(value: string) {\n\tif (slotDurationsMinutes.includes(value)) {\n\t\t// Don't allow removing the last duration\n\t\tif (slotDurationsMinutes.length \u003e 1) {\n\t\t\tslotDurationsMinutes = slotDurationsMinutes.filter(d =\u003e d !== value);\n\t\t}\n\t} else {\n\t\tslotDurationsMinutes = [...slotDurationsMinutes, value];\n\t}\n}\n```\n\n### Update handleSubmit (around line 78-87):\n\n```typescript\nconst { data, error: apiError } = await api.POST('/booking-links', {\n\tbody: {\n\t\tname,\n\t\tdescription: description || undefined,\n\t\tslot_durations_minutes: slotDurationsMinutes.map(Number).sort((a, b) =\u003e a - b),\n\t\tbuffer_minutes: Number(bufferMinutes),\n\t\tavailability_rules: availabilityRules.length \u003e 0 ? availabilityRules : undefined,\n\t\tcustom_fields: customFields.length \u003e 0 ? customFields : undefined\n\t}\n});\n```\n\n### Update the form UI (around line 127-141):\n\nReplace the single Select with multi-select checkboxes:\n```svelte\n\u003c!-- Slot Durations --\u003e\n\u003cdiv class=\"space-y-2\"\u003e\n\t\u003clabel class=\"block text-sm font-medium text-gray-700 dark:text-gray-300\"\u003e\n\t\tSlot Durations\n\t\u003c/label\u003e\n\t\u003cp class=\"text-sm text-gray-500 dark:text-gray-400 mb-2\"\u003e\n\t\tSelect one or more meeting durations. Guests will choose from these options.\n\t\u003c/p\u003e\n\t\u003cdiv class=\"flex flex-wrap gap-2\"\u003e\n\t\t{#each slotDurationOptions as opt (opt.value)}\n\t\t\t\u003cbutton\n\t\t\t\ttype=\"button\"\n\t\t\t\tonclick={() =\u003e toggleDuration(opt.value)}\n\t\t\t\tclass=\"px-3 py-2 text-sm rounded-[var(--radius-md)] border transition-colors\n\t\t\t\t\t{slotDurationsMinutes.includes(opt.value)\n\t\t\t\t\t\t? 'bg-indigo-600 text-white border-indigo-600'\n\t\t\t\t\t\t: 'bg-white dark:bg-neutral-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-neutral-600 hover:border-indigo-400'}\"\n\t\t\t\u003e\n\t\t\t\t{opt.label}\n\t\t\t\u003c/button\u003e\n\t\t{/each}\n\t\u003c/div\u003e\n\u003c/div\u003e\n```\n\n## Changes to [id]/edit/+page.svelte\n\nApply the same changes as above, plus:\n\n### Update onMount (around line 76-77):\n\n```typescript\n// Convert existing single duration to array, or use existing array\nif (data.slot_durations_minutes \u0026\u0026 data.slot_durations_minutes.length \u003e 0) {\n\tslotDurationsMinutes = data.slot_durations_minutes.map(String);\n} else {\n\tslotDurationsMinutes = [String(data.slot_duration_minutes)];\n}\n```\n\n### Update handleSubmit:\n\n```typescript\nbody: {\n\tname,\n\tstatus: Number(status) as LinkStatus,\n\tdescription: description || undefined,\n\tslot_durations_minutes: slotDurationsMinutes.map(Number).sort((a, b) =\u003e a - b),\n\tbuffer_minutes: Number(bufferMinutes),\n\tavailability_rules: availabilityRules.length \u003e 0 ? availabilityRules : undefined,\n\tcustom_fields: customFields.length \u003e 0 ? customFields : undefined\n}\n```\n\n## Verification\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\n## Commit\n```bash\ngit add frontend/src/routes/(dashboard)/booking-links/new/+page.svelte\ngit add frontend/src/routes/(dashboard)/booking-links/[id]/edit/+page.svelte\ngit commit -m \"feat(dashboard): multi-select slot durations in booking link forms\n\nReplace single-select dropdown with pill-style multi-select.\nExisting links with single duration migrated to array on load.\nAt least one duration must be selected.\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T16:54:06.692926319+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:54:06.692926319+01:00","dependencies":[{"issue_id":"meet-mesh-8o0.10","depends_on_id":"meet-mesh-8o0","type":"parent-child","created_at":"2026-01-26T16:54:06.695740517+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-8o0.10","depends_on_id":"meet-mesh-8o0.9","type":"blocks","created_at":"2026-01-26T16:54:40.457815086+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-8o0.11","title":"Build and test the full application","description":"Build the full application and perform manual testing.\n\n## Build Commands\n```bash\nmake build\n```\n\nThis will:\n1. Build the frontend\n2. Copy to embedded directory\n3. Regenerate Go code\n4. Build the Go binary\n\n## Start the Application\n```bash\n./meet-mesh\n```\n\n## Manual Test Scenarios\n\n### Test 1: Create booking link with multiple durations\n1. Login to dashboard\n2. Go to Booking Links \u003e New\n3. Select multiple durations (15 min, 30 min, 60 min)\n4. Set availability rules\n5. Save the booking link\n6. **Verify:** Link is created with all selected durations\n\n### Test 2: Public booking page shows duration selector\n1. Open the public booking URL: `/p/booking/{slug}`\n2. **Verify:** Duration selector shows all configured options\n3. **Verify:** First duration is pre-selected\n\n### Test 3: Changing duration updates available slots\n1. On the public booking page, click a different duration\n2. **Verify:** Loading indicator shows briefly\n3. **Verify:** Time slots update based on new duration\n4. **Verify:** Slot times are correct for selected duration\n\n### Test 4: Booking with non-default duration\n1. Select a non-default duration (e.g., 60 min)\n2. Pick a date and time slot\n3. Fill in booking form\n4. Submit booking\n5. **Verify:** Booking is created successfully\n6. **Verify:** Booking shows correct duration\n\n### Test 5: Single duration (backwards compatibility)\n1. Create a booking link with only one duration selected\n2. Open the public booking page\n3. **Verify:** No duration selector is shown\n4. **Verify:** Booking flow works as before\n\n### Test 6: Edit existing link to add durations\n1. Edit an existing booking link\n2. Add additional durations\n3. Save changes\n4. **Verify:** Public page now shows duration selector\n\n## Verification\nAll tests should pass. If any fail, fix the issues before proceeding.\n\n## Commit (if any fixes were needed)\n```bash\ngit add -A\ngit commit -m \"fix: address issues found during manual testing\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T16:54:19.097448982+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:54:19.097448982+01:00","dependencies":[{"issue_id":"meet-mesh-8o0.11","depends_on_id":"meet-mesh-8o0","type":"parent-child","created_at":"2026-01-26T16:54:19.099891416+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-8o0.11","depends_on_id":"meet-mesh-8o0.10","type":"blocks","created_at":"2026-01-26T16:54:40.683487363+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-8o0.12","title":"Final commit and sync","description":"Final commit with all changes and sync with git.\n\n## Final Build Verification\n```bash\nmake build\n```\nShould complete without errors.\n\n## Check for Uncommitted Changes\n```bash\ngit status\n```\n\n## Final Commit (if needed)\n```bash\ngit add -A\ngit commit -m \"feat: multiple time slot durations per booking link\n\n- Organizers can configure multiple durations (e.g., 15, 30, 60 min)\n- Public booking page shows duration selector when \u003e 1 option\n- Selecting duration refreshes available time slots\n- Backwards compatible: single duration links work as before\n\nCloses meet-mesh-8o0\"\n```\n\n## Push and Sync\n```bash\ngit pull --rebase\nbd sync\ngit push\ngit status  # Should show 'up to date with origin'\n```\n\n## Close the Epic\n```bash\nbd close meet-mesh-8o0\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T16:54:26.554084815+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:54:26.554084815+01:00","dependencies":[{"issue_id":"meet-mesh-8o0.12","depends_on_id":"meet-mesh-8o0","type":"parent-child","created_at":"2026-01-26T16:54:26.556332687+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-8o0.12","depends_on_id":"meet-mesh-8o0.11","type":"blocks","created_at":"2026-01-26T16:54:40.894939043+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-8o0.2","title":"Regenerate Go code from OpenAPI spec","description":"Regenerate the Go types and interfaces from the updated OpenAPI specification.\n\n## Commands\n```bash\nmake generate\n```\n\n## Verification\nCheck that `api/gen/` files are regenerated with new types:\n- Look for `SlotDurationsMinutes` field in generated structs\n- Look for `Duration` parameter in availability endpoint\n\n## Expected Output\nThe generated code in `api/gen/` should now include:\n- `OptNilInt32Array` or similar type for the array\n- New request/response structs with the duration fields\n\n## Commit\n```bash\ngit add api/gen/\ngit commit -m \"chore: regenerate Go code from OpenAPI spec\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T16:36:44.785635943+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:36:44.785635943+01:00","dependencies":[{"issue_id":"meet-mesh-8o0.2","depends_on_id":"meet-mesh-8o0","type":"parent-child","created_at":"2026-01-26T16:36:44.788038091+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-8o0.2","depends_on_id":"meet-mesh-8o0.1","type":"blocks","created_at":"2026-01-26T16:54:32.79511655+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-8o0.3","title":"Update GORM model: add SlotDurationsMinutes field","description":"Add the SlotDurationsMinutes field to the BookingLink model in GORM.\n\n## Files\n- Modify: `/home/konrad/www/meet-mesh/api/models.go`\n\n## Changes\n\nIn the BookingLink struct (around line 94-111), add new field after SlotDurationMinutes:\n\n```go\ntype BookingLink struct {\n\tID                   uint               `gorm:\"primaryKey\"`\n\tUserID               uint               `gorm:\"index;not null\"`\n\tSlug                 string             `gorm:\"uniqueIndex;not null\"`\n\tName                 string             `gorm:\"not null\"`\n\tDescription          string\n\tStatus               LinkStatus         `gorm:\"not null;default:1\"`\n\tAutoConfirm          bool\n\tSlotDurationMinutes  int                `gorm:\"not null;default:30\"`\n\tSlotDurationsMinutes []int              `gorm:\"serializer:json\"`  // NEW: Multiple durations\n\tBufferMinutes        int                `gorm:\"not null;default:0\"`\n\tAvailabilityRules    []AvailabilityRule `gorm:\"serializer:json\"`\n\tRequireEmail         bool\n\tCustomFields         []CustomField      `gorm:\"serializer:json\"`\n\tEventTemplate        *EventTemplate     `gorm:\"serializer:json\"`\n\tCreatedAt            time.Time\n\tUpdatedAt            time.Time\n\tBookings             []Booking          `gorm:\"foreignKey:BookingLinkID\"`\n}\n```\n\n## Database Migration\nGORM AutoMigrate will handle the new column. SQLite stores JSON arrays as TEXT.\n\n## Verification\n```bash\ncd api \u0026\u0026 go build ./cmd\n```\nShould compile without errors.\n\n## Commit\n```bash\ngit add api/models.go\ngit commit -m \"feat(model): add SlotDurationsMinutes field to BookingLink\n\nStores array of allowed durations as JSON-serialized integer array.\nGORM AutoMigrate handles column creation.\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T16:36:55.283899323+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:36:55.283899323+01:00","dependencies":[{"issue_id":"meet-mesh-8o0.3","depends_on_id":"meet-mesh-8o0","type":"parent-child","created_at":"2026-01-26T16:36:55.286393281+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-8o0.3","depends_on_id":"meet-mesh-8o0.2","type":"blocks","created_at":"2026-01-26T16:54:33.015403961+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-8o0.4","title":"Update handler_booking_links.go: handle SlotDurationsMinutes in CRUD","description":"Update the booking links handler to read/write the new SlotDurationsMinutes field.\n\n## Files\n- Modify: `/home/konrad/www/meet-mesh/api/handler_booking_links.go`\n\n## Changes\n\n### In CreateBookingLink (around line 25-58):\n\nAdd after bufferMinutes handling (line 37):\n```go\n\t// Handle slot durations (new array field)\n\tvar slotDurations []int\n\tif req.SlotDurationsMinutes != nil \u0026\u0026 len(req.SlotDurationsMinutes) \u003e 0 {\n\t\tslotDurations = make([]int, len(req.SlotDurationsMinutes))\n\t\tfor i, d := range req.SlotDurationsMinutes {\n\t\t\tslotDurations[i] = d\n\t\t}\n\t}\n```\n\nUpdate the BookingLink creation (line 39-52) to include:\n```go\n\tlink := BookingLink{\n\t\tUserID:               userID,\n\t\tSlug:                 generateSlug(),\n\t\tName:                 req.Name,\n\t\tDescription:          req.Description.Value,\n\t\tStatus:               LinkStatusActive,\n\t\tAutoConfirm:          req.AutoConfirm.Value,\n\t\tSlotDurationMinutes:  slotDuration,\n\t\tSlotDurationsMinutes: slotDurations,  // NEW\n\t\tBufferMinutes:        bufferMinutes,\n\t\tRequireEmail:         req.RequireEmail.Value,\n\t\tAvailabilityRules:    mapAvailabilityRulesFromGen(req.AvailabilityRules),\n\t\tCustomFields:         mapCustomFieldsFromGen(req.CustomFields),\n\t\tEventTemplate:        mapEventTemplateFromGen(req.EventTemplate),\n\t}\n```\n\n### In UpdateBookingLink (around line 74-118):\n\nAdd after SlotDurationMinutes handling (line 108):\n```go\n\tif req.SlotDurationsMinutes != nil {\n\t\tslotDurations := make([]int, len(req.SlotDurationsMinutes))\n\t\tfor i, d := range req.SlotDurationsMinutes {\n\t\t\tslotDurations[i] = d\n\t\t}\n\t\tlink.SlotDurationsMinutes = slotDurations\n\t}\n```\n\n### In mapBookingLinkToGen (around line 160-176):\n\nAdd after SlotDurationMinutes mapping:\n```go\nfunc mapBookingLinkToGen(link *BookingLink) *gen.BookingLink {\n\tresult := \u0026gen.BookingLink{\n\t\tID:                   int(link.ID),\n\t\tSlug:                 link.Slug,\n\t\tName:                 link.Name,\n\t\tDescription:          gen.NewOptString(link.Description),\n\t\tStatus:               gen.LinkStatus(link.Status),\n\t\tAutoConfirm:          gen.NewOptBool(link.AutoConfirm),\n\t\tSlotDurationMinutes:  gen.NewOptInt(link.SlotDurationMinutes),\n\t\tBufferMinutes:        gen.NewOptInt(link.BufferMinutes),\n\t\tRequireEmail:         gen.NewOptBool(link.RequireEmail),\n\t\tAvailabilityRules:    mapAvailabilityRulesToGen(link.AvailabilityRules),\n\t\tCustomFields:         mapCustomFieldsToGen(link.CustomFields),\n\t\tEventTemplate:        mapEventTemplateToGen(link.EventTemplate),\n\t\tCreatedAt:            gen.NewOptDateTime(link.CreatedAt),\n\t}\n\t// Add slot durations array if set\n\tif len(link.SlotDurationsMinutes) \u003e 0 {\n\t\tresult.SlotDurationsMinutes = link.SlotDurationsMinutes\n\t}\n\treturn result\n}\n```\n\n## Verification\n```bash\ncd api \u0026\u0026 go build ./cmd\n```\n\n## Commit\n```bash\ngit add api/handler_booking_links.go\ngit commit -m \"feat(handler): support SlotDurationsMinutes in booking link CRUD\n\nHandles array of durations in create, update, and get operations.\nMaintains backwards compatibility with single duration field.\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T16:37:13.824167123+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:37:13.824167123+01:00","dependencies":[{"issue_id":"meet-mesh-8o0.4","depends_on_id":"meet-mesh-8o0","type":"parent-child","created_at":"2026-01-26T16:37:13.82717292+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-8o0.4","depends_on_id":"meet-mesh-8o0.3","type":"blocks","created_at":"2026-01-26T16:54:33.241667348+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-8o0.5","title":"Update handler_public_booking.go: add duration parameter to availability","description":"Update the public booking handler to support the duration query parameter and return available durations.\n\n## Files\n- Modify: `/home/konrad/www/meet-mesh/api/handler_public_booking.go`\n\n## Changes\n\n### In GetPublicBookingLink (around line 16-31):\n\nAdd slot_durations_minutes to the response:\n```go\nfunc (h *Handler) GetPublicBookingLink(ctx context.Context, params gen.GetPublicBookingLinkParams) (gen.GetPublicBookingLinkRes, error) {\n\tvar link BookingLink\n\tif err := h.db.Where(\"slug = ? AND status = ?\", params.Slug, LinkStatusActive).First(\u0026link).Error; err \\!= nil {\n\t\tif err == gorm.ErrRecordNotFound {\n\t\t\treturn \u0026gen.Error{Message: \"Booking link not found\"}, nil\n\t\t}\n\t\treturn nil, err\n\t}\n\n\t// Determine available durations\n\tvar durations []int\n\tif len(link.SlotDurationsMinutes) \u003e 0 {\n\t\tdurations = link.SlotDurationsMinutes\n\t} else {\n\t\tdurations = []int{link.SlotDurationMinutes}\n\t}\n\n\treturn \u0026gen.GetPublicBookingLinkOK{\n\t\tName:                 link.Name,\n\t\tDescription:          gen.NewOptString(link.Description),\n\t\tCustomFields:         mapCustomFieldsToGen(link.CustomFields),\n\t\tRequireEmail:         gen.NewOptBool(link.RequireEmail),\n\t\tSlotDurationsMinutes: durations,  // NEW\n\t}, nil\n}\n```\n\n### In GetBookingAvailability (around line 34-57):\n\nUpdate to accept and use duration parameter:\n```go\nfunc (h *Handler) GetBookingAvailability(ctx context.Context, params gen.GetBookingAvailabilityParams) (*gen.GetBookingAvailabilityOK, error) {\n\tvar link BookingLink\n\tif err := h.db.Where(\"slug = ? AND status = ?\", params.Slug, LinkStatusActive).First(\u0026link).Error; err \\!= nil {\n\t\treturn nil, err\n\t}\n\n\t// Determine which duration to use\n\tduration := link.SlotDurationMinutes  // Default\n\tif params.Duration.Set {\n\t\trequestedDuration := params.Duration.Value\n\t\t// Validate requested duration is allowed\n\t\tallowed := false\n\t\tif len(link.SlotDurationsMinutes) \u003e 0 {\n\t\t\tfor _, d := range link.SlotDurationsMinutes {\n\t\t\t\tif d == requestedDuration {\n\t\t\t\t\tallowed = true\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t} else if requestedDuration == link.SlotDurationMinutes {\n\t\t\tallowed = true\n\t\t}\n\t\tif \\!allowed {\n\t\t\treturn \u0026gen.GetBookingAvailabilityOK{Slots: []gen.Slot{}}, nil\n\t\t}\n\t\tduration = requestedDuration\n\t} else if len(link.SlotDurationsMinutes) \u003e 0 {\n\t\t// Use first duration as default\n\t\tduration = link.SlotDurationsMinutes[0]\n\t}\n\n\t// Fetch busy times from CalDAV\n\tvar busyTimes []TimePeriod\n\tif h.caldav \\!= nil {\n\t\tvar err error\n\t\tbusyTimes, err = h.caldav.GetBusyTimes(ctx, link.UserID, params.Start, params.End)\n\t\tif err \\!= nil {\n\t\t\tbusyTimes = nil\n\t\t}\n\t}\n\n\t// Generate available slots based on availability rules\n\tslots := h.generateAvailableSlotsWithDuration(link, params.Start, params.End, busyTimes, duration)\n\n\treturn \u0026gen.GetBookingAvailabilityOK{\n\t\tSlots: mapSlotsToGen(slots),\n\t}, nil\n}\n```\n\n### Add new helper function (after generateAvailableSlots):\n\n```go\nfunc (h *Handler) generateAvailableSlotsWithDuration(link BookingLink, start, end time.Time, busyTimes []TimePeriod, durationMinutes int) []Slot {\n\tvar slots []Slot\n\n\tif len(link.AvailabilityRules) == 0 {\n\t\treturn slots\n\t}\n\n\tslotDuration := time.Duration(durationMinutes) * time.Minute\n\tbufferDuration := time.Duration(link.BufferMinutes) * time.Minute\n\n\tfor day := start; day.Before(end); day = day.AddDate(0, 0, 1) {\n\t\tweekday := int(day.Weekday())\n\n\t\tfor _, rule := range link.AvailabilityRules {\n\t\t\tif \\!containsDay(rule.DaysOfWeek, weekday) {\n\t\t\t\tcontinue\n\t\t\t}\n\n\t\t\truleStart, _ := time.Parse(\"15:04\", rule.StartTime)\n\t\t\truleEnd, _ := time.Parse(\"15:04\", rule.EndTime)\n\n\t\t\twindowStart := time.Date(day.Year(), day.Month(), day.Day(),\n\t\t\t\truleStart.Hour(), ruleStart.Minute(), 0, 0, day.Location())\n\t\t\twindowEnd := time.Date(day.Year(), day.Month(), day.Day(),\n\t\t\t\truleEnd.Hour(), ruleEnd.Minute(), 0, 0, day.Location())\n\n\t\t\tfor slotStart := windowStart; slotStart.Add(slotDuration).Before(windowEnd) || slotStart.Add(slotDuration).Equal(windowEnd); slotStart = slotStart.Add(slotDuration + bufferDuration) {\n\t\t\t\tslotEnd := slotStart.Add(slotDuration)\n\n\t\t\t\tif slotStart.Before(time.Now()) {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\tif isSlotBusy(slotStart, slotEnd, busyTimes) {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\tslots = append(slots, Slot{\n\t\t\t\t\tType:      SlotTypeTime,\n\t\t\t\t\tStartTime: slotStart,\n\t\t\t\t\tEndTime:   slotEnd,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\treturn slots\n}\n```\n\n### Update generateAvailableSlots to call the new function:\n\n```go\nfunc (h *Handler) generateAvailableSlots(link BookingLink, start, end time.Time, busyTimes []TimePeriod) []Slot {\n\treturn h.generateAvailableSlotsWithDuration(link, start, end, busyTimes, link.SlotDurationMinutes)\n}\n```\n\n### In CreateBooking (around line 150-161):\n\nUpdate duration validation to support multiple durations:\n```go\n\t// Validate slot duration matches one of the booking link's configurations\n\trequestedDuration := req.EndTime.Sub(req.StartTime)\n\trequestedMinutes := int(requestedDuration.Minutes())\n\t\n\tvalidDuration := false\n\tif len(link.SlotDurationsMinutes) \u003e 0 {\n\t\tfor _, d := range link.SlotDurationsMinutes {\n\t\t\tif requestedMinutes == d {\n\t\t\t\tvalidDuration = true\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t} else if requestedMinutes == link.SlotDurationMinutes {\n\t\tvalidDuration = true\n\t}\n\t\n\tif \\!validDuration {\n\t\treturn \u0026gen.Error{Message: \"Invalid slot duration\"}, nil\n\t}\n```\n\n## Verification\n```bash\ncd api \u0026\u0026 go build ./cmd\n```\n\n## Commit\n```bash\ngit add api/handler_public_booking.go\ngit commit -m \"feat(handler): support duration parameter in availability endpoint\n\n- Returns slot_durations_minutes in public booking link info\n- Accepts duration query param to filter availability\n- Validates booking duration against allowed durations\n- Maintains backwards compatibility with single duration\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T16:37:43.874380277+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:37:43.874380277+01:00","dependencies":[{"issue_id":"meet-mesh-8o0.5","depends_on_id":"meet-mesh-8o0","type":"parent-child","created_at":"2026-01-26T16:37:43.877631358+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-8o0.5","depends_on_id":"meet-mesh-8o0.4","type":"blocks","created_at":"2026-01-26T16:54:33.460320162+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-8o0.6","title":"Regenerate frontend TypeScript types","description":"Regenerate the TypeScript types from the updated OpenAPI specification.\n\n## Commands\n```bash\ncd frontend \u0026\u0026 pnpm generate:api\n```\n\n## Verification\nCheck that `frontend/src/lib/api/generated/schema.d.ts` contains:\n- `slot_durations_minutes` in BookingLink schema\n- `duration` in getBookingAvailability parameters\n\n## Expected Types\nThe generated types should include:\n```typescript\n// In components.schemas.BookingLink\nslot_durations_minutes?: number[];\n\n// In paths./p/booking/{slug}/availability.get.parameters.query\nduration?: number;\n\n// In paths./p/booking/{slug}.get responses\nslot_durations_minutes?: number[];\n```\n\n## Commit\n```bash\ngit add frontend/src/lib/api/generated/\ngit commit -m \"chore: regenerate frontend TypeScript types\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T16:37:51.422479342+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:37:51.422479342+01:00","dependencies":[{"issue_id":"meet-mesh-8o0.6","depends_on_id":"meet-mesh-8o0","type":"parent-child","created_at":"2026-01-26T16:37:51.425204632+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-8o0.6","depends_on_id":"meet-mesh-8o0.5","type":"blocks","created_at":"2026-01-26T16:54:33.680692032+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-8o0.7","title":"Create DurationSelector component for booking page","description":"Create a new Svelte component for selecting duration on the public booking page.\n\n## Files\n- Create: `/home/konrad/www/meet-mesh/frontend/src/lib/components/booking/DurationSelector.svelte`\n- Modify: `/home/konrad/www/meet-mesh/frontend/src/lib/components/booking/index.ts`\n\n## DurationSelector.svelte\n\n```svelte\n\u003cscript lang=\"ts\"\u003e\n\tinterface Props {\n\t\tdurations: number[];\n\t\tselectedDuration?: number;\n\t\tonSelect?: (duration: number) =\u003e void;\n\t\tclass?: string;\n\t}\n\n\tlet {\n\t\tdurations,\n\t\tselectedDuration = $bindable(),\n\t\tonSelect,\n\t\tclass: className = ''\n\t}: Props = $props();\n\n\tfunction formatDuration(minutes: number): string {\n\t\tif (minutes \u003c 60) {\n\t\t\treturn `${minutes} min`;\n\t\t}\n\t\tconst hours = Math.floor(minutes / 60);\n\t\tconst remainingMinutes = minutes % 60;\n\t\tif (remainingMinutes === 0) {\n\t\t\treturn hours === 1 ? '1 hour' : `${hours} hours`;\n\t\t}\n\t\treturn `${hours}h ${remainingMinutes}m`;\n\t}\n\n\tfunction handleSelect(duration: number) {\n\t\tselectedDuration = duration;\n\t\tonSelect?.(duration);\n\t}\n\n\tfunction isSelected(duration: number): boolean {\n\t\treturn selectedDuration === duration;\n\t}\n\n\t// Auto-select first duration if none selected\n\t$effect(() =\u003e {\n\t\tif (durations.length \u003e 0 \u0026\u0026 selectedDuration === undefined) {\n\t\t\tselectedDuration = durations[0];\n\t\t}\n\t});\n\u003c/script\u003e\n\n{#if durations.length \u003e 1}\n\t\u003cdiv class=\"mb-6 {className}\"\u003e\n\t\t\u003clabel class=\"block text-sm font-medium text-[var(--text-secondary)] mb-2\"\u003e\n\t\t\tSelect Duration\n\t\t\u003c/label\u003e\n\t\t\u003cdiv class=\"flex flex-wrap gap-2\"\u003e\n\t\t\t{#each durations as duration (duration)}\n\t\t\t\t\u003cbutton\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonclick={() =\u003e handleSelect(duration)}\n\t\t\t\t\tclass=\"px-4 py-2 rounded-[var(--radius-md)] border text-sm font-medium transition-colors\n\t\t\t\t\t\t{isSelected(duration)\n\t\t\t\t\t\t\t? 'bg-[var(--sky)] text-white border-[var(--sky)]'\n\t\t\t\t\t\t\t: 'bg-[var(--bg-secondary)] text-[var(--text-primary)] border-[var(--border-color)] hover:border-[var(--sky)] hover:bg-[var(--bg-tertiary)]'}\"\n\t\t\t\t\u003e\n\t\t\t\t\t{formatDuration(duration)}\n\t\t\t\t\u003c/button\u003e\n\t\t\t{/each}\n\t\t\u003c/div\u003e\n\t\u003c/div\u003e\n{/if}\n```\n\n## Update index.ts\n\nAdd export:\n```typescript\nexport { default as DurationSelector } from './DurationSelector.svelte';\n```\n\n## Verification\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\nShould pass type checking.\n\n## Commit\n```bash\ngit add frontend/src/lib/components/booking/DurationSelector.svelte\ngit add frontend/src/lib/components/booking/index.ts\ngit commit -m \"feat(ui): add DurationSelector component\n\nPill-style buttons for selecting meeting duration.\nOnly shows when multiple durations are available.\nAuto-selects first duration by default.\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T16:39:17.279136754+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:39:17.279136754+01:00","dependencies":[{"issue_id":"meet-mesh-8o0.7","depends_on_id":"meet-mesh-8o0","type":"parent-child","created_at":"2026-01-26T16:39:17.282295837+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-8o0.7","depends_on_id":"meet-mesh-8o0.6","type":"blocks","created_at":"2026-01-26T16:54:39.826404626+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-8o0.8","title":"Update public booking page to support multiple durations","description":"Update the booking page route to fetch and handle multiple durations.\n\n## Files\n- Modify: `/home/konrad/www/meet-mesh/frontend/src/routes/(public)/p/booking/[slug]/+page.svelte`\n\n## Changes\n\n### Update imports and interface (lines 1-16):\n\n```svelte\n\u003cscript lang=\"ts\"\u003e\n\timport { page } from '$app/state';\n\timport { api } from '$lib/api/client';\n\timport type { components } from '$lib/api/types';\n\timport { Spinner, Card } from '$lib/components/ui';\n\timport { BookingPage } from '$lib/components/booking';\n\n\ttype Slot = components['schemas']['Slot'];\n\ttype CustomField = components['schemas']['CustomField'];\n\n\tinterface PublicBookingLink {\n\t\tname: string;\n\t\tdescription?: string;\n\t\tcustom_fields?: CustomField[];\n\t\trequire_email?: boolean;\n\t\tslot_durations_minutes?: number[];  // NEW\n\t}\n\n\tlet bookingLink = $state\u003cPublicBookingLink | null\u003e(null);\n\tlet slots = $state\u003cSlot[]\u003e([]);\n\tlet loading = $state(true);\n\tlet error = $state\u003cstring | null\u003e(null);\n\tlet selectedDuration = $state\u003cnumber | undefined\u003e();  // NEW\n\n\tconst slug = $derived(page.params.slug ?? '');\n```\n\n### Update loadBookingLink function:\n\n```svelte\n\tasync function loadBookingLink() {\n\t\tif (!slug) return;\n\n\t\tloading = true;\n\t\terror = null;\n\n\t\t// Fetch booking link info\n\t\tconst { data: linkData, error: linkError } = await api.GET('/p/booking/{slug}', {\n\t\t\tparams: { path: { slug } }\n\t\t});\n\n\t\tif (linkError) {\n\t\t\terror = 'This booking page is not available.';\n\t\t\tloading = false;\n\t\t\treturn;\n\t\t}\n\n\t\tbookingLink = linkData ?? null;\n\n\t\t// Set default duration\n\t\tif (bookingLink?.slot_durations_minutes \u0026\u0026 bookingLink.slot_durations_minutes.length \u003e 0) {\n\t\t\tselectedDuration = bookingLink.slot_durations_minutes[0];\n\t\t}\n\n\t\t// Fetch availability with duration\n\t\tawait loadAvailability();\n\t}\n\n\tasync function loadAvailability() {\n\t\tif (!slug) return;\n\n\t\tconst now = new Date();\n\t\tconst start = now.toISOString();\n\t\tconst end = new Date(now.getTime() + 30 * 24 * 60 * 60 * 1000).toISOString();\n\n\t\tconst { data: availabilityData } = await api.GET('/p/booking/{slug}/availability', {\n\t\t\tparams: {\n\t\t\t\tpath: { slug },\n\t\t\t\tquery: {\n\t\t\t\t\tstart,\n\t\t\t\t\tend,\n\t\t\t\t\tduration: selectedDuration  // NEW: pass selected duration\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (availabilityData?.slots) {\n\t\t\tslots = availabilityData.slots;\n\t\t}\n\n\t\tloading = false;\n\t}\n\n\t// NEW: Re-fetch availability when duration changes\n\tasync function handleDurationChange(duration: number) {\n\t\tselectedDuration = duration;\n\t\tloading = true;\n\t\tawait loadAvailability();\n\t}\n```\n\n### Update BookingPage props:\n\n```svelte\n{:else if bookingLink}\n\t\u003cBookingPage\n\t\tlink={{\n\t\t\ttype: 1,\n\t\t\tname: bookingLink.name,\n\t\t\tdescription: bookingLink.description,\n\t\t\tcustom_fields: bookingLink.custom_fields,\n\t\t\tslots,\n\t\t\trequire_email: bookingLink.require_email,\n\t\t\tslot_durations_minutes: bookingLink.slot_durations_minutes  // NEW\n\t\t}}\n\t\t{slug}\n\t\t{selectedDuration}\n\t\tonDurationChange={handleDurationChange}\n\t/\u003e\n{/if}\n```\n\n## Verification\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\n## Commit\n```bash\ngit add frontend/src/routes/(public)/p/booking/[slug]/+page.svelte\ngit commit -m \"feat(booking): support duration selection in booking page\n\n- Fetches slot_durations_minutes from API\n- Passes duration to availability endpoint\n- Re-fetches slots when duration changes\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T16:53:05.18947023+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:53:05.18947023+01:00","dependencies":[{"issue_id":"meet-mesh-8o0.8","depends_on_id":"meet-mesh-8o0","type":"parent-child","created_at":"2026-01-26T16:53:05.192370519+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-8o0.8","depends_on_id":"meet-mesh-8o0.7","type":"blocks","created_at":"2026-01-26T16:54:40.023573037+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-8o0.9","title":"Update BookingPage component with duration selector","description":"Add the DurationSelector to the BookingPage component.\n\n## Files\n- Modify: `/home/konrad/www/meet-mesh/frontend/src/lib/components/booking/BookingPage.svelte`\n\n## Changes\n\n### Update imports (around line 10):\n\n```svelte\nimport DurationSelector from './DurationSelector.svelte';\n```\n\n### Update PublicLink interface (around line 19-27):\n\n```svelte\n\tinterface PublicLink {\n\t\ttype: 1 | 2;\n\t\tname: string;\n\t\tdescription?: string;\n\t\tcustom_fields?: CustomField[];\n\t\tslots: Slot[];\n\t\tshow_results?: boolean;\n\t\trequire_email?: boolean;\n\t\tslot_durations_minutes?: number[];  // NEW\n\t}\n```\n\n### Update Props interface (around line 29-32):\n\n```svelte\n\tinterface Props {\n\t\tlink: PublicLink;\n\t\tslug: string;\n\t\tselectedDuration?: number;          // NEW\n\t\tonDurationChange?: (duration: number) =\u003e void;  // NEW\n\t}\n\n\tlet { link, slug, selectedDuration, onDurationChange }: Props = $props();\n```\n\n### Add DurationSelector in the template (after header, around line 183):\n\n```svelte\n\t\u003c!-- Header --\u003e\n\t\u003cdiv class=\"text-center mb-8\"\u003e\n\t\t\u003ch1 class=\"text-2xl font-bold text-[var(--text-primary)]\"\u003e{link.name}\u003c/h1\u003e\n\t\t{#if link.description}\n\t\t\t\u003cp class=\"mt-2 text-[var(--text-secondary)]\"\u003e{link.description}\u003c/p\u003e\n\t\t{/if}\n\t\u003c/div\u003e\n\n\t\u003c!-- Duration Selector (NEW) --\u003e\n\t{#if link.slot_durations_minutes \u0026\u0026 link.slot_durations_minutes.length \u003e 1}\n\t\t\u003cDurationSelector\n\t\t\tdurations={link.slot_durations_minutes}\n\t\t\t{selectedDuration}\n\t\t\tonSelect={onDurationChange}\n\t\t/\u003e\n\t{/if}\n\n\t\u003c!-- Step indicator --\u003e\n\t...\n```\n\n## Verification\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\n## Commit\n```bash\ngit add frontend/src/lib/components/booking/BookingPage.svelte\ngit commit -m \"feat(ui): add duration selector to BookingPage\n\nShows duration selector when multiple durations configured.\nDuration change triggers slot refresh via callback.\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T16:53:15.402380777+01:00","created_by":"kolaente","updated_at":"2026-01-26T16:53:15.402380777+01:00","dependencies":[{"issue_id":"meet-mesh-8o0.9","depends_on_id":"meet-mesh-8o0","type":"parent-child","created_at":"2026-01-26T16:53:15.405156325+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-8o0.9","depends_on_id":"meet-mesh-8o0.8","type":"blocks","created_at":"2026-01-26T16:54:40.242537449+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-b5f","title":"Switch Outfit font from Google Fonts to Fontsource","description":"Replace the Google Fonts CDN link for Outfit with a self-hosted Fontsource package for better privacy, performance, and offline support.\n\n## Current Implementation\n- Google Fonts link in `frontend/src/app.html`\n- Font loaded via CDN at runtime\n\n## Target Implementation\n- Install `@fontsource-variable/outfit` package\n- Import font in SvelteKit layout\n- Update CSS font-family to `'Outfit Variable', sans-serif`\n- Remove Google Fonts `\u003clink\u003e` tags from app.html\n\n## Steps\n1. Run `pnpm add @fontsource-variable/outfit` in frontend/\n2. Add `import '@fontsource-variable/outfit';` to `frontend/src/routes/+layout.svelte`\n3. Update `font-family` in `frontend/src/app.css` to use `'Outfit Variable'`\n4. Remove the Google Fonts preconnect and stylesheet links from `frontend/src/app.html`\n5. Test that fonts render correctly in dev mode\n\n## Benefits\n- No external network requests for fonts\n- Better privacy (no Google tracking)\n- Faster loading (bundled with app)\n- Works offline","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T13:19:07.159893332+01:00","created_by":"kolaente","updated_at":"2026-01-25T19:49:29.724193354+01:00","closed_at":"2026-01-25T19:49:29.724193354+01:00","close_reason":"Closed"}
{"id":"meet-mesh-c76","title":"Calendar Connection Test Button","description":"Add a Test button to CalendarConnectionCard that fetches events for the next 7 days from a specific calendar and displays them in a dialog. This helps debug whether calendar connections are working correctly.\n\n**Goal:** Allow users to verify their calendar connection works by seeing fetched events in a dialog.\n\n**Architecture:** \n- New API endpoint POST /calendars/{id}/test that queries a single calendar connection\n- Returns event list with titles and times for the next 7 days\n- Frontend shows results in existing Dialog component\n\n**Tech Stack:** Go (caldav.go), OpenAPI, SvelteKit, bits-ui Dialog","status":"closed","priority":2,"issue_type":"epic","owner":"k@knt.li","created_at":"2026-01-25T20:31:35.221135093+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:12:02.727202636+01:00","closed_at":"2026-01-25T21:12:02.727202636+01:00","close_reason":"Closed"}
{"id":"meet-mesh-c76.1","title":"Add CalendarTestResult schema to OpenAPI spec","description":"**Files:**\n- Modify: `api/openapi.yaml` (after CalendarConnection schema, around line 125)\n\n**Step 1: Add schema**\n\nAdd after the CalendarConnection schema:\n\n```yaml\nCalendarTestResult:\n  type: object\n  required: [success, events]\n  properties:\n    success:\n      type: boolean\n    error:\n      type: string\n    events:\n      type: array\n      items:\n        type: object\n        required: [title, start, end]\n        properties:\n          title:\n            type: string\n          start:\n            type: string\n            format: date-time\n          end:\n            type: string\n            format: date-time\n```\n\n**Step 2: Verify YAML is valid**\n\nRun: `cd api \u0026\u0026 go run github.com/ogen-go/ogen/cmd/ogen --target gen --clean openapi.yaml 2\u003e\u00261 | head -20`\nExpected: No YAML parse errors\n\n**Step 3: Commit**\n\n```bash\ngit add api/openapi.yaml\ngit commit -m 'feat(api): add CalendarTestResult schema'\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:31:44.083951739+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:06:29.561669473+01:00","closed_at":"2026-01-25T21:06:29.561669473+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-c76.1","depends_on_id":"meet-mesh-c76","type":"parent-child","created_at":"2026-01-25T20:31:44.086520184+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-c76.2","title":"Add POST /calendars/{id}/test endpoint to OpenAPI spec","description":"**Files:**\n- Modify: `api/openapi.yaml` (after /calendars/{id} delete endpoint, around line 417)\n\n**Step 1: Add endpoint**\n\nAdd after the removeCalendar endpoint:\n\n```yaml\n  /calendars/{id}/test:\n    post:\n      operationId: testCalendar\n      summary: Test calendar connection by fetching events\n      security:\n        - cookieAuth: []\n      parameters:\n        - name: id\n          in: path\n          required: true\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: Test results with events\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/CalendarTestResult'\n        '404':\n          description: Calendar not found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n```\n\n**Step 2: Verify YAML is valid**\n\nRun: `cd api \u0026\u0026 go run github.com/ogen-go/ogen/cmd/ogen --target gen --clean openapi.yaml 2\u003e\u00261 | head -20`\nExpected: No YAML parse errors\n\n**Step 3: Commit**\n\n```bash\ngit add api/openapi.yaml\ngit commit -m 'feat(api): add testCalendar endpoint'\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:31:50.567554929+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:06:29.669429655+01:00","closed_at":"2026-01-25T21:06:29.669429655+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-c76.2","depends_on_id":"meet-mesh-c76","type":"parent-child","created_at":"2026-01-25T20:31:50.570197964+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-c76.3","title":"Generate Go code from OpenAPI spec","description":"**Step 1: Run code generation**\n\nRun: `make generate`\n\nExpected: New interface method `TestCalendar` added to `api/gen/oas_server_gen.go`\n\n**Step 2: Verify generated types**\n\nRun: `grep -A5 'TestCalendar' api/gen/oas_server_gen.go`\nExpected: Shows TestCalendar method signature\n\n**Step 3: Commit generated code**\n\n```bash\ngit add api/gen/\ngit commit -m 'chore: regenerate Go types from OpenAPI spec'\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:31:56.116242049+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:06:29.758105075+01:00","closed_at":"2026-01-25T21:06:29.758105075+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-c76.3","depends_on_id":"meet-mesh-c76","type":"parent-child","created_at":"2026-01-25T20:31:56.118834744+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-c76.4","title":"Add TestCalendarEvents method to CalDAVClient","description":"**Files:**\n- Modify: `api/caldav.go` (add method after GetBusyTimes, around line 87)\n\n**Step 1: Add the method**\n\nAdd the following method:\n\n```go\n// CalendarEvent represents a single calendar event for test results\ntype CalendarEvent struct {\n\tTitle string\n\tStart time.Time\n\tEnd   time.Time\n}\n\n// TestCalendarConnection tests a specific calendar by fetching events for the next 7 days\nfunc (c *CalDAVClient) TestCalendarConnection(ctx context.Context, connID uint, userID uint) ([]CalendarEvent, error) {\n\tvar conn CalendarConnection\n\tif err := c.db.Where(\"id = ? AND user_id = ?\", connID, userID).First(\u0026conn).Error; err != nil {\n\t\treturn nil, err\n\t}\n\n\tclient, err := c.createClient(\u0026conn)\n\tif err != nil {\n\t\treturn nil, fmt.Errorf(\"failed to create CalDAV client: %w\", err)\n\t}\n\n\tstart := time.Now()\n\tend := start.AddDate(0, 0, 7) // 7 days ahead\n\n\tvar events []CalendarEvent\n\tfor _, calURL := range conn.CalendarURLs {\n\t\tquery := \u0026caldav.CalendarQuery{\n\t\t\tCompRequest: caldav.CalendarCompRequest{\n\t\t\t\tName: \"VCALENDAR\",\n\t\t\t\tComps: []caldav.CalendarCompRequest{{\n\t\t\t\t\tName:     \"VEVENT\",\n\t\t\t\t\tAllProps: true,\n\t\t\t\t}},\n\t\t\t},\n\t\t\tCompFilter: caldav.CompFilter{\n\t\t\t\tName: \"VCALENDAR\",\n\t\t\t\tComps: []caldav.CompFilter{{\n\t\t\t\t\tName:  \"VEVENT\",\n\t\t\t\t\tStart: start,\n\t\t\t\t\tEnd:   end,\n\t\t\t\t}},\n\t\t\t},\n\t\t}\n\n\t\tobjs, err := client.QueryCalendar(ctx, calURL, query)\n\t\tif err != nil {\n\t\t\treturn nil, fmt.Errorf(\"failed to query calendar %s: %w\", calURL, err)\n\t\t}\n\n\t\tfor _, obj := range objs {\n\t\t\tfor _, event := range obj.Data.Events() {\n\t\t\t\tdtstart, _ := event.DateTimeStart(nil)\n\t\t\t\tdtend, _ := event.DateTimeEnd(nil)\n\t\t\t\tsummary := event.Props.Get(ical.PropSummary)\n\t\t\t\ttitle := \"(No title)\"\n\t\t\t\tif summary != nil {\n\t\t\t\t\ttitle = summary.Value\n\t\t\t\t}\n\t\t\t\tevents = append(events, CalendarEvent{\n\t\t\t\t\tTitle: title,\n\t\t\t\t\tStart: dtstart,\n\t\t\t\t\tEnd:   dtend,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\t// Sort by start time\n\tsort.Slice(events, func(i, j int) bool {\n\t\treturn events[i].Start.Before(events[j].Start)\n\t})\n\n\treturn events, nil\n}\n```\n\n**Step 2: Add fmt import**\n\nAdd `\"fmt\"` to the imports at the top of the file if not already present.\n\n**Step 3: Verify it compiles**\n\nRun: `cd api \u0026\u0026 go build ./...`\nExpected: No errors\n\n**Step 4: Commit**\n\n```bash\ngit add api/caldav.go\ngit commit -m 'feat(api): add TestCalendarConnection method to CalDAVClient'\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:32:10.187732617+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:09:43.621043749+01:00","closed_at":"2026-01-25T21:09:43.621043749+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-c76.4","depends_on_id":"meet-mesh-c76","type":"parent-child","created_at":"2026-01-25T20:32:10.190188191+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-c76.5","title":"Implement TestCalendar handler","description":"**Files:**\n- Modify: `api/handler_calendar.go` (add after RemoveCalendar, around line 64)\n\n**Step 1: Add handler method**\n\n```go\n// TestCalendar tests a calendar connection by fetching events\nfunc (h *Handler) TestCalendar(ctx context.Context, params gen.TestCalendarParams) (*gen.CalendarTestResult, error) {\n\tuserID, _ := GetUserID(ctx)\n\n\tevents, err := h.caldav.TestCalendarConnection(ctx, uint(params.ID), userID)\n\tif err != nil {\n\t\treturn \u0026gen.CalendarTestResult{\n\t\t\tSuccess: false,\n\t\t\tError:   gen.NewOptString(err.Error()),\n\t\t\tEvents:  []gen.CalendarTestResultEventsItem{},\n\t\t}, nil\n\t}\n\n\tresultEvents := make([]gen.CalendarTestResultEventsItem, len(events))\n\tfor i, e := range events {\n\t\tresultEvents[i] = gen.CalendarTestResultEventsItem{\n\t\t\tTitle: e.Title,\n\t\t\tStart: e.Start,\n\t\t\tEnd:   e.End,\n\t\t}\n\t}\n\n\treturn \u0026gen.CalendarTestResult{\n\t\tSuccess: true,\n\t\tEvents:  resultEvents,\n\t}, nil\n}\n```\n\n**Step 2: Verify it compiles**\n\nRun: `cd api \u0026\u0026 go build ./...`\nExpected: No errors\n\n**Step 3: Commit**\n\n```bash\ngit add api/handler_calendar.go\ngit commit -m 'feat(api): implement TestCalendar handler'\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:32:18.282477923+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:09:43.783864311+01:00","closed_at":"2026-01-25T21:09:43.783864311+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-c76.5","depends_on_id":"meet-mesh-c76","type":"parent-child","created_at":"2026-01-25T20:32:18.285174349+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-c76.6","title":"Generate TypeScript types from OpenAPI spec","description":"**Step 1: Generate types**\n\nRun: `cd frontend \u0026\u0026 pnpm generate:api`\n\nExpected: New types added to `frontend/src/lib/api/generated/schema.d.ts`\n\n**Step 2: Verify types exist**\n\nRun: `grep -A10 'CalendarTestResult' frontend/src/lib/api/generated/schema.d.ts`\nExpected: Shows CalendarTestResult interface with success, error, events fields\n\n**Step 3: Commit**\n\n```bash\ngit add frontend/src/lib/api/generated/\ngit commit -m 'chore: regenerate TypeScript types from OpenAPI spec'\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:32:23.335994594+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:09:43.942433794+01:00","closed_at":"2026-01-25T21:09:43.942433794+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-c76.6","depends_on_id":"meet-mesh-c76","type":"parent-child","created_at":"2026-01-25T20:32:23.338381788+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-c76.7","title":"Add Test button and dialog to CalendarConnectionCard","description":"**Files:**\n- Modify: `frontend/src/lib/components/dashboard/CalendarConnectionCard.svelte`\n\n**Step 1: Add imports and state**\n\nUpdate the script section:\n\n```typescript\n\u003cscript lang=\"ts\"\u003e\n\timport type { components } from '$lib/api/types';\n\timport { Card, Button, Dialog, Spinner } from '$lib/components/ui';\n\timport { api } from '$lib/api/client';\n\n\ttype CalendarConnection = components['schemas']['CalendarConnection'];\n\ttype CalendarTestResult = components['schemas']['CalendarTestResult'];\n\n\tinterface Props {\n\t\tcalendar: CalendarConnection;\n\t\tonDelete: (id: number) =\u003e void;\n\t}\n\n\tlet { calendar, onDelete }: Props = $props();\n\n\tlet deleting = $state(false);\n\tlet testing = $state(false);\n\tlet testDialogOpen = $state(false);\n\tlet testResult = $state\u003cCalendarTestResult | null\u003e(null);\n\n\tasync function handleDelete() {\n\t\tdeleting = true;\n\t\tonDelete(calendar.id);\n\t}\n\n\tasync function handleTest() {\n\t\ttesting = true;\n\t\ttestResult = null;\n\t\ttestDialogOpen = true;\n\n\t\tconst { data, error } = await api.POST('/calendars/{id}/test', {\n\t\t\tparams: { path: { id: calendar.id } }\n\t\t});\n\n\t\ttesting = false;\n\t\tif (data) {\n\t\t\ttestResult = data;\n\t\t} else {\n\t\t\ttestResult = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: error?.message || 'Failed to test calendar',\n\t\t\t\tevents: []\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction formatDateTime(dateStr: string): string {\n\t\tconst date = new Date(dateStr);\n\t\treturn date.toLocaleString(undefined, {\n\t\t\tweekday: 'short',\n\t\t\tmonth: 'short',\n\t\t\tday: 'numeric',\n\t\t\thour: '2-digit',\n\t\t\tminute: '2-digit'\n\t\t});\n\t}\n\n\t// Extract the hostname from the server URL for display\n\tfunction getProviderName(url: string): string {\n\t\ttry {\n\t\t\tconst hostname = new URL(url).hostname;\n\t\t\treturn hostname;\n\t\t} catch {\n\t\t\treturn url;\n\t\t}\n\t}\n\u003c/script\u003e\n```\n\n**Step 2: Add Test button to the card**\n\nIn the button section (around line 51), add a Test button before the Remove button:\n\n```svelte\n\u003cdiv class=\"flex justify-end gap-2 pt-2\"\u003e\n\t\u003cButton\n\t\tvariant=\"secondary\"\n\t\tsize=\"sm\"\n\t\tonclick={handleTest}\n\t\tdisabled={testing}\n\t\tloading={testing}\n\t\u003e\n\t\t{#snippet children()}\n\t\t\t{testing ? 'Testing...' : 'Test'}\n\t\t{/snippet}\n\t\u003c/Button\u003e\n\t\u003cButton\n\t\tvariant=\"danger\"\n\t\tsize=\"sm\"\n\t\tonclick={handleDelete}\n\t\tdisabled={deleting}\n\t\tloading={deleting}\n\t\u003e\n\t\t{#snippet children()}\n\t\t\t{deleting ? 'Removing...' : 'Remove'}\n\t\t{/snippet}\n\t\u003c/Button\u003e\n\u003c/div\u003e\n```\n\n**Step 3: Add the test results dialog**\n\nAdd after the closing `\u003c/Card\u003e` tag:\n\n```svelte\n\u003cDialog bind:open={testDialogOpen} title=\"Calendar Test Results\"\u003e\n\t{#snippet children()}\n\t\t{#if testing}\n\t\t\t\u003cdiv class=\"flex items-center justify-center py-8\"\u003e\n\t\t\t\t\u003cSpinner /\u003e\n\t\t\t\t\u003cspan class=\"ml-2 text-[var(--text-secondary)]\"\u003eFetching events...\u003c/span\u003e\n\t\t\t\u003c/div\u003e\n\t\t{:else if testResult}\n\t\t\t{#if testResult.success}\n\t\t\t\t\u003cdiv class=\"space-y-4\"\u003e\n\t\t\t\t\t\u003cdiv class=\"flex items-center gap-2 text-[var(--emerald)]\"\u003e\n\t\t\t\t\t\t\u003csvg class=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"\u003e\n\t\t\t\t\t\t\t\u003cpath stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" /\u003e\n\t\t\t\t\t\t\u003c/svg\u003e\n\t\t\t\t\t\t\u003cspan class=\"font-medium\"\u003eConnection successful\u003c/span\u003e\n\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\u003cp class=\"text-sm text-[var(--text-secondary)]\"\u003e\n\t\t\t\t\t\tFound {testResult.events.length} event{testResult.events.length === 1 ? '' : 's'} in the next 7 days\n\t\t\t\t\t\u003c/p\u003e\n\t\t\t\t\t{#if testResult.events.length \u003e 0}\n\t\t\t\t\t\t\u003cdiv class=\"max-h-64 overflow-y-auto rounded-lg border border-[var(--border-color)] divide-y divide-[var(--border-color)]\"\u003e\n\t\t\t\t\t\t\t{#each testResult.events as event}\n\t\t\t\t\t\t\t\t\u003cdiv class=\"p-3\"\u003e\n\t\t\t\t\t\t\t\t\t\u003cp class=\"font-medium text-[var(--text-primary)]\"\u003e{event.title}\u003c/p\u003e\n\t\t\t\t\t\t\t\t\t\u003cp class=\"text-sm text-[var(--text-secondary)]\"\u003e\n\t\t\t\t\t\t\t\t\t\t{formatDateTime(event.start)} - {formatDateTime(event.end)}\n\t\t\t\t\t\t\t\t\t\u003c/p\u003e\n\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t{/if}\n\t\t\t\t\u003c/div\u003e\n\t\t\t{:else}\n\t\t\t\t\u003cdiv class=\"space-y-4\"\u003e\n\t\t\t\t\t\u003cdiv class=\"flex items-center gap-2 text-red-500\"\u003e\n\t\t\t\t\t\t\u003csvg class=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"\u003e\n\t\t\t\t\t\t\t\u003cpath stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" /\u003e\n\t\t\t\t\t\t\u003c/svg\u003e\n\t\t\t\t\t\t\u003cspan class=\"font-medium\"\u003eConnection failed\u003c/span\u003e\n\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\u003cp class=\"text-sm text-[var(--text-secondary)]\"\u003e{testResult.error}\u003c/p\u003e\n\t\t\t\t\u003c/div\u003e\n\t\t\t{/if}\n\t\t{/if}\n\t{/snippet}\n\t{#snippet footer()}\n\t\t\u003cButton variant=\"secondary\" onclick={() =\u003e testDialogOpen = false}\u003e\n\t\t\t{#snippet children()}Close{/snippet}\n\t\t\u003c/Button\u003e\n\t{/snippet}\n\u003c/Dialog\u003e\n```\n\n**Step 4: Verify it compiles**\n\nRun: `cd frontend \u0026\u0026 pnpm check`\nExpected: No type errors\n\n**Step 5: Commit**\n\n```bash\ngit add frontend/src/lib/components/dashboard/CalendarConnectionCard.svelte\ngit commit -m 'feat(frontend): add Test button and dialog to CalendarConnectionCard'\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:33:04.38299683+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:11:29.286021108+01:00","closed_at":"2026-01-25T21:11:29.286021108+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-c76.7","depends_on_id":"meet-mesh-c76","type":"parent-child","created_at":"2026-01-25T20:33:04.38628032+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-c76.8","title":"End-to-end verification","description":"**Step 1: Build the full application**\n\nRun: `make build`\nExpected: Build succeeds\n\n**Step 2: Manual testing**\n\n1. Start the application\n2. Navigate to Settings page\n3. If you have a calendar connected, click the Test button\n4. Verify:\n   - Loading spinner appears while fetching\n   - Dialog shows success/failure status\n   - Events list displays with titles and times\n   - Close button dismisses dialog\n\n**Step 3: Test error handling**\n\n1. If possible, test with invalid credentials or unreachable server\n2. Verify error message is displayed in the dialog\n\n**Step 4: Final commit (if any fixes needed)**\n\n```bash\ngit add -A\ngit commit -m 'fix: address issues found during testing'\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:33:11.872536885+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:12:02.635158421+01:00","closed_at":"2026-01-25T21:12:02.635158421+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-c76.8","depends_on_id":"meet-mesh-c76","type":"parent-child","created_at":"2026-01-25T20:33:11.875200401+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-chs","title":"CalDAV calendar auto-discovery with selection UI","description":"# CalDAV Calendar Auto-Discovery Implementation Plan\n\n**Goal:** Auto-discover CalDAV calendars when adding a connection and let users select which ones to use.\n\n**Architecture:** Add a `/calendars/discover` endpoint that uses go-webdav's discovery chain (FindCurrentUserPrincipal â†’ FindCalendarHomeSet â†’ FindCalendars). Frontend uses a multi-step dialog: credentials â†’ discover â†’ select calendars â†’ save.\n\n**Tech Stack:** Go + go-webdav library (CalDAV), SvelteKit + bits-ui (frontend)\n\n---\n\n## Problem\nWhen adding a calendar connection, `calendar_urls` is never sent. The test shows \"connection successful\" but 0 events because no calendars are queried.\n\n## Solution\n1. Add discovery endpoint that returns available calendars with names/descriptions\n2. Multi-step frontend dialog for credentials â†’ selection â†’ save\n3. Users select which calendars to check for availability (multi) and which to write to (single)","status":"closed","priority":1,"issue_type":"epic","owner":"k@knt.li","created_at":"2026-01-25T21:52:20.118026395+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:36:53.817242794+01:00","closed_at":"2026-01-26T10:36:53.817242794+01:00","close_reason":"Closed"}
{"id":"meet-mesh-chs.1","title":"Add CalendarDiscoveryResult and DiscoveredCalendar schemas to OpenAPI spec","description":"**Files:**\n- Modify: `api/openapi.yaml` (components/schemas section around line 125)\n\n**Step 1: Add DiscoveredCalendar schema**\n\nAdd after CalendarTestResult schema (~line 140):\n\n```yaml\n    DiscoveredCalendar:\n      type: object\n      required: [url, name]\n      properties:\n        url:\n          type: string\n          description: Full CalDAV URL path to the calendar\n        name:\n          type: string\n          description: Display name of the calendar\n        description:\n          type: string\n        supported_components:\n          type: array\n          items:\n            type: string\n          description: e.g. VEVENT, VTODO\n\n    CalendarDiscoveryResult:\n      type: object\n      required: [success, calendars]\n      properties:\n        success:\n          type: boolean\n        error:\n          type: string\n        calendars:\n          type: array\n          items:\n            $ref: '#/components/schemas/DiscoveredCalendar'\n```\n\n**Step 2: Verify YAML syntax**\n\nRun: `python3 -c \"import yaml; yaml.safe_load(open('api/openapi.yaml'))\"`\nExpected: No output (valid YAML)\n\n**Step 3: Commit**\n\n```bash\ngit add api/openapi.yaml\ngit commit -m \"feat(api): add CalendarDiscoveryResult schema to OpenAPI spec\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:52:52.55919032+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:36:49.019846087+01:00","closed_at":"2026-01-26T10:36:49.019846087+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-chs.1","depends_on_id":"meet-mesh-chs","type":"parent-child","created_at":"2026-01-25T21:52:52.564198064+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-chs.10","title":"Test calendar discovery flow end-to-end","description":"**Files:**\n- None (testing only)\n\n**Prerequisites:**\n- Have a CalDAV server to test with (Fastmail, Nextcloud, Radicale, etc.)\n- Or use a test CalDAV server\n\n**Step 1: Build and start backend**\n\nRun: `make build-api \u0026\u0026 cd api \u0026\u0026 ./meet-mesh`\nExpected: Server starts on port 8080\n\n**Step 2: Start frontend dev server**\n\nRun: `cd frontend \u0026\u0026 pnpm dev`\nExpected: Dev server starts on port 5173\n\n**Step 3: Test discovery flow**\n\n1. Log in to the dashboard\n2. Go to Settings\n3. Click \"Add Calendar\"\n4. Enter CalDAV credentials:\n   - Server URL: Your CalDAV server URL\n   - Username: Your username\n   - Password: Your password\n5. Click \"Discover Calendars\"\n\nExpected: Dialog shows discovering spinner, then displays list of calendars\n\n**Step 4: Test calendar selection**\n\n1. Check/uncheck calendars for availability\n2. Select a calendar for writing (optional)\n3. Click \"Save Connection\"\n\nExpected: Connection saved, dialog closes, card appears with calendar count\n\n**Step 5: Test calendar connection**\n\n1. On the new calendar card, click \"Test\"\n2. Wait for test results\n\nExpected: Shows \"Connection successful\" with actual events (not 0 events)\n\n**Step 6: Commit any fixes**\n\nIf any issues found, fix and commit with:\n```bash\ngit add -A\ngit commit -m \"fix: address issues found in e2e testing\"\n```\n\n**Step 7: Final commit if all passes**\n\n```bash\ngit add -A\ngit commit -m \"test: verify calendar discovery flow works end-to-end\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T22:37:44.916721439+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:36:49.806008151+01:00","closed_at":"2026-01-26T10:36:49.806008151+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-chs.10","depends_on_id":"meet-mesh-chs","type":"parent-child","created_at":"2026-01-25T22:37:44.919389872+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-chs.2","title":"Add /calendars/discover endpoint to OpenAPI spec","description":"**Files:**\n- Modify: `api/openapi.yaml` (paths section, after /calendars/{id}/test around line 460)\n\n**Step 1: Add discover endpoint**\n\nAdd after the `/calendars/{id}/test` endpoint:\n\n```yaml\n  /calendars/discover:\n    post:\n      operationId: discoverCalendars\n      summary: Discover available calendars from a CalDAV server\n      tags:\n        - calendars\n      security:\n        - cookieAuth: []\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              required: [server_url, username, password]\n              properties:\n                server_url:\n                  type: string\n                username:\n                  type: string\n                password:\n                  type: string\n      responses:\n        '200':\n          description: Discovery result with available calendars\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/CalendarDiscoveryResult'\n```\n\n**Step 2: Verify YAML syntax**\n\nRun: `python3 -c \"import yaml; yaml.safe_load(open('api/openapi.yaml'))\"`\nExpected: No output (valid YAML)\n\n**Step 3: Commit**\n\n```bash\ngit add api/openapi.yaml\ngit commit -m \"feat(api): add /calendars/discover endpoint to OpenAPI spec\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:54:24.908177422+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:36:49.108628313+01:00","closed_at":"2026-01-26T10:36:49.108628313+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-chs.2","depends_on_id":"meet-mesh-chs","type":"parent-child","created_at":"2026-01-25T21:54:24.910594872+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-chs.3","title":"Regenerate Go code from OpenAPI spec","description":"**Files:**\n- Generated: `api/gen/*.go` (auto-generated, DO NOT EDIT)\n\n**Step 1: Run code generation**\n\nRun: `make generate`\nExpected: ogen generates new types including `DiscoverCalendarsReq`, `CalendarDiscoveryResult`, `DiscoveredCalendar`\n\n**Step 2: Verify new types exist**\n\nRun: `grep -l \"DiscoverCalendars\" api/gen/*.go`\nExpected: Multiple files including `oas_handlers_gen.go`, `oas_schemas_gen.go`\n\n**Step 3: Verify build compiles (expect error)**\n\nRun: `cd api \u0026\u0026 go build ./... 2\u003e\u00261 | head -5`\nExpected: Error about `DiscoverCalendars` method not implemented (this is correct - we implement it next)\n\n**Step 4: Commit generated code**\n\n```bash\ngit add api/gen/\ngit commit -m \"chore(api): regenerate ogen code for calendar discovery\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:54:49.93825464+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:36:49.193649073+01:00","closed_at":"2026-01-26T10:36:49.193649073+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-chs.3","depends_on_id":"meet-mesh-chs","type":"parent-child","created_at":"2026-01-25T21:54:49.941528018+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-chs.4","title":"Implement DiscoverCalendars function in CalDAV client","description":"**Files:**\n- Modify: `api/caldav.go` (add new function after TestCalendarConnection)\n\n**Step 1: Add DiscoveredCalendar type**\n\nAdd after CalendarEvent type (~line 95):\n\n```go\n// DiscoveredCalendar represents a calendar found during discovery\ntype DiscoveredCalendar struct {\n\tURL                 string\n\tName                string\n\tDescription         string\n\tSupportedComponents []string\n}\n```\n\n**Step 2: Implement DiscoverCalendars function**\n\nAdd after TestCalendarConnection function (~line 161):\n\n```go\n// DiscoverCalendars discovers available calendars from a CalDAV server\nfunc (c *CalDAVClient) DiscoverCalendars(ctx context.Context, serverURL, username, password string) ([]DiscoveredCalendar, error) {\n\thttpClient := webdav.HTTPClientWithBasicAuth(http.DefaultClient, username, password)\n\n\tclient, err := caldav.NewClient(httpClient, serverURL)\n\tif err != nil {\n\t\treturn nil, fmt.Errorf(\"failed to create CalDAV client: %w\", err)\n\t}\n\n\t// Step 1: Find current user principal\n\tprincipal, err := client.FindCurrentUserPrincipal(ctx)\n\tif err != nil {\n\t\treturn nil, fmt.Errorf(\"failed to find user principal: %w\", err)\n\t}\n\n\t// Step 2: Find calendar home set\n\thomeSet, err := client.FindCalendarHomeSet(ctx, principal)\n\tif err != nil {\n\t\treturn nil, fmt.Errorf(\"failed to find calendar home set: %w\", err)\n\t}\n\n\t// Step 3: Find all calendars\n\tcalendars, err := client.FindCalendars(ctx, homeSet)\n\tif err != nil {\n\t\treturn nil, fmt.Errorf(\"failed to find calendars: %w\", err)\n\t}\n\n\tresult := make([]DiscoveredCalendar, len(calendars))\n\tfor i, cal := range calendars {\n\t\tresult[i] = DiscoveredCalendar{\n\t\t\tURL:                 cal.Path,\n\t\t\tName:                cal.Name,\n\t\t\tDescription:         cal.Description,\n\t\t\tSupportedComponents: cal.SupportedComponentSet,\n\t\t}\n\t}\n\n\treturn result, nil\n}\n```\n\n**Step 3: Verify it compiles**\n\nRun: `cd api \u0026\u0026 go build ./...`\nExpected: Still fails (handler not implemented yet), but no errors in caldav.go\n\n**Step 4: Commit**\n\n```bash\ngit add api/caldav.go\ngit commit -m \"feat(caldav): implement calendar discovery using go-webdav\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:55:28.925228395+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:36:49.278159949+01:00","closed_at":"2026-01-26T10:36:49.278159949+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-chs.4","depends_on_id":"meet-mesh-chs","type":"parent-child","created_at":"2026-01-25T21:55:28.927455455+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-chs.5","title":"Implement DiscoverCalendars handler","description":"**Files:**\n- Modify: `api/handler_calendar.go` (add new handler after TestCalendar)\n\n**Step 1: Implement DiscoverCalendars handler**\n\nAdd after TestCalendar function (~line 92):\n\n```go\n// DiscoverCalendars discovers available calendars from a CalDAV server\nfunc (h *Handler) DiscoverCalendars(ctx context.Context, req *gen.DiscoverCalendarsReq) (*gen.CalendarDiscoveryResult, error) {\n\tcalendars, err := h.caldav.DiscoverCalendars(ctx, req.ServerURL, req.Username, req.Password)\n\tif err != nil {\n\t\treturn \u0026gen.CalendarDiscoveryResult{\n\t\t\tSuccess:   false,\n\t\t\tError:     gen.NewOptString(err.Error()),\n\t\t\tCalendars: []gen.DiscoveredCalendar{},\n\t\t}, nil\n\t}\n\n\tresult := make([]gen.DiscoveredCalendar, len(calendars))\n\tfor i, cal := range calendars {\n\t\tresult[i] = gen.DiscoveredCalendar{\n\t\t\tURL:  cal.URL,\n\t\t\tName: cal.Name,\n\t\t}\n\t\tif cal.Description != \"\" {\n\t\t\tresult[i].Description = gen.NewOptString(cal.Description)\n\t\t}\n\t\tif len(cal.SupportedComponents) \u003e 0 {\n\t\t\tresult[i].SupportedComponents = cal.SupportedComponents\n\t\t}\n\t}\n\n\treturn \u0026gen.CalendarDiscoveryResult{\n\t\tSuccess:   true,\n\t\tCalendars: result,\n\t}, nil\n}\n```\n\n**Step 2: Verify build succeeds**\n\nRun: `cd api \u0026\u0026 go build ./...`\nExpected: Build succeeds with no errors\n\n**Step 3: Test with curl (optional, requires running server)**\n\nRun: `cd api \u0026\u0026 go run ./cmd \u0026` then:\n```bash\ncurl -X POST http://localhost:8080/api/calendars/discover \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"server_url\":\"https://your-caldav-server\",\"username\":\"user\",\"password\":\"pass\"}'\n```\n\n**Step 4: Commit**\n\n```bash\ngit add api/handler_calendar.go\ngit commit -m \"feat(api): implement DiscoverCalendars handler\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T22:33:44.700227674+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:36:49.364272016+01:00","closed_at":"2026-01-26T10:36:49.364272016+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-chs.5","depends_on_id":"meet-mesh-chs","type":"parent-child","created_at":"2026-01-25T22:33:44.702827084+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-chs.6","title":"Regenerate frontend TypeScript types from OpenAPI spec","description":"**Files:**\n- Generated: `frontend/src/lib/api/generated/schema.d.ts` (auto-generated)\n\n**Step 1: Generate TypeScript types**\n\nRun: `cd frontend \u0026\u0026 pnpm generate:api`\nExpected: openapi-typescript generates new types\n\n**Step 2: Verify new types exist**\n\nRun: `grep -A5 \"DiscoveredCalendar\" frontend/src/lib/api/generated/schema.d.ts`\nExpected: Shows DiscoveredCalendar type with url, name, description, supported_components\n\n**Step 3: Verify TypeScript compiles**\n\nRun: `cd frontend \u0026\u0026 pnpm check`\nExpected: No type errors\n\n**Step 4: Commit**\n\n```bash\ngit add frontend/src/lib/api/generated/\ngit commit -m \"chore(frontend): regenerate API types for calendar discovery\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T22:34:04.132424127+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:36:49.451859403+01:00","closed_at":"2026-01-26T10:36:49.451859403+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-chs.6","depends_on_id":"meet-mesh-chs","type":"parent-child","created_at":"2026-01-25T22:34:04.134753735+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-chs.7","title":"Create AddCalendarDialog component with multi-step flow","description":"**Files:**\n- Create: `frontend/src/lib/components/dashboard/AddCalendarDialog.svelte`\n\n**Step 1: Create the component file**\n\nCreate `frontend/src/lib/components/dashboard/AddCalendarDialog.svelte`:\n\n```svelte\n\u003cscript lang=\"ts\"\u003e\n\timport type { components } from '\\$lib/api/types';\n\timport { Dialog, Button, Input, Spinner } from '\\$lib/components/ui';\n\timport { api } from '\\$lib/api/client';\n\n\ttype CalendarConnection = components['schemas']['CalendarConnection'];\n\ttype DiscoveredCalendar = components['schemas']['DiscoveredCalendar'];\n\n\tinterface Props {\n\t\topen: boolean;\n\t\tonSuccess: (calendar: CalendarConnection) =\u003e void;\n\t\tonClose: () =\u003e void;\n\t}\n\n\tlet { open = \\$bindable(), onSuccess, onClose }: Props = \\$props();\n\n\ttype Step = 'credentials' | 'discovering' | 'selection' | 'saving';\n\tlet step = \\$state\u003cStep\u003e('credentials');\n\tlet error = \\$state\u003cstring | null\u003e(null);\n\n\t// Credentials\n\tlet serverUrl = \\$state('');\n\tlet username = \\$state('');\n\tlet password = \\$state('');\n\n\t// Discovery results\n\tlet discoveredCalendars = \\$state\u003cDiscoveredCalendar[]\u003e([]);\n\n\t// Selection\n\tlet selectedForAvailability = \\$state\u003cSet\u003cstring\u003e\u003e(new Set());\n\tlet selectedForWriting = \\$state\u003cstring | null\u003e(null);\n\n\tfunction resetForm() {\n\t\tstep = 'credentials';\n\t\terror = null;\n\t\tserverUrl = '';\n\t\tusername = '';\n\t\tpassword = '';\n\t\tdiscoveredCalendars = [];\n\t\tselectedForAvailability = new Set();\n\t\tselectedForWriting = null;\n\t}\n\n\tfunction handleClose() {\n\t\tresetForm();\n\t\tonClose();\n\t}\n\n\tasync function handleDiscover() {\n\t\tif (!serverUrl || !username || !password) {\n\t\t\terror = 'All fields are required';\n\t\t\treturn;\n\t\t}\n\n\t\tstep = 'discovering';\n\t\terror = null;\n\n\t\tconst { data, error: apiError } = await api.POST('/calendars/discover', {\n\t\t\tbody: { server_url: serverUrl, username, password }\n\t\t});\n\n\t\tif (apiError || !data) {\n\t\t\terror = 'Failed to connect to server';\n\t\t\tstep = 'credentials';\n\t\t\treturn;\n\t\t}\n\n\t\tif (!data.success) {\n\t\t\terror = data.error || 'Discovery failed';\n\t\t\tstep = 'credentials';\n\t\t\treturn;\n\t\t}\n\n\t\tif (data.calendars.length === 0) {\n\t\t\terror = 'No calendars found on this server';\n\t\t\tstep = 'credentials';\n\t\t\treturn;\n\t\t}\n\n\t\tdiscoveredCalendars = data.calendars;\n\t\t// Pre-select all calendars that support VEVENT\n\t\tfor (const cal of discoveredCalendars) {\n\t\t\tconst supportsEvents = !cal.supported_components?.length || \n\t\t\t\tcal.supported_components.includes('VEVENT');\n\t\t\tif (supportsEvents) {\n\t\t\t\tselectedForAvailability.add(cal.url);\n\t\t\t}\n\t\t}\n\t\tselectedForAvailability = selectedForAvailability; // trigger reactivity\n\t\tstep = 'selection';\n\t}\n\n\tfunction toggleAvailability(url: string) {\n\t\tif (selectedForAvailability.has(url)) {\n\t\t\tselectedForAvailability.delete(url);\n\t\t} else {\n\t\t\tselectedForAvailability.add(url);\n\t\t}\n\t\tselectedForAvailability = selectedForAvailability; // trigger reactivity\n\t}\n\n\tasync function handleSave() {\n\t\tif (selectedForAvailability.size === 0) {\n\t\t\terror = 'Select at least one calendar for availability';\n\t\t\treturn;\n\t\t}\n\n\t\tstep = 'saving';\n\t\terror = null;\n\n\t\tconst { data, error: apiError } = await api.POST('/calendars', {\n\t\t\tbody: {\n\t\t\t\tserver_url: serverUrl,\n\t\t\t\tusername,\n\t\t\t\tpassword,\n\t\t\t\tcalendar_urls: Array.from(selectedForAvailability),\n\t\t\t\twrite_url: selectedForWriting || undefined\n\t\t\t}\n\t\t});\n\n\t\tif (apiError || !data) {\n\t\t\terror = 'Failed to save calendar connection';\n\t\t\tstep = 'selection';\n\t\t\treturn;\n\t\t}\n\n\t\tonSuccess(data);\n\t\tresetForm();\n\t}\n\u003c/script\u003e\n\n\u003cDialog bind:open title={step === 'credentials' ? 'Add Calendar' : step === 'selection' ? 'Select Calendars' : 'Add Calendar'}\u003e\n\t{#snippet children()}\n\t\t{#if step === 'credentials'}\n\t\t\t\u003cform onsubmit={(e) =\u003e { e.preventDefault(); handleDiscover(); }} class=\"space-y-4\"\u003e\n\t\t\t\t{#if error}\n\t\t\t\t\t\u003cdiv class=\"p-3 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md dark:bg-red-900/20 dark:text-red-400 dark:border-red-800\"\u003e\n\t\t\t\t\t\t{error}\n\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t{/if}\n\n\t\t\t\t\u003cInput\n\t\t\t\t\tlabel=\"CalDAV Server URL\"\n\t\t\t\t\ttype=\"url\"\n\t\t\t\t\tplaceholder=\"https://caldav.example.com\"\n\t\t\t\t\tbind:value={serverUrl}\n\t\t\t\t\trequired\n\t\t\t\t/\u003e\n\t\t\t\t\u003cInput\n\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"user@example.com\"\n\t\t\t\t\tbind:value={username}\n\t\t\t\t\trequired\n\t\t\t\t/\u003e\n\t\t\t\t\u003cInput\n\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tbind:value={password}\n\t\t\t\t\trequired\n\t\t\t\t/\u003e\n\t\t\t\u003c/form\u003e\n\n\t\t{:else if step === 'discovering'}\n\t\t\t\u003cdiv class=\"flex flex-col items-center justify-center py-8\"\u003e\n\t\t\t\t\u003cSpinner size=\"lg\" /\u003e\n\t\t\t\t\u003cp class=\"mt-4 text-[var(--text-secondary)]\"\u003eDiscovering calendars...\u003c/p\u003e\n\t\t\t\u003c/div\u003e\n\n\t\t{:else if step === 'selection'}\n\t\t\t\u003cdiv class=\"space-y-4\"\u003e\n\t\t\t\t{#if error}\n\t\t\t\t\t\u003cdiv class=\"p-3 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md dark:bg-red-900/20 dark:text-red-400 dark:border-red-800\"\u003e\n\t\t\t\t\t\t{error}\n\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t{/if}\n\n\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\u003ch4 class=\"font-medium text-[var(--text-primary)] mb-2\"\u003eCheck availability from:\u003c/h4\u003e\n\t\t\t\t\t\u003cp class=\"text-sm text-[var(--text-secondary)] mb-3\"\u003eSelect calendars to check for busy times\u003c/p\u003e\n\t\t\t\t\t\u003cdiv class=\"space-y-2 max-h-48 overflow-y-auto\"\u003e\n\t\t\t\t\t\t{#each discoveredCalendars as cal}\n\t\t\t\t\t\t\t\u003clabel class=\"flex items-start gap-3 p-3 rounded-lg border border-gray-200 dark:border-neutral-700 hover:bg-gray-50 dark:hover:bg-neutral-800 cursor-pointer\"\u003e\n\t\t\t\t\t\t\t\t\u003cinput\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tchecked={selectedForAvailability.has(cal.url)}\n\t\t\t\t\t\t\t\t\tonchange={() =\u003e toggleAvailability(cal.url)}\n\t\t\t\t\t\t\t\t\tclass=\"mt-0.5\"\n\t\t\t\t\t\t\t\t/\u003e\n\t\t\t\t\t\t\t\t\u003cdiv class=\"flex-1 min-w-0\"\u003e\n\t\t\t\t\t\t\t\t\t\u003cdiv class=\"font-medium text-[var(--text-primary)]\"\u003e{cal.name}\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t{#if cal.description}\n\t\t\t\t\t\t\t\t\t\t\u003cdiv class=\"text-sm text-[var(--text-secondary)] truncate\"\u003e{cal.description}\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\u003c/label\u003e\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\u003c/div\u003e\n\n\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\u003ch4 class=\"font-medium text-[var(--text-primary)] mb-2\"\u003eWrite events to:\u003c/h4\u003e\n\t\t\t\t\t\u003cp class=\"text-sm text-[var(--text-secondary)] mb-3\"\u003eSelect a calendar for new bookings (optional)\u003c/p\u003e\n\t\t\t\t\t\u003cdiv class=\"space-y-2 max-h-36 overflow-y-auto\"\u003e\n\t\t\t\t\t\t\u003clabel class=\"flex items-center gap-3 p-3 rounded-lg border border-gray-200 dark:border-neutral-700 hover:bg-gray-50 dark:hover:bg-neutral-800 cursor-pointer\"\u003e\n\t\t\t\t\t\t\t\u003cinput\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tname=\"writeCalendar\"\n\t\t\t\t\t\t\t\tchecked={selectedForWriting === null}\n\t\t\t\t\t\t\t\tonchange={() =\u003e selectedForWriting = null}\n\t\t\t\t\t\t\t/\u003e\n\t\t\t\t\t\t\t\u003cspan class=\"text-[var(--text-secondary)]\"\u003eNone\u003c/span\u003e\n\t\t\t\t\t\t\u003c/label\u003e\n\t\t\t\t\t\t{#each discoveredCalendars as cal}\n\t\t\t\t\t\t\t\u003clabel class=\"flex items-center gap-3 p-3 rounded-lg border border-gray-200 dark:border-neutral-700 hover:bg-gray-50 dark:hover:bg-neutral-800 cursor-pointer\"\u003e\n\t\t\t\t\t\t\t\t\u003cinput\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"writeCalendar\"\n\t\t\t\t\t\t\t\t\tchecked={selectedForWriting === cal.url}\n\t\t\t\t\t\t\t\t\tonchange={() =\u003e selectedForWriting = cal.url}\n\t\t\t\t\t\t\t\t/\u003e\n\t\t\t\t\t\t\t\t\u003cspan class=\"font-medium text-[var(--text-primary)]\"\u003e{cal.name}\u003c/span\u003e\n\t\t\t\t\t\t\t\u003c/label\u003e\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\u003c/div\u003e\n\t\t\t\u003c/div\u003e\n\n\t\t{:else if step === 'saving'}\n\t\t\t\u003cdiv class=\"flex flex-col items-center justify-center py-8\"\u003e\n\t\t\t\t\u003cSpinner size=\"lg\" /\u003e\n\t\t\t\t\u003cp class=\"mt-4 text-[var(--text-secondary)]\"\u003eSaving calendar connection...\u003c/p\u003e\n\t\t\t\u003c/div\u003e\n\t\t{/if}\n\t{/snippet}\n\n\t{#snippet footer()}\n\t\t{#if step === 'credentials'}\n\t\t\t\u003cButton variant=\"secondary\" onclick={handleClose}\u003eCancel\u003c/Button\u003e\n\t\t\t\u003cButton variant=\"primary\" onclick={handleDiscover}\u003eDiscover Calendars\u003c/Button\u003e\n\t\t{:else if step === 'selection'}\n\t\t\t\u003cButton variant=\"secondary\" onclick={() =\u003e { step = 'credentials'; error = null; }}\u003eBack\u003c/Button\u003e\n\t\t\t\u003cButton variant=\"primary\" onclick={handleSave} disabled={selectedForAvailability.size === 0}\u003e\n\t\t\t\tSave Connection\n\t\t\t\u003c/Button\u003e\n\t\t{/if}\n\t{/snippet}\n\u003c/Dialog\u003e\n```\n\n**Step 2: Verify TypeScript compiles**\n\nRun: `cd frontend \u0026\u0026 pnpm check`\nExpected: No type errors\n\n**Step 3: Commit**\n\n```bash\ngit add frontend/src/lib/components/dashboard/AddCalendarDialog.svelte\ngit commit -m \"feat(frontend): add AddCalendarDialog with multi-step discovery flow\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T22:34:43.921742469+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:36:49.541642117+01:00","closed_at":"2026-01-26T10:36:49.541642117+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-chs.7","depends_on_id":"meet-mesh-chs","type":"parent-child","created_at":"2026-01-25T22:34:43.924717643+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-chs.8","title":"Update settings page to use AddCalendarDialog","description":"**Files:**\n- Modify: `frontend/src/routes/(dashboard)/settings/+page.svelte`\n\n**Step 1: Add import for AddCalendarDialog**\n\nAt the top of the script section, add import:\n\n```typescript\nimport AddCalendarDialog from '\\$lib/components/dashboard/AddCalendarDialog.svelte';\n```\n\n**Step 2: Replace showAddForm state with addDialogOpen**\n\nChange:\n```typescript\nlet showAddForm = \\$state(false);\n```\n\nTo:\n```typescript\nlet addDialogOpen = \\$state(false);\n```\n\n**Step 3: Add handleCalendarAdded function**\n\nAdd after loadCalendars function:\n\n```typescript\nfunction handleCalendarAdded(calendar: CalendarConnection) {\n\tcalendars = [...calendars, calendar];\n\taddDialogOpen = false;\n}\n```\n\n**Step 4: Replace \"Add Calendar\" button**\n\nChange the button that sets showAddForm to:\n```svelte\n\u003cButton variant=\"primary\" onclick={() =\u003e addDialogOpen = true}\u003e\n\tAdd Calendar\n\u003c/Button\u003e\n```\n\n**Step 5: Remove the inline form Card**\n\nDelete the entire `{#if showAddForm}` block with the inline form (~lines 115-165).\n\n**Step 6: Add AddCalendarDialog at the end**\n\nBefore the closing tag, add:\n```svelte\n\u003cAddCalendarDialog \n\tbind:open={addDialogOpen}\n\tonSuccess={handleCalendarAdded}\n\tonClose={() =\u003e addDialogOpen = false}\n/\u003e\n```\n\n**Step 7: Remove unused state variables**\n\nRemove these variables that are no longer needed:\n- `submitting`\n- `error`\n- `serverUrl`\n- `username`\n- `password`\n\nAnd remove the `handleAddCalendar` function.\n\n**Step 8: Verify TypeScript compiles**\n\nRun: `cd frontend \u0026\u0026 pnpm check`\nExpected: No type errors\n\n**Step 9: Commit**\n\n```bash\ngit add frontend/src/routes/(dashboard)/settings/+page.svelte\ngit commit -m \"feat(frontend): use AddCalendarDialog in settings page\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T22:34:55.69277493+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:36:49.630839086+01:00","closed_at":"2026-01-26T10:36:49.630839086+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-chs.8","depends_on_id":"meet-mesh-chs","type":"parent-child","created_at":"2026-01-25T22:34:55.696337118+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-chs.9","title":"Update CalendarConnectionCard to show calendar count","description":"**Files:**\n- Modify: `frontend/src/lib/components/dashboard/CalendarConnectionCard.svelte`\n\n**Step 1: Add calendar count display**\n\nAfter the server URL display (~line 80), add:\n\n```svelte\n{#if calendar.calendar_urls \u0026\u0026 calendar.calendar_urls.length \u003e 0}\n\t\u003cdiv class=\"text-sm text-[var(--text-secondary)]\"\u003e\n\t\t\u003cspan class=\"font-medium\"\u003e{calendar.calendar_urls.length}\u003c/span\u003e \n\t\tcalendar{calendar.calendar_urls.length === 1 ? '' : 's'} synced\n\t\u003c/div\u003e\n{/if}\n```\n\n**Step 2: Add write-enabled indicator**\n\nAfter the calendar count, add:\n\n```svelte\n{#if calendar.write_url}\n\t\u003cdiv class=\"flex items-center gap-1 text-sm text-green-600 dark:text-green-400\"\u003e\n\t\t\u003csvg class=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"\u003e\n\t\t\t\u003cpath stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" /\u003e\n\t\t\u003c/svg\u003e\n\t\t\u003cspan\u003eWrite enabled\u003c/span\u003e\n\t\u003c/div\u003e\n{/if}\n```\n\n**Step 3: Verify TypeScript compiles**\n\nRun: `cd frontend \u0026\u0026 pnpm check`\nExpected: No type errors\n\n**Step 4: Commit**\n\n```bash\ngit add frontend/src/lib/components/dashboard/CalendarConnectionCard.svelte\ngit commit -m \"feat(frontend): show calendar count and write status in card\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T22:37:33.827672892+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:36:49.719728572+01:00","closed_at":"2026-01-26T10:36:49.719728572+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-chs.9","depends_on_id":"meet-mesh-chs","type":"parent-child","created_at":"2026-01-25T22:37:33.830131744+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-e7y","title":"Configurable Date and Time Format","description":"# Overview\n\nImplement configurable date and time formatting across Meet Mesh with:\n- Organizer preferences stored persistently (week start day: Sunday/Monday, time format: 12h/24h)\n- Guest preferences auto-detected from browser and adjustable via UI in bottom-right corner\n- Consistent formatting across all screens\n\n## Architecture\n\nCreate a centralized `dateFormat` store that provides reactive formatting functions. The store will:\n1. Detect browser locale preferences on load\n2. Allow override via localStorage for session persistence\n3. Expose formatting functions that respect current settings\n\n## Tech Stack\n\n- Svelte 5 runes for reactive state management\n- localStorage for session persistence\n- `navigator.language` and `Intl.DateTimeFormat` for locale detection\n- No backend changes needed (settings are frontend-only for now)","status":"open","priority":2,"issue_type":"epic","owner":"k@knt.li","created_at":"2026-01-26T14:50:40.182077952+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:50:40.182077952+01:00"}
{"id":"meet-mesh-e7y.1","title":"Create dateFormat store with locale detection","description":"## Goal\nCreate a reactive Svelte 5 store that manages date/time format preferences with browser locale detection.\n\n## Files\n- **Create:** `frontend/src/lib/stores/dateFormat.svelte.ts`\n\n## Step 1: Create the dateFormat store file\n\nCreate `frontend/src/lib/stores/dateFormat.svelte.ts` with complete implementation:\n\n```typescript\nimport { browser } from '\\$app/environment';\n\nexport type WeekStartDay = 'sunday' | 'monday';\nexport type TimeFormat = '12h' | '24h';\n\nexport interface DateFormatSettings {\n  weekStartDay: WeekStartDay;\n  timeFormat: TimeFormat;\n}\n\nconst STORAGE_KEY = 'dateFormat';\n\n// Default settings - will be overridden by browser detection\nlet weekStartDay = \\$state\u003cWeekStartDay\u003e('sunday');\nlet timeFormat = \\$state\u003cTimeFormat\u003e('12h');\nlet initialized = \\$state(false);\n\nfunction detectBrowserPreferences(): DateFormatSettings {\n  if (!browser) {\n    return { weekStartDay: 'sunday', timeFormat: '12h' };\n  }\n  \n  // Detect time format preference from locale\n  const locale = navigator.language || 'en-US';\n  const testDate = new Date(2000, 0, 1, 13, 0);\n  const formatted = testDate.toLocaleTimeString(locale, { hour: 'numeric' });\n  const is24h = !formatted.includes('PM') \u0026\u0026 !formatted.includes('AM');\n  \n  // Detect week start day preference\n  // Most locales use Monday, US/Canada/Japan/etc use Sunday\n  const sundayLocales = ['en-US', 'en-CA', 'ja-JP', 'ko-KR', 'zh-TW', 'he-IL'];\n  const isSundayStart = sundayLocales.some(l =\u003e locale.startsWith(l.split('-')[0]) \u0026\u0026 locale.includes(l.split('-')[1])) \n    || locale === 'en-US' || locale.startsWith('en-US');\n  \n  return {\n    weekStartDay: isSundayStart ? 'sunday' : 'monday',\n    timeFormat: is24h ? '24h' : '12h'\n  };\n}\n\nfunction loadFromStorage(): DateFormatSettings | null {\n  if (!browser) return null;\n  const stored = localStorage.getItem(STORAGE_KEY);\n  if (!stored) return null;\n  try {\n    return JSON.parse(stored) as DateFormatSettings;\n  } catch {\n    return null;\n  }\n}\n\nfunction saveToStorage(settings: DateFormatSettings) {\n  if (!browser) return;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(settings));\n}\n\nexport function getDateFormat() {\n  return {\n    get weekStartDay() { return weekStartDay; },\n    get timeFormat() { return timeFormat; },\n    get initialized() { return initialized; },\n    \n    init() {\n      if (initialized) return;\n      const stored = loadFromStorage();\n      if (stored) {\n        weekStartDay = stored.weekStartDay;\n        timeFormat = stored.timeFormat;\n      } else {\n        const detected = detectBrowserPreferences();\n        weekStartDay = detected.weekStartDay;\n        timeFormat = detected.timeFormat;\n      }\n      initialized = true;\n    },\n    \n    setWeekStartDay(day: WeekStartDay) {\n      weekStartDay = day;\n      saveToStorage({ weekStartDay, timeFormat });\n    },\n    \n    setTimeFormat(format: TimeFormat) {\n      timeFormat = format;\n      saveToStorage({ weekStartDay, timeFormat });\n    },\n    \n    reset() {\n      const detected = detectBrowserPreferences();\n      weekStartDay = detected.weekStartDay;\n      timeFormat = detected.timeFormat;\n      if (browser) {\n        localStorage.removeItem(STORAGE_KEY);\n      }\n    }\n  };\n}\n```\n\n## Step 2: Verify the file compiles\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript errors for the new file\n\n## Step 3: Commit\n\n```bash\ngit add frontend/src/lib/stores/dateFormat.svelte.ts\ngit commit -m \"feat: add dateFormat store with browser locale detection\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:50:58.886311686+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:50:58.886311686+01:00","dependencies":[{"issue_id":"meet-mesh-e7y.1","depends_on_id":"meet-mesh-e7y","type":"parent-child","created_at":"2026-01-26T14:50:58.888756256+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-e7y.10","title":"Update BookingRow to use centralized formatting","description":"## Goal\nUpdate BookingRow component to use centralized date/time formatting.\n\n## Files\n- **Modify:** `frontend/src/lib/components/dashboard/BookingRow.svelte`\n\n## Step 1: Update BookingRow.svelte\n\nAdd import at top of script:\n```typescript\nimport { formatTime } from '\\$lib/utils/dates';\n```\n\nUpdate the `formatDateTime` function (around line 30-55):\n\n```typescript\nconst formatDateTime = (dateStr: string) =\u003e {\n  const date = new Date(dateStr);\n  const now = new Date();\n  const tomorrow = new Date(now);\n  tomorrow.setDate(tomorrow.getDate() + 1);\n\n  const isToday = date.toDateString() === now.toDateString();\n  const isTomorrow = date.toDateString() === tomorrow.toDateString();\n\n  const timeStr = formatTime(date);\n\n  if (isToday) {\n    return \\`Today, \\${timeStr}\\`;\n  } else if (isTomorrow) {\n    return \\`Tomorrow, \\${timeStr}\\`;\n  } else {\n    const dateStr = date.toLocaleDateString(undefined, {\n      month: 'short',\n      day: 'numeric'\n    });\n    return \\`\\${dateStr}, \\${timeStr}\\`;\n  }\n};\n```\n\n## Step 2: Verify the file compiles\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript errors\n\n## Step 3: Commit\n\n```bash\ngit add frontend/src/lib/components/dashboard/BookingRow.svelte\ngit commit -m \"refactor: use centralized formatTime in BookingRow\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:23.297064318+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:53:23.297064318+01:00","dependencies":[{"issue_id":"meet-mesh-e7y.10","depends_on_id":"meet-mesh-e7y","type":"parent-child","created_at":"2026-01-26T14:53:23.299450008+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-e7y.10","depends_on_id":"meet-mesh-e7y.6","type":"blocks","created_at":"2026-01-26T14:55:02.520525279+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-e7y.11","title":"Update DateCalendar to respect week start day","description":"## Goal\nUpdate DateCalendar component to respect the week start day preference from dateFormat store.\n\n## Files\n- **Modify:** `frontend/src/lib/components/booking/DateCalendar.svelte`\n\n## Step 1: Update DateCalendar.svelte\n\nAdd imports at top of script:\n```typescript\nimport { getDateFormat } from '\\$lib/stores/dateFormat.svelte';\nimport { getWeekDays, getDayIndex } from '\\$lib/utils/dates';\n```\n\nReplace the static weekDays constant with a derived:\n```typescript\nconst dateFormat = getDateFormat();\n\n// Weekday headers - derived from store preference\nlet weekDays = \\$derived(getWeekDays('short'));\n```\n\nUpdate the `firstDayOfMonth` derived to respect week start:\n```typescript\n// Calculate first day of month adjusted for week start\nlet firstDayOfMonth = \\$derived.by(() =\u003e {\n  const first = new Date(year, month, 1);\n  return getDayIndex(first);\n});\n```\n\nThe rest of the template should work unchanged since it uses `firstDayOfMonth` for calendar grid calculation.\n\n## Step 2: Verify the file compiles\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript errors\n\n## Step 3: Commit\n\n```bash\ngit add frontend/src/lib/components/booking/DateCalendar.svelte\ngit commit -m \"feat: respect week start day preference in DateCalendar\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:31.057530429+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:53:31.057530429+01:00","dependencies":[{"issue_id":"meet-mesh-e7y.11","depends_on_id":"meet-mesh-e7y","type":"parent-child","created_at":"2026-01-26T14:53:31.059865178+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-e7y.11","depends_on_id":"meet-mesh-e7y.2","type":"blocks","created_at":"2026-01-26T14:55:09.863200057+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-e7y.12","title":"Update MiniCalendar to respect week start day","description":"## Goal\nUpdate MiniCalendar component to respect the week start day preference from dateFormat store.\n\n## Files\n- **Modify:** `frontend/src/lib/components/dashboard/MiniCalendar.svelte`\n\n## Step 1: Update MiniCalendar.svelte\n\nAdd imports at top of script:\n```typescript\nimport { getDateFormat } from '\\$lib/stores/dateFormat.svelte';\nimport { getWeekDays, getDayIndex } from '\\$lib/utils/dates';\n```\n\nReplace the static WEEKDAYS constant with a derived:\n```typescript\nconst dateFormat = getDateFormat();\n\n// Weekday headers - derived from store preference\nlet WEEKDAYS = \\$derived(getWeekDays('narrow')); // 'S', 'M', 'T', etc.\n```\n\nUpdate the `calendarDays` derived to respect week start (around line 58-101):\n```typescript\n// Calculate calendar days for the displayed month\nconst calendarDays = \\$derived.by(() =\u003e {\n  const year = displayedDate.getFullYear();\n  const month = displayedDate.getMonth();\n  const df = dateFormat;\n\n  // First day of the month\n  const firstDayOfMonth = new Date(year, month, 1);\n  const startDayOfWeek = getDayIndex(firstDayOfMonth);\n\n  // Last day of the month\n  const lastDayOfMonth = new Date(year, month + 1, 0);\n  const daysInMonth = lastDayOfMonth.getDate();\n\n  // Previous month days to fill\n  const prevMonthLastDay = new Date(year, month, 0).getDate();\n\n  const days: { date: Date; isOtherMonth: boolean }[] = [];\n\n  // Add days from previous month\n  for (let i = startDayOfWeek - 1; i \u003e= 0; i--) {\n    days.push({\n      date: new Date(year, month - 1, prevMonthLastDay - i),\n      isOtherMonth: true\n    });\n  }\n\n  // Add days of current month\n  for (let day = 1; day \u003c= daysInMonth; day++) {\n    days.push({\n      date: new Date(year, month, day),\n      isOtherMonth: false\n    });\n  }\n\n  // Add days from next month to complete the grid (6 rows * 7 days = 42)\n  const remainingDays = 42 - days.length;\n  for (let day = 1; day \u003c= remainingDays; day++) {\n    days.push({\n      date: new Date(year, month + 1, day),\n      isOtherMonth: true\n    });\n  }\n\n  return days;\n});\n```\n\nUpdate the template to use the derived WEEKDAYS:\n```svelte\n{#each WEEKDAYS as day}\n  \u003cdiv class=\"calendar-day-label\"\u003e{day}\u003c/div\u003e\n{/each}\n```\n\n## Step 2: Verify the file compiles\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript errors\n\n## Step 3: Commit\n\n```bash\ngit add frontend/src/lib/components/dashboard/MiniCalendar.svelte\ngit commit -m \"feat: respect week start day preference in MiniCalendar\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:42.747861582+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:53:42.747861582+01:00","dependencies":[{"issue_id":"meet-mesh-e7y.12","depends_on_id":"meet-mesh-e7y","type":"parent-child","created_at":"2026-01-26T14:53:42.750504885+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-e7y.12","depends_on_id":"meet-mesh-e7y.2","type":"blocks","created_at":"2026-01-26T14:55:10.362799119+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-e7y.13","title":"Update WeekAvailabilityDisplay to respect week start day","description":"## Goal\nUpdate WeekAvailabilityDisplay component to respect the week start day preference.\n\n## Files\n- **Modify:** `frontend/src/lib/components/booking/WeekAvailabilityDisplay.svelte`\n\n## Step 1: Update WeekAvailabilityDisplay.svelte\n\nAdd imports at top of script:\n```typescript\nimport { getDateFormat } from '\\$lib/stores/dateFormat.svelte';\nimport { getWeekDays } from '\\$lib/utils/dates';\n```\n\nReplace the static days constant with a derived and update dayIndexMap:\n```typescript\nconst dateFormat = getDateFormat();\n\n// Days and index map - derived from store preference\nlet days = \\$derived(getWeekDays('short'));\n\n// Map display order to day-of-week numbers\n// When week starts Monday: [1, 2, 3, 4, 5, 6, 0]\n// When week starts Sunday: [0, 1, 2, 3, 4, 5, 6]\nlet dayIndexMap = \\$derived.by(() =\u003e {\n  if (dateFormat.weekStartDay === 'monday') {\n    return [1, 2, 3, 4, 5, 6, 0]; // Mon=1, Sun=0\n  }\n  return [0, 1, 2, 3, 4, 5, 6]; // Sun=0, Sat=6\n});\n```\n\nThe rest of the component uses `dayIndexMap` to map columns to day-of-week numbers, so it should work correctly.\n\n## Step 2: Verify the file compiles\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript errors\n\n## Step 3: Commit\n\n```bash\ngit add frontend/src/lib/components/booking/WeekAvailabilityDisplay.svelte\ngit commit -m \"feat: respect week start day preference in WeekAvailabilityDisplay\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:51.079970696+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:53:51.079970696+01:00","dependencies":[{"issue_id":"meet-mesh-e7y.13","depends_on_id":"meet-mesh-e7y","type":"parent-child","created_at":"2026-01-26T14:53:51.082864933+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-e7y.13","depends_on_id":"meet-mesh-e7y.2","type":"blocks","created_at":"2026-01-26T14:55:10.861321942+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-e7y.14","title":"Update AvailabilityRuleForm to respect week start day","description":"## Goal\nUpdate AvailabilityRuleForm component to show day toggles in the correct order based on week start preference.\n\n## Files\n- **Modify:** `frontend/src/lib/components/booking/AvailabilityRuleForm.svelte`\n\n## Step 1: Update AvailabilityRuleForm.svelte\n\nAdd imports at top of script:\n```typescript\nimport { getDateFormat } from '\\$lib/stores/dateFormat.svelte';\n```\n\nReplace the static days constant with a derived:\n```typescript\nconst dateFormat = getDateFormat();\n\n// Day values vary based on week start preference\n// When week starts Monday: Mon=1, Tue=2, ..., Sun=0\n// When week starts Sunday: Sun=0, Mon=1, ..., Sat=6\nlet days = \\$derived.by(() =\u003e {\n  if (dateFormat.weekStartDay === 'monday') {\n    return [\n      { label: 'Mon', value: 1 },\n      { label: 'Tue', value: 2 },\n      { label: 'Wed', value: 3 },\n      { label: 'Thu', value: 4 },\n      { label: 'Fri', value: 5 },\n      { label: 'Sat', value: 6 },\n      { label: 'Sun', value: 0 }\n    ];\n  }\n  return [\n    { label: 'Sun', value: 0 },\n    { label: 'Mon', value: 1 },\n    { label: 'Tue', value: 2 },\n    { label: 'Wed', value: 3 },\n    { label: 'Thu', value: 4 },\n    { label: 'Fri', value: 5 },\n    { label: 'Sat', value: 6 }\n  ];\n});\n```\n\n## Step 2: Verify the file compiles\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript errors\n\n## Step 3: Commit\n\n```bash\ngit add frontend/src/lib/components/booking/AvailabilityRuleForm.svelte\ngit commit -m \"feat: respect week start day preference in AvailabilityRuleForm\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:58.846506295+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:53:58.846506295+01:00","dependencies":[{"issue_id":"meet-mesh-e7y.14","depends_on_id":"meet-mesh-e7y","type":"parent-child","created_at":"2026-01-26T14:53:58.851676039+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-e7y.14","depends_on_id":"meet-mesh-e7y.2","type":"blocks","created_at":"2026-01-26T14:55:11.364601514+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-e7y.15","title":"Update PollOptionManager and VoteRow to use centralized formatting","description":"## Goal\nUpdate PollOptionManager and VoteRow dashboard components to use centralized date/time formatting.\n\n## Files\n- **Modify:** `frontend/src/lib/components/dashboard/PollOptionManager.svelte`\n- **Modify:** `frontend/src/lib/components/dashboard/VoteRow.svelte`\n\n## Step 1: Update PollOptionManager.svelte\n\nAdd import at top of script:\n```typescript\nimport { formatTime } from '\\$lib/utils/dates';\n```\n\nUpdate the `formatOption` function (around line 33-59):\n\n```typescript\nfunction formatOption(option: PollOption): string {\n  const start = new Date(option.start_time);\n  const end = new Date(option.end_time);\n\n  if (option.type === 2) {\n    // Full day\n    return start.toLocaleDateString(undefined, {\n      weekday: 'long',\n      month: 'short',\n      day: 'numeric'\n    }) + ' (Full Day)';\n  } else if (option.type === 3) {\n    // Multi day\n    return start.toLocaleDateString(undefined, { month: 'short', day: 'numeric' }) +\n      ' - ' +\n      end.toLocaleDateString(undefined, { month: 'short', day: 'numeric' });\n  } else {\n    // Time slot - use centralized formatTime\n    return start.toLocaleDateString(undefined, {\n      weekday: 'long',\n      month: 'short',\n      day: 'numeric'\n    }) + ' - ' +\n      formatTime(start) +\n      ' to ' +\n      formatTime(end);\n  }\n}\n```\n\n## Step 2: Update VoteRow.svelte\n\nAdd import at top of script:\n```typescript\nimport { formatTime } from '\\$lib/utils/dates';\n```\n\nUpdate the `formatSlotLabel` function (around line 28-36):\n\n```typescript\nconst formatSlotLabel = (slot: Slot) =\u003e {\n  const start = new Date(slot.start_time);\n  const dateStr = start.toLocaleDateString(undefined, {\n    month: 'short',\n    day: 'numeric'\n  });\n  return \\`\\${dateStr}, \\${formatTime(start)}\\`;\n};\n```\n\n## Step 3: Verify the files compile\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript errors\n\n## Step 4: Commit\n\n```bash\ngit add frontend/src/lib/components/dashboard/PollOptionManager.svelte frontend/src/lib/components/dashboard/VoteRow.svelte\ngit commit -m \"refactor: use centralized formatTime in PollOptionManager and VoteRow\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:54:08.946308248+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:54:08.946308248+01:00","dependencies":[{"issue_id":"meet-mesh-e7y.15","depends_on_id":"meet-mesh-e7y","type":"parent-child","created_at":"2026-01-26T14:54:08.949410758+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-e7y.15","depends_on_id":"meet-mesh-e7y.6","type":"blocks","created_at":"2026-01-26T14:55:11.876219382+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-e7y.16","title":"Add date format settings section to dashboard settings page","description":"## Goal\nAdd a date/time format settings section to the dashboard settings page for the organizer.\n\n## Files\n- **Modify:** `frontend/src/routes/(dashboard)/settings/+page.svelte`\n\n## Step 1: Update settings page\n\nAdd imports at top of script:\n```typescript\nimport { getDateFormat } from '\\$lib/stores/dateFormat.svelte';\nimport type { WeekStartDay, TimeFormat } from '\\$lib/stores/dateFormat.svelte';\n```\n\nAdd the dateFormat store reference:\n```typescript\nconst dateFormat = getDateFormat();\n```\n\nAdd a new section in the template after the Calendar Connections section (before the closing div):\n\n```svelte\n\u003c!-- Date \u0026 Time Format Section --\u003e\n\u003csection class=\"mt-8\"\u003e\n  \u003cdiv class=\"mb-4\"\u003e\n    \u003ch2 class=\"text-lg font-medium text-[var(--text-primary)]\"\u003eDate \u0026 Time Format\u003c/h2\u003e\n    \u003cp class=\"text-sm text-[var(--text-secondary)]\"\u003eCustomize how dates and times are displayed\u003c/p\u003e\n  \u003c/div\u003e\n\n  \u003cCard\u003e\n    {#snippet children()}\n      \u003cdiv class=\"space-y-6 p-2\"\u003e\n        \u003c!-- Time Format --\u003e\n        \u003cdiv class=\"flex items-center justify-between\"\u003e\n          \u003cdiv\u003e\n            \u003cp class=\"font-medium text-[var(--text-primary)]\"\u003eTime Format\u003c/p\u003e\n            \u003cp class=\"text-sm text-[var(--text-secondary)]\"\u003eChoose 12-hour or 24-hour format\u003c/p\u003e\n          \u003c/div\u003e\n          \u003cdiv class=\"flex gap-2\"\u003e\n            \u003cbutton\n              type=\"button\"\n              onclick={() =\u003e dateFormat.setTimeFormat('12h')}\n              class=\"px-4 py-2 text-sm font-medium rounded-[var(--radius)] transition-colors\n                {dateFormat.timeFormat === '12h'\n                  ? 'bg-[var(--sky)] text-white'\n                  : 'bg-[var(--bg-tertiary)] text-[var(--text-secondary)] hover:bg-[var(--bg-secondary)]'}\"\n            \u003e\n              12h (2:00 PM)\n            \u003c/button\u003e\n            \u003cbutton\n              type=\"button\"\n              onclick={() =\u003e dateFormat.setTimeFormat('24h')}\n              class=\"px-4 py-2 text-sm font-medium rounded-[var(--radius)] transition-colors\n                {dateFormat.timeFormat === '24h'\n                  ? 'bg-[var(--sky)] text-white'\n                  : 'bg-[var(--bg-tertiary)] text-[var(--text-secondary)] hover:bg-[var(--bg-secondary)]'}\"\n            \u003e\n              24h (14:00)\n            \u003c/button\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n\n        \u003c!-- Week Start Day --\u003e\n        \u003cdiv class=\"flex items-center justify-between\"\u003e\n          \u003cdiv\u003e\n            \u003cp class=\"font-medium text-[var(--text-primary)]\"\u003eWeek Starts On\u003c/p\u003e\n            \u003cp class=\"text-sm text-[var(--text-secondary)]\"\u003eFirst day of the week in calendars\u003c/p\u003e\n          \u003c/div\u003e\n          \u003cdiv class=\"flex gap-2\"\u003e\n            \u003cbutton\n              type=\"button\"\n              onclick={() =\u003e dateFormat.setWeekStartDay('sunday')}\n              class=\"px-4 py-2 text-sm font-medium rounded-[var(--radius)] transition-colors\n                {dateFormat.weekStartDay === 'sunday'\n                  ? 'bg-[var(--sky)] text-white'\n                  : 'bg-[var(--bg-tertiary)] text-[var(--text-secondary)] hover:bg-[var(--bg-secondary)]'}\"\n            \u003e\n              Sunday\n            \u003c/button\u003e\n            \u003cbutton\n              type=\"button\"\n              onclick={() =\u003e dateFormat.setWeekStartDay('monday')}\n              class=\"px-4 py-2 text-sm font-medium rounded-[var(--radius)] transition-colors\n                {dateFormat.weekStartDay === 'monday'\n                  ? 'bg-[var(--sky)] text-white'\n                  : 'bg-[var(--bg-tertiary)] text-[var(--text-secondary)] hover:bg-[var(--bg-secondary)]'}\"\n            \u003e\n              Monday\n            \u003c/button\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n\n        \u003c!-- Reset to Browser Default --\u003e\n        \u003cdiv class=\"pt-4 border-t border-[var(--border-color)]\"\u003e\n          \u003cbutton\n            type=\"button\"\n            onclick={() =\u003e dateFormat.reset()}\n            class=\"text-sm text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors\"\n          \u003e\n            Reset to browser default\n          \u003c/button\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    {/snippet}\n  \u003c/Card\u003e\n\u003c/section\u003e\n```\n\n## Step 2: Verify the file compiles\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript errors\n\n## Step 3: Test visually\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm dev`\nNavigate to Settings page. The new Date \u0026 Time Format section should appear.\n\n## Step 4: Commit\n\n```bash\ngit add frontend/src/routes/\\(dashboard\\)/settings/+page.svelte\ngit commit -m \"feat: add date/time format settings to dashboard settings page\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:54:28.342866815+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:54:28.342866815+01:00","dependencies":[{"issue_id":"meet-mesh-e7y.16","depends_on_id":"meet-mesh-e7y","type":"parent-child","created_at":"2026-01-26T14:54:28.345720901+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-e7y.16","depends_on_id":"meet-mesh-e7y.2","type":"blocks","created_at":"2026-01-26T14:55:12.371084969+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-e7y.17","title":"Update DayPicker and DateRangePicker to use centralized formatting","description":"## Goal\nUpdate DayPicker and DateRangePicker components to use centralized date formatting.\n\n## Files\n- **Modify:** `frontend/src/lib/components/booking/DayPicker.svelte`\n- **Modify:** `frontend/src/lib/components/booking/DateRangePicker.svelte`\n\n## Step 1: Update DayPicker.svelte\n\nAdd import at top of script:\n```typescript\nimport { formatDate } from '\\$lib/utils/dates';\n```\n\nUpdate the dateOptions derived (around line 17-30):\n```typescript\n// Convert available dates to options\nlet dateOptions = \\$derived(\n  availableDates.map((dateStr) =\u003e {\n    const date = new Date(dateStr);\n    return {\n      value: dateStr,\n      label: formatDate(date)\n    };\n  })\n);\n```\n\n## Step 2: Update DateRangePicker.svelte\n\nAdd import at top of script:\n```typescript\nimport { formatDateShort } from '\\$lib/utils/dates';\n```\n\nUpdate the formatDateDisplay function (around line 41-49):\n```typescript\n// Format for display\nfunction formatDateDisplay(dateStr: string | undefined): string {\n  if (!dateStr) return '';\n  const date = new Date(dateStr);\n  return date.toLocaleDateString('en-US', {\n    weekday: 'short',\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric'\n  });\n}\n```\n\n(This function uses a specific format for the date range display and doesn't need time formatting, so we can leave it as is for now. The primary goal is time format consistency.)\n\n## Step 3: Verify the files compile\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript errors\n\n## Step 4: Commit\n\n```bash\ngit add frontend/src/lib/components/booking/DayPicker.svelte frontend/src/lib/components/booking/DateRangePicker.svelte\ngit commit -m \"refactor: use centralized formatDate in DayPicker\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:54:37.336853817+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:54:37.336853817+01:00","dependencies":[{"issue_id":"meet-mesh-e7y.17","depends_on_id":"meet-mesh-e7y","type":"parent-child","created_at":"2026-01-26T14:54:37.343109286+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-e7y.17","depends_on_id":"meet-mesh-e7y.6","type":"blocks","created_at":"2026-01-26T14:55:12.87283749+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-e7y.18","title":"Final integration testing and cleanup","description":"## Goal\nPerform final integration testing and ensure all date/time formatting is consistent.\n\n## Files\n- Review all modified files\n\n## Step 1: Run type checking\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript errors\n\n## Step 2: Run the build\n\nRun: `make build`\nExpected: Build succeeds\n\n## Step 3: Manual testing checklist\n\nStart dev server: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm dev`\n\nTest the following scenarios:\n\n1. **Public booking page:**\n   - [ ] Clock icon appears in bottom-right corner\n   - [ ] Clicking it shows settings panel\n   - [ ] Toggle time format - times change between 12h/24h\n   - [ ] Toggle week start - calendar updates to show correct first day\n   - [ ] Refresh page - settings persist\n\n2. **Public poll page:**\n   - [ ] Same clock icon appears\n   - [ ] Time slots display in correct format\n   - [ ] Settings changes apply immediately\n\n3. **Dashboard settings:**\n   - [ ] Date \u0026 Time Format section appears\n   - [ ] Toggle buttons work\n   - [ ] \"Reset to browser default\" works\n\n4. **Dashboard overview:**\n   - [ ] BookingRow times display in correct format\n   - [ ] MiniCalendar respects week start day\n\n5. **Booking link creation:**\n   - [ ] WeekAvailabilityDisplay respects week start day\n   - [ ] AvailabilityRuleForm day toggles in correct order\n\n## Step 4: Commit any final fixes\n\nIf any fixes are needed:\n```bash\ngit add -A\ngit commit -m \"fix: address integration testing feedback for date format feature\"\n```\n\n## Step 5: Final commit summary\n\nReview the commit history for this feature:\n```bash\ngit log --oneline -20\n```\n\nEnsure all commits follow conventional commit format.","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:54:48.339090163+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:54:48.339090163+01:00","dependencies":[{"issue_id":"meet-mesh-e7y.18","depends_on_id":"meet-mesh-e7y","type":"parent-child","created_at":"2026-01-26T14:54:48.341802785+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-e7y.2","title":"Add formatting utility functions to dateFormat store","description":"## Goal\nAdd formatting functions to the dateFormat store that use the current settings.\n\n## Files\n- **Modify:** `frontend/src/lib/stores/dateFormat.svelte.ts`\n\n## Step 1: Add formatting functions\n\nAdd these functions to the `getDateFormat()` return object in `dateFormat.svelte.ts`:\n\n```typescript\n// Add inside getDateFormat() return object, after reset():\n\n// Get day names ordered by week start preference\ngetWeekDays(format: 'short' | 'narrow' | 'long' = 'short'): string[] {\n  const days = [];\n  const baseDate = new Date(2024, 0, 7); // Known Sunday\n  const start = weekStartDay === 'monday' ? 1 : 0;\n  \n  for (let i = 0; i \u003c 7; i++) {\n    const d = new Date(baseDate);\n    d.setDate(d.getDate() + ((start + i) % 7));\n    days.push(d.toLocaleDateString('en-US', { weekday: format }));\n  }\n  return days;\n},\n\n// Get day index adjusted for week start (0 = first day of week)\ngetDayIndex(date: Date): number {\n  const jsDay = date.getDay(); // 0=Sun, 6=Sat\n  if (weekStartDay === 'monday') {\n    return jsDay === 0 ? 6 : jsDay - 1;\n  }\n  return jsDay;\n},\n\n// Format time according to preference\nformatTime(date: Date | string): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  return d.toLocaleTimeString('en-US', {\n    hour: 'numeric',\n    minute: '2-digit',\n    hour12: timeFormat === '12h'\n  });\n},\n\n// Format date (weekday, month day)\nformatDate(date: Date | string): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  return d.toLocaleDateString('en-US', {\n    weekday: 'long',\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric'\n  });\n},\n\n// Format date short (Jan 20)\nformatDateShort(date: Date | string): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  return d.toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric'\n  });\n},\n\n// Format time range\nformatTimeRange(start: Date | string, end: Date | string): string {\n  return \\`\\${this.formatTime(start)} - \\${this.formatTime(end)}\\`;\n},\n\n// Format date and time together\nformatDateTime(date: Date | string): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  const dateStr = d.toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric'\n  });\n  return \\`\\${dateStr}, \\${this.formatTime(d)}\\`;\n},\n```\n\n## Step 2: Verify the file compiles\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript errors\n\n## Step 3: Commit\n\n```bash\ngit add frontend/src/lib/stores/dateFormat.svelte.ts\ngit commit -m \"feat: add formatting functions to dateFormat store\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:51:12.35414492+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:51:12.35414492+01:00","dependencies":[{"issue_id":"meet-mesh-e7y.2","depends_on_id":"meet-mesh-e7y","type":"parent-child","created_at":"2026-01-26T14:51:12.356522519+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-e7y.2","depends_on_id":"meet-mesh-e7y.1","type":"blocks","created_at":"2026-01-26T14:54:55.393196676+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-e7y.3","title":"Create DateFormatToggle component","description":"## Goal\nCreate a compact toggle component for changing date/time format settings, to be placed in the bottom-right corner of public pages.\n\n## Files\n- **Create:** `frontend/src/lib/components/ui/DateFormatToggle.svelte`\n- **Modify:** `frontend/src/lib/components/ui/index.ts` - add export\n\n## Step 1: Create the DateFormatToggle component\n\nCreate `frontend/src/lib/components/ui/DateFormatToggle.svelte`:\n\n```svelte\n\u003cscript lang=\"ts\"\u003e\n  import { getDateFormat } from '\\$lib/stores/dateFormat.svelte';\n  \n  let expanded = \\$state(false);\n  const dateFormat = getDateFormat();\n  \n  function toggleTimeFormat() {\n    dateFormat.setTimeFormat(dateFormat.timeFormat === '12h' ? '24h' : '12h');\n  }\n  \n  function toggleWeekStart() {\n    dateFormat.setWeekStartDay(dateFormat.weekStartDay === 'sunday' ? 'monday' : 'sunday');\n  }\n\u003c/script\u003e\n\n\u003cdiv class=\"date-format-toggle\"\u003e\n  \u003cbutton\n    type=\"button\"\n    class=\"toggle-button\"\n    onclick={() =\u003e expanded = !expanded}\n    aria-expanded={expanded}\n    aria-label=\"Date format settings\"\n  \u003e\n    \u003csvg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"\u003e\n      \u003cpath stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" \n        d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" /\u003e\n    \u003c/svg\u003e\n  \u003c/button\u003e\n  \n  {#if expanded}\n    \u003cdiv class=\"settings-panel\"\u003e\n      \u003cdiv class=\"setting-row\"\u003e\n        \u003cspan class=\"setting-label\"\u003eTime\u003c/span\u003e\n        \u003cbutton\n          type=\"button\"\n          class=\"setting-value\"\n          onclick={toggleTimeFormat}\n        \u003e\n          {dateFormat.timeFormat === '12h' ? '12h' : '24h'}\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"setting-row\"\u003e\n        \u003cspan class=\"setting-label\"\u003eWeek starts\u003c/span\u003e\n        \u003cbutton\n          type=\"button\"\n          class=\"setting-value\"\n          onclick={toggleWeekStart}\n        \u003e\n          {dateFormat.weekStartDay === 'sunday' ? 'Sun' : 'Mon'}\n        \u003c/button\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  {/if}\n\u003c/div\u003e\n\n\u003cstyle\u003e\n  .date-format-toggle {\n    position: relative;\n  }\n  \n  .toggle-button {\n    width: 36px;\n    height: 36px;\n    border-radius: var(--radius);\n    border: var(--border);\n    background: var(--bg-secondary);\n    color: var(--text-secondary);\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: all var(--transition);\n    box-shadow: var(--shadow-sm);\n  }\n  \n  .toggle-button:hover {\n    color: var(--text-primary);\n    background: var(--bg-tertiary);\n  }\n  \n  .settings-panel {\n    position: absolute;\n    bottom: 100%;\n    right: 0;\n    margin-bottom: 0.5rem;\n    padding: 0.5rem;\n    background: var(--bg-secondary);\n    border: var(--border);\n    border-radius: var(--radius);\n    box-shadow: var(--shadow);\n    min-width: 140px;\n  }\n  \n  .setting-row {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    gap: 0.75rem;\n    padding: 0.25rem 0;\n  }\n  \n  .setting-label {\n    font-size: 0.75rem;\n    color: var(--text-secondary);\n  }\n  \n  .setting-value {\n    font-size: 0.75rem;\n    font-weight: 600;\n    padding: 0.25rem 0.5rem;\n    border-radius: var(--radius-sm);\n    background: var(--bg-tertiary);\n    border: 1px solid var(--border-color);\n    color: var(--text-primary);\n    cursor: pointer;\n    transition: all var(--transition);\n  }\n  \n  .setting-value:hover {\n    background: var(--sky);\n    color: white;\n    border-color: var(--sky);\n  }\n\u003c/style\u003e\n```\n\n## Step 2: Add export to index.ts\n\nAdd to `frontend/src/lib/components/ui/index.ts`:\n\n```typescript\nexport { default as DateFormatToggle } from './DateFormatToggle.svelte'\n```\n\n## Step 3: Verify the file compiles\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript errors\n\n## Step 4: Commit\n\n```bash\ngit add frontend/src/lib/components/ui/DateFormatToggle.svelte frontend/src/lib/components/ui/index.ts\ngit commit -m \"feat: add DateFormatToggle component\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:51:28.678638962+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:51:28.678638962+01:00","dependencies":[{"issue_id":"meet-mesh-e7y.3","depends_on_id":"meet-mesh-e7y","type":"parent-child","created_at":"2026-01-26T14:51:28.681275234+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-e7y.3","depends_on_id":"meet-mesh-e7y.2","type":"blocks","created_at":"2026-01-26T14:54:55.189635022+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-e7y.4","title":"Initialize dateFormat store in root layout","description":"## Goal\nInitialize the dateFormat store when the app loads so preferences are detected and ready.\n\n## Files\n- **Modify:** `frontend/src/routes/+layout.svelte`\n\n## Step 1: Update root layout to initialize dateFormat\n\nModify `frontend/src/routes/+layout.svelte`:\n\n```svelte\n\u003cscript lang=\"ts\"\u003e\n  import '@fontsource-variable/outfit';\n  import '../app.css';\n  import favicon from '\\$lib/assets/favicon.svg';\n  import { ToastContainer } from '\\$lib/components/ui';\n  import { onMount } from 'svelte';\n  import { getDateFormat } from '\\$lib/stores/dateFormat.svelte';\n\n  let { children } = \\$props();\n  \n  const dateFormat = getDateFormat();\n  \n  onMount(() =\u003e {\n    dateFormat.init();\n  });\n\u003c/script\u003e\n\n\u003csvelte:head\u003e\n  \u003clink rel=\"icon\" href={favicon} /\u003e\n\u003c/svelte:head\u003e\n\n{@render children()}\n\u003cToastContainer /\u003e\n```\n\n## Step 2: Verify the file compiles\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript errors\n\n## Step 3: Commit\n\n```bash\ngit add frontend/src/routes/+layout.svelte\ngit commit -m \"feat: initialize dateFormat store on app load\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:51:36.007225116+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:51:36.007225116+01:00","dependencies":[{"issue_id":"meet-mesh-e7y.4","depends_on_id":"meet-mesh-e7y","type":"parent-child","created_at":"2026-01-26T14:51:36.010138329+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-e7y.4","depends_on_id":"meet-mesh-e7y.1","type":"blocks","created_at":"2026-01-26T14:54:55.795484987+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-e7y.5","title":"Add DateFormatToggle to public pages layout","description":"## Goal\nAdd the DateFormatToggle to the public pages layout (booking and poll pages) in the bottom-right corner.\n\n## Files\n- **Modify:** `frontend/src/routes/(public)/+layout.svelte`\n\n## Step 1: Update public layout\n\nModify `frontend/src/routes/(public)/+layout.svelte`:\n\n```svelte\n\u003cscript lang=\"ts\"\u003e\n  import { page } from '\\$app/state';\n  import { fade } from 'svelte/transition';\n  import { pageIn, pageOut } from '\\$lib/utils/transitions';\n  import ThemeToggle from '\\$lib/components/ui/ThemeToggle.svelte';\n  import { DateFormatToggle } from '\\$lib/components/ui';\n\n  let { children } = \\$props();\n\u003c/script\u003e\n\n\u003cdiv class=\"min-h-screen bg-[var(--bg-primary)]\"\u003e\n  \u003c!-- Theme toggle in top-right corner --\u003e\n  \u003cdiv class=\"fixed top-4 right-4 z-50\"\u003e\n    \u003cThemeToggle /\u003e\n  \u003c/div\u003e\n  \n  \u003c!-- Date format toggle in bottom-right corner --\u003e\n  \u003cdiv class=\"fixed bottom-4 right-4 z-50\"\u003e\n    \u003cDateFormatToggle /\u003e\n  \u003c/div\u003e\n\n  \u003cdiv class=\"max-w-2xl mx-auto px-4 py-8\"\u003e\n    {#key page.url.pathname}\n      \u003cdiv in:fade={pageIn} out:fade={pageOut}\u003e\n        {@render children()}\n      \u003c/div\u003e\n    {/key}\n  \u003c/div\u003e\n\u003c/div\u003e\n```\n\n## Step 2: Verify the file compiles\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript errors\n\n## Step 3: Test visually\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm dev`\nNavigate to a public booking or poll page. The clock icon should appear in the bottom-right corner.\n\n## Step 4: Commit\n\n```bash\ngit add frontend/src/routes/\\(public\\)/+layout.svelte\ngit commit -m \"feat: add DateFormatToggle to public pages\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:52:28.166926275+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:52:28.166926275+01:00","dependencies":[{"issue_id":"meet-mesh-e7y.5","depends_on_id":"meet-mesh-e7y","type":"parent-child","created_at":"2026-01-26T14:52:28.169385605+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-e7y.5","depends_on_id":"meet-mesh-e7y.3","type":"blocks","created_at":"2026-01-26T14:54:55.604810214+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-e7y.6","title":"Update dates.ts utility to use dateFormat store","description":"## Goal\nUpdate the existing dates.ts utility to use the dateFormat store for formatting, maintaining backward compatibility.\n\n## Files\n- **Modify:** `frontend/src/lib/utils/dates.ts`\n\n## Step 1: Update dates.ts to use dateFormat store\n\nReplace contents of `frontend/src/lib/utils/dates.ts`:\n\n```typescript\nimport { getDateFormat } from '\\$lib/stores/dateFormat.svelte';\n\n/**\n * Format a date for display (e.g., \"Monday, January 20, 2025\")\n */\nexport function formatDate(date: Date | string): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  return d.toLocaleDateString('en-US', {\n    weekday: 'long',\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric'\n  });\n}\n\n/**\n * Format a date short (e.g., \"Jan 20\")\n */\nexport function formatDateShort(date: Date | string): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  return d.toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric'\n  });\n}\n\n/**\n * Format a time (e.g., \"2:00 PM\" or \"14:00\")\n * Uses dateFormat store settings for 12h/24h preference\n */\nexport function formatTime(date: Date | string): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  const dateFormat = getDateFormat();\n  return d.toLocaleTimeString('en-US', {\n    hour: 'numeric',\n    minute: '2-digit',\n    hour12: dateFormat.timeFormat === '12h'\n  });\n}\n\n/**\n * Format a time range (e.g., \"2:00 PM - 3:00 PM\")\n */\nexport function formatTimeRange(start: Date | string, end: Date | string): string {\n  return \\`\\${formatTime(start)} - \\${formatTime(end)}\\`;\n}\n\n/**\n * Format a date range (e.g., \"Jan 20 - Jan 22\")\n */\nexport function formatDateRange(start: Date | string, end: Date | string): string {\n  return \\`\\${formatDateShort(start)} - \\${formatDateShort(end)}\\`;\n}\n\n/**\n * Get relative time (e.g., \"2 hours ago\", \"in 3 days\")\n */\nexport function formatRelative(date: Date | string): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  const now = new Date();\n  const diffMs = d.getTime() - now.getTime();\n  const diffSec = Math.round(diffMs / 1000);\n  const diffMin = Math.round(diffSec / 60);\n  const diffHour = Math.round(diffMin / 60);\n  const diffDay = Math.round(diffHour / 24);\n\n  if (Math.abs(diffMin) \u003c 1) return 'just now';\n  if (Math.abs(diffMin) \u003c 60) {\n    return diffMin \u003e 0 ? \\`in \\${diffMin} min\\` : \\`\\${Math.abs(diffMin)} min ago\\`;\n  }\n  if (Math.abs(diffHour) \u003c 24) {\n    return diffHour \u003e 0 ? \\`in \\${diffHour} hours\\` : \\`\\${Math.abs(diffHour)} hours ago\\`;\n  }\n  return diffDay \u003e 0 ? \\`in \\${diffDay} days\\` : \\`\\${Math.abs(diffDay)} days ago\\`;\n}\n\n/**\n * Check if a date is today\n */\nexport function isToday(date: Date | string): boolean {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  const today = new Date();\n  return d.toDateString() === today.toDateString();\n}\n\n/**\n * Get ISO date string (YYYY-MM-DD) for a date\n */\nexport function toISODateString(date: Date): string {\n  return date.toISOString().split('T')[0];\n}\n\n/**\n * Get weekday names ordered by week start preference\n */\nexport function getWeekDays(format: 'short' | 'narrow' | 'long' = 'short'): string[] {\n  const dateFormat = getDateFormat();\n  return dateFormat.getWeekDays(format);\n}\n\n/**\n * Get day index adjusted for week start (0 = first day of week)\n */\nexport function getDayIndex(date: Date): number {\n  const dateFormat = getDateFormat();\n  return dateFormat.getDayIndex(date);\n}\n```\n\n## Step 2: Verify the file compiles\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript errors\n\n## Step 3: Commit\n\n```bash\ngit add frontend/src/lib/utils/dates.ts\ngit commit -m \"feat: update dates.ts to use dateFormat store for time formatting\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:52:44.835632103+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:52:44.835632103+01:00","dependencies":[{"issue_id":"meet-mesh-e7y.6","depends_on_id":"meet-mesh-e7y","type":"parent-child","created_at":"2026-01-26T14:52:44.838127933+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-e7y.6","depends_on_id":"meet-mesh-e7y.2","type":"blocks","created_at":"2026-01-26T14:55:01.667311092+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-e7y.7","title":"Update TimeSlotList to use centralized formatting","description":"## Goal\nUpdate TimeSlotList component to use the centralized formatTime function.\n\n## Files\n- **Modify:** `frontend/src/lib/components/booking/TimeSlotList.svelte`\n\n## Step 1: Update TimeSlotList.svelte\n\nModify `frontend/src/lib/components/booking/TimeSlotList.svelte`:\n\n```svelte\n\u003cscript lang=\"ts\"\u003e\n  import { fly } from 'svelte/transition';\n  import type { components } from '\\$lib/api/types';\n  import { formatTime } from '\\$lib/utils/dates';\n\n  type Slot = components['schemas']['Slot'];\n\n  interface Props {\n    slots: Slot[];\n    selectedSlot?: Slot;\n    onSelect?: (slot: Slot) =\u003e void;\n    class?: string;\n  }\n\n  let {\n    slots,\n    selectedSlot = \\$bindable(),\n    onSelect,\n    class: className = ''\n  }: Props = \\$props();\n\n  function formatTimeRange(slot: Slot): string {\n    return \\`\\${formatTime(slot.start_time)} - \\${formatTime(slot.end_time)}\\`;\n  }\n\n  function handleSelect(slot: Slot) {\n    selectedSlot = slot;\n    onSelect?.(slot);\n  }\n\n  function isSelected(slot: Slot): boolean {\n    return selectedSlot?.id === slot.id;\n  }\n\u003c/script\u003e\n\n\u003c!-- Rest of template remains the same --\u003e\n```\n\n(Keep the rest of the template unchanged)\n\n## Step 2: Verify the file compiles\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript errors\n\n## Step 3: Commit\n\n```bash\ngit add frontend/src/lib/components/booking/TimeSlotList.svelte\ngit commit -m \"refactor: use centralized formatTime in TimeSlotList\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:52:53.272023556+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:52:53.272023556+01:00","dependencies":[{"issue_id":"meet-mesh-e7y.7","depends_on_id":"meet-mesh-e7y","type":"parent-child","created_at":"2026-01-26T14:52:53.274480789+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-e7y.7","depends_on_id":"meet-mesh-e7y.6","type":"blocks","created_at":"2026-01-26T14:55:01.873035593+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-e7y.8","title":"Update BookingPage to use centralized formatting","description":"## Goal\nUpdate BookingPage component to use centralized date/time formatting functions.\n\n## Files\n- **Modify:** `frontend/src/lib/components/booking/BookingPage.svelte`\n\n## Step 1: Update BookingPage.svelte\n\nUpdate the imports and formatting functions in `frontend/src/lib/components/booking/BookingPage.svelte`:\n\nAdd import at top:\n```typescript\nimport { formatTime, formatDate, formatDateShort } from '\\$lib/utils/dates';\n```\n\nReplace the local `formatSlotSummary` function (around line 148-173):\n\n```typescript\n// Format slot for display\nfunction formatSlotSummary(slot: Slot): string {\n  const start = new Date(slot.start_time);\n  const end = new Date(slot.end_time);\n\n  if (slotType === 2) {\n    // Full day\n    return formatDate(start);\n  } else if (slotType === 3) {\n    // Multi-day\n    return \\`\\${formatDateShort(start)} - \\${formatDateShort(end)}, \\${end.getFullYear()}\\`;\n  } else {\n    // Time slot\n    const dateStr = start.toLocaleDateString('en-US', {\n      weekday: 'long',\n      month: 'long',\n      day: 'numeric'\n    });\n    return \\`\\${dateStr} at \\${formatTime(start)} - \\${formatTime(end)}\\`;\n  }\n}\n```\n\nAlso update line 268-272 where the selected date is displayed:\n```svelte\n\u003cp class=\"text-sm text-[var(--text-secondary)] mb-4\"\u003e\n  {new Date(selectedDate + 'T00:00:00').toLocaleDateString('en-US', {\n    weekday: 'long',\n    month: 'long',\n    day: 'numeric'\n  })}\n\u003c/p\u003e\n```\n\nThis display uses only date (no time), so it can remain unchanged.\n\n## Step 2: Verify the file compiles\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript errors\n\n## Step 3: Commit\n\n```bash\ngit add frontend/src/lib/components/booking/BookingPage.svelte\ngit commit -m \"refactor: use centralized formatting in BookingPage\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:07.687748254+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:53:07.687748254+01:00","dependencies":[{"issue_id":"meet-mesh-e7y.8","depends_on_id":"meet-mesh-e7y","type":"parent-child","created_at":"2026-01-26T14:53:07.690820016+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-e7y.8","depends_on_id":"meet-mesh-e7y.6","type":"blocks","created_at":"2026-01-26T14:55:02.08503098+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-e7y.9","title":"Update VoteCard to use centralized formatting","description":"## Goal\nUpdate VoteCard component to use centralized date/time formatting.\n\n## Files\n- **Modify:** `frontend/src/lib/components/poll/VoteCard.svelte`\n\n## Step 1: Update VoteCard.svelte\n\nAdd import at top of script:\n```typescript\nimport { formatTime, formatDate } from '\\$lib/utils/dates';\n```\n\nUpdate the `formattedTime` derived (around line 34-62):\n\n```typescript\n// Format time range\nlet formattedTime = \\$derived.by(() =\u003e {\n  const start = new Date(option.start_time);\n  const end = new Date(option.end_time);\n\n  // SlotType: 1=time, 2=full_day, 3=multi_day\n  if (option.type === 2) {\n    // Full day - no time display\n    return 'All day';\n  } else if (option.type === 3) {\n    // Multi-day - show date range\n    const endDate = end.toLocaleDateString('en-US', {\n      weekday: 'long',\n      month: 'long',\n      day: 'numeric'\n    });\n    return \\`to \\${endDate}\\`;\n  } else {\n    // Time slot - show time range using centralized formatting\n    return \\`\\${formatTime(start)} - \\${formatTime(end)}\\`;\n  }\n});\n```\n\n## Step 2: Verify the file compiles\n\nRun: `cd /home/konrad/www/meet-mesh/frontend \u0026\u0026 pnpm check`\nExpected: No TypeScript errors\n\n## Step 3: Commit\n\n```bash\ngit add frontend/src/lib/components/poll/VoteCard.svelte\ngit commit -m \"refactor: use centralized formatTime in VoteCard\"\n```","status":"open","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:16.078140885+01:00","created_by":"kolaente","updated_at":"2026-01-26T14:53:16.078140885+01:00","dependencies":[{"issue_id":"meet-mesh-e7y.9","depends_on_id":"meet-mesh-e7y","type":"parent-child","created_at":"2026-01-26T14:53:16.080687458+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-e7y.9","depends_on_id":"meet-mesh-e7y.6","type":"blocks","created_at":"2026-01-26T14:55:02.293712514+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-qod","title":"Availability Rules Editor for Booking Links","description":"Add UI for configuring time windows on booking links. Users can define when they're available (e.g., Mon-Fri 9am-5pm) and slots outside these windows won't be shown to guests.\n\n## Goal\nAllow organizers to configure per-link availability rules through a visual week calendar interface.\n\n## Architecture\n- Read-only visual week strip showing configured availability blocks\n- Form below with day toggles + time range dropdowns for editing\n- Support multiple rules per link (e.g., weekdays 9-5 AND Saturday 10-2)\n- Default preset: Mon-Fri 09:00-17:00 for new links\n\n## Tech Stack\n- Svelte 5 components with runes\n- Existing UI components (Button, Select, etc.)\n- Tailwind CSS v4 for styling\n\n## Components\n- `WeekAvailabilityDisplay.svelte` - Visual calendar (read-only)\n- `AvailabilityRuleForm.svelte` - Day toggles + time inputs\n- `AvailabilityEditor.svelte` - Wrapper combining display + form(s)\n\n## Integration Points\n- `frontend/src/routes/(dashboard)/booking-links/new/+page.svelte`\n- `frontend/src/routes/(dashboard)/booking-links/[id]/edit/+page.svelte`\n- API: `availability_rules` field already exists in BookingLink schema","status":"closed","priority":2,"issue_type":"epic","owner":"k@knt.li","created_at":"2026-01-25T20:42:51.565353259+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:18:41.050425099+01:00","closed_at":"2026-01-25T21:18:41.050425099+01:00","close_reason":"Closed"}
{"id":"meet-mesh-qod.1","title":"Create WeekAvailabilityDisplay component","description":"Create the read-only visual week calendar component that displays configured availability.\n\n## Files\n- Create: `frontend/src/lib/components/booking/WeekAvailabilityDisplay.svelte`\n\n## Props Interface\n```typescript\ninterface Props {\n  rules: AvailabilityRule[];  // Array of { days_of_week: number[], start_time: string, end_time: string }\n}\n```\n\n## Step 1: Create component file with basic structure\n\n```svelte\n\u003cscript lang=\"ts\"\u003e\n  import type { components } from '$lib/api/types';\n  \n  type AvailabilityRule = components['schemas']['AvailabilityRule'];\n  \n  interface Props {\n    rules: AvailabilityRule[];\n  }\n  \n  let { rules = [] }: Props = $props();\n  \n  const days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\n  const dayIndexMap = [1, 2, 3, 4, 5, 6, 0]; // Map display order to day-of-week numbers\n  \n  // Hours to display (6am to 10pm covers most use cases)\n  const startHour = 6;\n  const endHour = 22;\n  const totalHours = endHour - startHour;\n  \n  // Convert time string 'HH:MM' to decimal hours\n  function timeToDecimal(time: string): number {\n    const [hours, minutes] = time.split(':').map(Number);\n    return hours + minutes / 60;\n  }\n  \n  // Get blocks for a specific day\n  function getBlocksForDay(dayIndex: number): { top: number; height: number }[] {\n    return rules\n      .filter(rule =\u003e rule.days_of_week.includes(dayIndex))\n      .map(rule =\u003e {\n        const start = Math.max(timeToDecimal(rule.start_time), startHour);\n        const end = Math.min(timeToDecimal(rule.end_time), endHour);\n        const top = ((start - startHour) / totalHours) * 100;\n        const height = ((end - start) / totalHours) * 100;\n        return { top, height };\n      })\n      .filter(block =\u003e block.height \u003e 0);\n  }\n\u003c/script\u003e\n\n\u003cdiv class=\"border border-gray-200 rounded-lg overflow-hidden bg-white\"\u003e\n  \u003c!-- Header row with day names --\u003e\n  \u003cdiv class=\"grid grid-cols-[40px_repeat(7,1fr)] border-b border-gray-200\"\u003e\n    \u003cdiv class=\"p-2\"\u003e\u003c/div\u003e\n    {#each days as day}\n      \u003cdiv class=\"p-2 text-center text-xs font-medium text-gray-500 border-l border-gray-100\"\u003e\n        {day}\n      \u003c/div\u003e\n    {/each}\n  \u003c/div\u003e\n  \n  \u003c!-- Calendar body --\u003e\n  \u003cdiv class=\"grid grid-cols-[40px_repeat(7,1fr)] relative\" style=\"height: 200px;\"\u003e\n    \u003c!-- Hour labels --\u003e\n    \u003cdiv class=\"relative\"\u003e\n      {#each [6, 9, 12, 15, 18, 21] as hour}\n        \u003cdiv \n          class=\"absolute left-0 right-0 text-xs text-gray-400 text-right pr-2 -translate-y-1/2\"\n          style=\"top: {((hour - startHour) / totalHours) * 100}%\"\n        \u003e\n          {String(hour).padStart(2, '0')}:00\n        \u003c/div\u003e\n      {/each}\n    \u003c/div\u003e\n    \n    \u003c!-- Day columns --\u003e\n    {#each dayIndexMap as dayIndex, i}\n      \u003cdiv class=\"relative border-l border-gray-100\"\u003e\n        \u003c!-- Grid lines --\u003e\n        {#each [6, 9, 12, 15, 18, 21] as hour}\n          \u003cdiv \n            class=\"absolute left-0 right-0 border-t border-gray-50\"\n            style=\"top: {((hour - startHour) / totalHours) * 100}%\"\n          \u003e\u003c/div\u003e\n        {/each}\n        \n        \u003c!-- Availability blocks --\u003e\n        {#each getBlocksForDay(dayIndex) as block}\n          \u003cdiv\n            class=\"absolute left-1 right-1 bg-indigo-500 rounded-sm opacity-80\"\n            style=\"top: {block.top}%; height: {block.height}%;\"\n          \u003e\u003c/div\u003e\n        {/each}\n      \u003c/div\u003e\n    {/each}\n  \u003c/div\u003e\n  \n  \u003c!-- Empty state --\u003e\n  {#if rules.length === 0}\n    \u003cdiv class=\"absolute inset-0 flex items-center justify-center pointer-events-none\"\u003e\n      \u003cspan class=\"text-sm text-gray-400\"\u003eNo availability set\u003c/span\u003e\n    \u003c/div\u003e\n  {/if}\n\u003c/div\u003e\n```\n\n## Step 2: Run type check\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\nExpected: No errors related to WeekAvailabilityDisplay\n\n## Step 3: Commit\n\n```bash\ngit add frontend/src/lib/components/booking/WeekAvailabilityDisplay.svelte\ngit commit -m 'feat(booking): add WeekAvailabilityDisplay component'\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:43:13.53339865+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:16:40.895072122+01:00","closed_at":"2026-01-25T21:16:40.895072122+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-qod.1","depends_on_id":"meet-mesh-qod","type":"parent-child","created_at":"2026-01-25T20:43:13.536916997+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-qod.2","title":"Create AvailabilityRuleForm component","description":"Create the form component for editing a single availability rule with day toggles and time dropdowns.\n\n## Files\n- Create: `frontend/src/lib/components/booking/AvailabilityRuleForm.svelte`\n\n## Props Interface\n```typescript\ninterface Props {\n  rule: AvailabilityRule;\n  onchange: (rule: AvailabilityRule) =\u003e void;\n  onremove?: () =\u003e void;  // Optional - shown only when removable\n}\n```\n\n## Step 1: Create component file\n\n```svelte\n\u003cscript lang=\"ts\"\u003e\n  import type { components } from '$lib/api/types';\n  \n  type AvailabilityRule = components['schemas']['AvailabilityRule'];\n  \n  interface Props {\n    rule: AvailabilityRule;\n    onchange: (rule: AvailabilityRule) =\u003e void;\n    onremove?: () =\u003e void;\n  }\n  \n  let { rule, onchange, onremove }: Props = $props();\n  \n  const days = [\n    { label: 'Mon', value: 1 },\n    { label: 'Tue', value: 2 },\n    { label: 'Wed', value: 3 },\n    { label: 'Thu', value: 4 },\n    { label: 'Fri', value: 5 },\n    { label: 'Sat', value: 6 },\n    { label: 'Sun', value: 0 },\n  ];\n  \n  // Generate time options in 15-minute intervals, 24h format\n  const timeOptions: string[] = [];\n  for (let h = 0; h \u003c 24; h++) {\n    for (let m = 0; m \u003c 60; m += 15) {\n      timeOptions.push(`${String(h).padStart(2, '0')}:${String(m).padStart(2, '0')}`);\n    }\n  }\n  \n  function toggleDay(dayValue: number) {\n    const currentDays = rule.days_of_week;\n    const newDays = currentDays.includes(dayValue)\n      ? currentDays.filter(d =\u003e d !== dayValue)\n      : [...currentDays, dayValue].sort((a, b) =\u003e a - b);\n    onchange({ ...rule, days_of_week: newDays });\n  }\n  \n  function updateTime(field: 'start_time' | 'end_time', value: string) {\n    onchange({ ...rule, [field]: value });\n  }\n\u003c/script\u003e\n\n\u003cdiv class=\"space-y-3\"\u003e\n  \u003cdiv class=\"flex items-center justify-between\"\u003e\n    \u003c!-- Day toggles --\u003e\n    \u003cdiv class=\"flex gap-1\"\u003e\n      {#each days as day}\n        \u003cbutton\n          type=\"button\"\n          onclick={() =\u003e toggleDay(day.value)}\n          class=\"px-2.5 py-1.5 text-xs font-medium rounded-md transition-colors\n            {rule.days_of_week.includes(day.value)\n              ? 'bg-indigo-500 text-white'\n              : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}\"\n        \u003e\n          {day.label}\n        \u003c/button\u003e\n      {/each}\n    \u003c/div\u003e\n    \n    \u003c!-- Remove button (if removable) --\u003e\n    {#if onremove}\n      \u003cbutton\n        type=\"button\"\n        onclick={onremove}\n        class=\"p-1 text-gray-400 hover:text-red-500\"\n        aria-label=\"Remove time window\"\n      \u003e\n        \u003csvg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"\u003e\n          \u003cpath stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" /\u003e\n        \u003c/svg\u003e\n      \u003c/button\u003e\n    {/if}\n  \u003c/div\u003e\n  \n  \u003c!-- Time range --\u003e\n  \u003cdiv class=\"flex items-center gap-2\"\u003e\n    \u003cselect\n      value={rule.start_time}\n      onchange={(e) =\u003e updateTime('start_time', e.currentTarget.value)}\n      class=\"block w-28 h-9 rounded-md border border-gray-300 px-2 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n    \u003e\n      {#each timeOptions as time}\n        \u003coption value={time}\u003e{time}\u003c/option\u003e\n      {/each}\n    \u003c/select\u003e\n    \u003cspan class=\"text-sm text-gray-500\"\u003eto\u003c/span\u003e\n    \u003cselect\n      value={rule.end_time}\n      onchange={(e) =\u003e updateTime('end_time', e.currentTarget.value)}\n      class=\"block w-28 h-9 rounded-md border border-gray-300 px-2 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n    \u003e\n      {#each timeOptions as time}\n        \u003coption value={time}\u003e{time}\u003c/option\u003e\n      {/each}\n    \u003c/select\u003e\n  \u003c/div\u003e\n\u003c/div\u003e\n```\n\n## Step 2: Run type check\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\nExpected: No errors related to AvailabilityRuleForm\n\n## Step 3: Commit\n\n```bash\ngit add frontend/src/lib/components/booking/AvailabilityRuleForm.svelte\ngit commit -m 'feat(booking): add AvailabilityRuleForm component'\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:46:32.942141053+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:16:40.975879463+01:00","closed_at":"2026-01-25T21:16:40.975879463+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-qod.2","depends_on_id":"meet-mesh-qod","type":"parent-child","created_at":"2026-01-25T20:46:32.945407546+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-qod.3","title":"Create AvailabilityEditor wrapper component","description":"Create the wrapper component that combines WeekAvailabilityDisplay and AvailabilityRuleForm(s).\n\n## Files\n- Create: `frontend/src/lib/components/booking/AvailabilityEditor.svelte`\n- Create: `frontend/src/lib/components/booking/index.ts` (barrel export)\n\n## Props Interface\n```typescript\ninterface Props {\n  rules: AvailabilityRule[];\n  onchange: (rules: AvailabilityRule[]) =\u003e void;\n}\n```\n\n## Step 1: Create AvailabilityEditor component\n\n```svelte\n\u003cscript lang=\"ts\"\u003e\n  import type { components } from '$lib/api/types';\n  import WeekAvailabilityDisplay from './WeekAvailabilityDisplay.svelte';\n  import AvailabilityRuleForm from './AvailabilityRuleForm.svelte';\n  \n  type AvailabilityRule = components['schemas']['AvailabilityRule'];\n  \n  interface Props {\n    rules: AvailabilityRule[];\n    onchange: (rules: AvailabilityRule[]) =\u003e void;\n  }\n  \n  let { rules, onchange }: Props = $props();\n  \n  function updateRule(index: number, updatedRule: AvailabilityRule) {\n    const newRules = rules.map((r, i) =\u003e i === index ? updatedRule : r);\n    onchange(newRules);\n  }\n  \n  function removeRule(index: number) {\n    const newRules = rules.filter((_, i) =\u003e i !== index);\n    onchange(newRules);\n  }\n  \n  function addRule() {\n    const newRule: AvailabilityRule = {\n      days_of_week: [1, 2, 3, 4, 5],  // Mon-Fri default\n      start_time: '09:00',\n      end_time: '17:00'\n    };\n    onchange([...rules, newRule]);\n  }\n\u003c/script\u003e\n\n\u003cdiv class=\"space-y-4\"\u003e\n  \u003clabel class=\"block text-sm font-medium text-gray-700 dark:text-gray-200\"\u003e\n    Availability\n  \u003c/label\u003e\n  \n  \u003c!-- Visual calendar display --\u003e\n  \u003cWeekAvailabilityDisplay {rules} /\u003e\n  \n  \u003c!-- Rule forms --\u003e\n  \u003cdiv class=\"space-y-3\"\u003e\n    {#each rules as rule, index (index)}\n      \u003cdiv class=\"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg\"\u003e\n        \u003cAvailabilityRuleForm\n          {rule}\n          onchange={(r) =\u003e updateRule(index, r)}\n          onremove={rules.length \u003e 1 ? () =\u003e removeRule(index) : undefined}\n        /\u003e\n      \u003c/div\u003e\n    {/each}\n  \u003c/div\u003e\n  \n  \u003c!-- Add another rule --\u003e\n  \u003cbutton\n    type=\"button\"\n    onclick={addRule}\n    class=\"text-sm text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300 font-medium\"\n  \u003e\n    + Add another time window\n  \u003c/button\u003e\n\u003c/div\u003e\n```\n\n## Step 2: Create barrel export\n\n```typescript\n// frontend/src/lib/components/booking/index.ts\nexport { default as AvailabilityEditor } from './AvailabilityEditor.svelte';\nexport { default as AvailabilityRuleForm } from './AvailabilityRuleForm.svelte';\nexport { default as WeekAvailabilityDisplay } from './WeekAvailabilityDisplay.svelte';\n```\n\n## Step 3: Run type check\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\nExpected: No errors\n\n## Step 4: Commit\n\n```bash\ngit add frontend/src/lib/components/booking/\ngit commit -m 'feat(booking): add AvailabilityEditor wrapper component'\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:46:45.450195814+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:16:41.050495768+01:00","closed_at":"2026-01-25T21:16:41.050495768+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-qod.3","depends_on_id":"meet-mesh-qod","type":"parent-child","created_at":"2026-01-25T20:46:45.453072461+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-qod.4","title":"Integrate AvailabilityEditor into booking link create page","description":"Add the AvailabilityEditor to the create booking link form with default Mon-Fri 9-5 preset.\n\n## Files\n- Modify: `frontend/src/routes/(dashboard)/booking-links/new/+page.svelte`\n\n## Step 1: Add import and state\n\nAdd to the script section after existing imports:\n\n```typescript\nimport { AvailabilityEditor } from '$lib/components/booking';\n\ntype AvailabilityRule = components['schemas']['AvailabilityRule'];\n```\n\nAdd to state declarations (after `customFields`):\n\n```typescript\nlet availabilityRules = $state\u003cAvailabilityRule[]\u003e([\n  { days_of_week: [1, 2, 3, 4, 5], start_time: '09:00', end_time: '17:00' }\n]);\n```\n\n## Step 2: Add component to form\n\nInsert between the Description textarea and Custom Fields section:\n\n```svelte\n\u003c!-- Availability --\u003e\n\u003cAvailabilityEditor \n  rules={availabilityRules} \n  onchange={(rules) =\u003e availabilityRules = rules} \n/\u003e\n```\n\n## Step 3: Update API call\n\nModify the `api.POST` body to include availability_rules:\n\n```typescript\nbody: {\n  name,\n  description: description || undefined,\n  availability_rules: availabilityRules.length \u003e 0 ? availabilityRules : undefined,\n  custom_fields: customFields.length \u003e 0 ? customFields : undefined\n}\n```\n\n## Step 4: Run type check\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\nExpected: No errors\n\n## Step 5: Manual test\n\n1. Run `cd frontend \u0026\u0026 pnpm dev`\n2. Navigate to /booking-links/new\n3. Verify the availability editor appears with Mon-Fri 9-5 preset\n4. Toggle days, change times, add another rule\n5. Create a booking link and verify it saves\n\n## Step 6: Commit\n\n```bash\ngit add frontend/src/routes/\\(dashboard\\)/booking-links/new/+page.svelte\ngit commit -m 'feat(booking): integrate AvailabilityEditor into create page'\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:47:00.088885931+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:18:08.957847901+01:00","closed_at":"2026-01-25T21:18:08.957847901+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-qod.4","depends_on_id":"meet-mesh-qod","type":"parent-child","created_at":"2026-01-25T20:47:00.091320982+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-qod.5","title":"Integrate AvailabilityEditor into booking link edit page","description":"Add the AvailabilityEditor to the edit booking link form, loading existing rules from the API.\n\n## Files\n- Modify: `frontend/src/routes/(dashboard)/booking-links/[id]/edit/+page.svelte`\n\n## Step 1: Add import and state\n\nAdd to imports:\n\n```typescript\nimport { AvailabilityEditor } from '$lib/components/booking';\n\ntype AvailabilityRule = components['schemas']['AvailabilityRule'];\n```\n\nAdd to state declarations (after `customFields`):\n\n```typescript\nlet availabilityRules = $state\u003cAvailabilityRule[]\u003e([]);\n```\n\n## Step 2: Load existing rules in onMount\n\nIn the onMount callback, after setting other fields, add:\n\n```typescript\navailabilityRules = data.availability_rules || [\n  { days_of_week: [1, 2, 3, 4, 5], start_time: '09:00', end_time: '17:00' }\n];\n```\n\nNote: Falls back to default if no rules exist (for existing links created before this feature).\n\n## Step 3: Add component to form\n\nInsert between the Description textarea and Custom Fields section:\n\n```svelte\n\u003c!-- Availability --\u003e\n\u003cAvailabilityEditor \n  rules={availabilityRules} \n  onchange={(rules) =\u003e availabilityRules = rules} \n/\u003e\n```\n\n## Step 4: Update API call\n\nModify the `api.PUT` body to include availability_rules:\n\n```typescript\nbody: {\n  name,\n  status: Number(status) as LinkStatus,\n  description: description || undefined,\n  availability_rules: availabilityRules.length \u003e 0 ? availabilityRules : undefined,\n  custom_fields: customFields.length \u003e 0 ? customFields : undefined\n}\n```\n\n## Step 5: Run type check\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\nExpected: No errors\n\n## Step 6: Manual test\n\n1. Run `cd frontend \u0026\u0026 pnpm dev`\n2. Navigate to /booking-links/{id}/edit for an existing link\n3. Verify the availability editor loads with existing rules (or defaults)\n4. Modify availability and save\n5. Reload and verify changes persisted\n\n## Step 7: Commit\n\n```bash\ngit add frontend/src/routes/\\(dashboard\\)/booking-links/\\[id\\]/edit/+page.svelte\ngit commit -m 'feat(booking): integrate AvailabilityEditor into edit page'\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:47:15.26560205+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:18:09.05309758+01:00","closed_at":"2026-01-25T21:18:09.05309758+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-qod.5","depends_on_id":"meet-mesh-qod","type":"parent-child","created_at":"2026-01-25T20:47:15.26815122+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-qod.6","title":"End-to-end verification of availability rules","description":"Verify the full flow works: create link with rules â†’ guest sees only slots within rules.\n\n## Prerequisites\n- All previous tasks completed\n- Backend already supports availability_rules filtering\n\n## Step 1: Build and run full stack\n\n```bash\nmake build\n./meet-mesh  # or however you run the server\n```\n\n## Step 2: Create a booking link with specific availability\n\n1. Log in as organizer\n2. Create new booking link with:\n   - Name: 'Morning Meetings'\n   - Availability: Mon-Fri 09:00-12:00 only\n3. Note the link slug\n\n## Step 3: Verify guest view\n\n1. Open the public booking link in incognito: /p/{slug}\n2. Verify:\n   - Slots only appear Mon-Fri\n   - Slots only appear between 09:00-12:00\n   - No afternoon slots visible\n   - Weekend dates show 'No availability'\n\n## Step 4: Test multiple rules\n\n1. Edit the booking link\n2. Add another time window: Sat 10:00-14:00\n3. Save and verify guest view shows Saturday slots\n\n## Step 5: Test edge cases\n\n- Empty availability (remove all rules) â†’ should show no slots\n- Overlapping rules on same day â†’ should show union of times\n- Rule outside calendar busy time â†’ should show available\n\n## Step 6: Final commit (if any fixes needed)\n\n```bash\ngit add -A\ngit commit -m 'fix(booking): address e2e issues with availability rules'\n```\n\n## Step 7: Sync and push\n\n```bash\nbd sync\ngit push\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:47:26.996593601+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:18:40.95599784+01:00","closed_at":"2026-01-25T21:18:40.95599784+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-qod.6","depends_on_id":"meet-mesh-qod","type":"parent-child","created_at":"2026-01-25T20:47:26.999461039+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-rn4","title":"Add cursor: pointer to all buttons and clickable components","description":"Ensure all buttons and button-like components in the frontend have cursor: pointer for proper UX feedback. This includes the Button component, navigation links, icon buttons, and other clickable elements.","status":"closed","priority":3,"issue_type":"epic","owner":"k@knt.li","created_at":"2026-01-25T20:23:43.672500516+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:20:23.227092016+01:00","closed_at":"2026-01-25T21:20:23.227092016+01:00","close_reason":"Closed"}
{"id":"meet-mesh-rn4.1","title":"Add global cursor: pointer CSS rule for button elements","description":"Add a global CSS rule in app.css to set cursor: pointer on all button elements. This provides a DRY solution that catches all native button elements.\n\n**File:** frontend/src/app.css\n\n**Change:**\nAdd after the body styles:\n```css\nbutton {\n  cursor: pointer;\n}\n```\n\n**Test:** Verify buttons show pointer cursor on hover.","status":"closed","priority":3,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:23:54.207170554+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:19:50.004152544+01:00","closed_at":"2026-01-25T21:19:50.004152544+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-rn4.1","depends_on_id":"meet-mesh-rn4","type":"parent-child","created_at":"2026-01-25T20:23:54.209735948+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-rn4.2","title":"Add cursor-pointer to Button.svelte Tailwind classes","description":"Add cursor-pointer to the Button component's base Tailwind classes for explicitness and to ensure it works even if global styles are overridden.\n\n**File:** frontend/src/lib/components/ui/Button.svelte:28-29\n\n**Change:**\n```svelte\nconst baseClasses =\n  'cursor-pointer inline-flex items-center justify-center font-bold transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50';\n```\n\n**Test:** Verify Button component shows pointer cursor on hover.","status":"closed","priority":3,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:23:59.999086698+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:19:50.09642733+01:00","closed_at":"2026-01-25T21:19:50.09642733+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-rn4.2","depends_on_id":"meet-mesh-rn4","type":"parent-child","created_at":"2026-01-25T20:24:00.001484651+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-rn4.3","title":"Add cursor: pointer to Sidebar navigation items","description":"Add cursor: pointer to .nav-item and .logo link styles in Sidebar.svelte.\n\n**File:** frontend/src/lib/components/dashboard/Sidebar.svelte\n\n**Changes:**\n\n1. Add to .logo styles (line 133):\n```css\n.logo {\n  cursor: pointer;\n  display: flex;\n  /* ... rest unchanged */\n}\n```\n\n2. Add to .nav-item styles (line 182):\n```css\n.nav-item {\n  cursor: pointer;\n  display: flex;\n  /* ... rest unchanged */\n}\n```\n\n**Test:** Verify sidebar logo and nav links show pointer cursor on hover.","status":"closed","priority":3,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:24:06.46057094+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:19:50.188830097+01:00","closed_at":"2026-01-25T21:19:50.188830097+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-rn4.3","depends_on_id":"meet-mesh-rn4","type":"parent-child","created_at":"2026-01-25T20:24:06.463105143+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-rn4.4","title":"Add cursor: pointer to MobileMenu navigation items","description":"Add cursor: pointer to .nav-item and .logo link styles in MobileMenu.svelte.\n\n**File:** frontend/src/lib/components/dashboard/MobileMenu.svelte\n\n**Changes:**\n\n1. Add to .logo styles (line 243):\n```css\n.logo {\n  cursor: pointer;\n  display: flex;\n  /* ... rest unchanged */\n}\n```\n\n2. Add to .nav-item styles (line 287):\n```css\n.nav-item {\n  cursor: pointer;\n  display: flex;\n  /* ... rest unchanged */\n}\n```\n\n**Test:** Open mobile menu and verify logo and nav links show pointer cursor on hover.","status":"closed","priority":3,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:24:10.827337948+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:19:50.274944306+01:00","closed_at":"2026-01-25T21:19:50.274944306+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-rn4.4","depends_on_id":"meet-mesh-rn4","type":"parent-child","created_at":"2026-01-25T20:24:10.829921562+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-rn4.5","title":"Verify cursor: pointer across all clickable components","description":"Manual verification that all clickable components show cursor: pointer.\n\n**Checklist:**\n\nComponents to verify:\n- [ ] Button component (all variants: primary, secondary, ghost, danger)\n- [ ] IconButton component  \n- [ ] ThemeToggle button\n- [ ] Sidebar nav items and logo\n- [ ] Sidebar user card/logout\n- [ ] MobileMenu hamburger button\n- [ ] MobileMenu nav items and logo\n- [ ] MobileMenu logout button\n- [ ] TimeSlotList time slot buttons\n- [ ] VoteButtons (Yes/No/Maybe)\n- [ ] PollOptionManager delete button\n- [ ] MiniCalendar day buttons and navigation\n- [ ] Select component trigger and items\n\n**Test:**\n1. Run `cd frontend \u0026\u0026 pnpm dev`\n2. Navigate through dashboard pages\n3. Hover over each clickable element\n4. Verify cursor changes to pointer\n\n**Expected:** All buttons and clickable elements show pointer cursor on hover.","status":"closed","priority":3,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T20:24:23.690671619+01:00","created_by":"kolaente","updated_at":"2026-01-25T21:20:23.120954611+01:00","closed_at":"2026-01-25T21:20:23.120954611+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-rn4.5","depends_on_id":"meet-mesh-rn4","type":"parent-child","created_at":"2026-01-25T20:24:23.693907186+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-urc","title":"Add HTML page titles across all pages","description":"No pages currently set HTML \u003ctitle\u003e tags. Browser tabs show generic/no titles.\n\n## Goal\nEvery page should have a descriptive HTML title in the format: \"{Page Title} | Meet Mesh\"\n\n## Approach\nTwo-part fix:\n1. Modify DashboardHeader to also set \u003csvelte:head\u003e\u003ctitle\u003e - fixes 10 dashboard pages at once\n2. Add \u003csvelte:head\u003e to each non-dashboard page individually\n\n---\n\n## Part 1: DashboardHeader (fixes 10 pages)\n\n**File:** `frontend/src/lib/components/dashboard/DashboardHeader.svelte`\n\nAdd at the top of the component (after script):\n\n```svelte\n\u003csvelte:head\u003e\n  \u003ctitle\u003e{title} | Meet Mesh\u003c/title\u003e\n\u003c/svelte:head\u003e\n```\n\n**Pages automatically fixed:**\n- / (Dashboard)\n- /booking-links\n- /booking-links/new\n- /booking-links/[id] (dynamic: link name)\n- /booking-links/[id]/edit\n- /polls\n- /polls/new\n- /polls/[id] (dynamic: poll name)\n- /polls/[id]/edit\n- /settings\n\n---\n\n## Part 2: Public pages (4 pages)\n\n### /p/booking/[slug]\n**File:** `frontend/src/routes/(public)/p/booking/[slug]/+page.svelte`\nAdd after data loads:\n```svelte\n\u003csvelte:head\u003e\n  \u003ctitle\u003e{link?.name || 'Book a Time'} | Meet Mesh\u003c/title\u003e\n\u003c/svelte:head\u003e\n```\n\n### /p/booking/[slug]/confirmed\n**File:** `frontend/src/routes/(public)/p/booking/[slug]/confirmed/+page.svelte`\n```svelte\n\u003csvelte:head\u003e\n  \u003ctitle\u003eBooking Confirmed | Meet Mesh\u003c/title\u003e\n\u003c/svelte:head\u003e\n```\n\n### /p/poll/[slug]\n**File:** `frontend/src/routes/(public)/p/poll/[slug]/+page.svelte`\n```svelte\n\u003csvelte:head\u003e\n  \u003ctitle\u003e{poll?.name || 'Vote'} | Meet Mesh\u003c/title\u003e\n\u003c/svelte:head\u003e\n```\n\n### /p/poll/[slug]/results\n**File:** `frontend/src/routes/(public)/p/poll/[slug]/results/+page.svelte`\n```svelte\n\u003csvelte:head\u003e\n  \u003ctitle\u003e{poll?.name ? poll.name + ' - Results' : 'Poll Results'} | Meet Mesh\u003c/title\u003e\n\u003c/svelte:head\u003e\n```\n\n---\n\n## Part 3: Auth pages (2 pages)\n\n### /auth/login\n**File:** `frontend/src/routes/auth/login/+page.svelte`\n```svelte\n\u003csvelte:head\u003e\n  \u003ctitle\u003eSign In | Meet Mesh\u003c/title\u003e\n\u003c/svelte:head\u003e\n```\n\n### /auth/callback\n**File:** `frontend/src/routes/auth/callback/+page.svelte`\n```svelte\n\u003csvelte:head\u003e\n  \u003ctitle\u003eSigning In... | Meet Mesh\u003c/title\u003e\n\u003c/svelte:head\u003e\n```\n\n---\n\n## Part 4: Action pages (2 pages)\n\n### /actions/approve\n**File:** `frontend/src/routes/(actions)/actions/approve/+page.svelte`\n```svelte\n\u003csvelte:head\u003e\n  \u003ctitle\u003eApprove Booking | Meet Mesh\u003c/title\u003e\n\u003c/svelte:head\u003e\n```\n\n### /actions/decline\n**File:** `frontend/src/routes/(actions)/actions/decline/+page.svelte`\n```svelte\n\u003csvelte:head\u003e\n  \u003ctitle\u003eDecline Booking | Meet Mesh\u003c/title\u003e\n\u003c/svelte:head\u003e\n```\n\n---\n\n## Part 5: Error pages (if they exist)\n\nCheck for +error.svelte files and add appropriate titles.\n\n---\n\n## Verification\n\n1. Run `cd frontend \u0026\u0026 pnpm check` - no type errors\n2. Run `cd frontend \u0026\u0026 pnpm dev`\n3. Visit each page and verify browser tab shows correct title\n4. Check dynamic pages update title when data loads\n\n## Commit\n\n```bash\ngit add frontend/\ngit commit -m 'feat: add HTML page titles across all pages'\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:47:00.245036471+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:41:59.392394657+01:00","closed_at":"2026-01-26T10:41:59.392394657+01:00","close_reason":"Closed"}
{"id":"meet-mesh-uy0","title":"Booking Confirmation Toggle","description":"Add a setting to booking links that controls whether bookings need organizer approval before being confirmed. When auto_confirm=false (requires confirmation), bookings stay pending until approved. The system already has infrastructure for this - we need to expose it in the UI and fix the organizer email.","notes":"# Implementation Plan Overview\n\n## Critical Files for Implementation\n\n1. api/mailer.go - Update SendBookingPending to accept organizer User\n2. api/handler_public_booking.go - Pass organizer to mailer when booking requires confirmation\n3. frontend/.../booking-links/new/+page.svelte - Add auto-confirm checkbox\n4. frontend/.../booking-links/[id]/edit/+page.svelte - Add auto-confirm checkbox\n5. frontend/.../BookingPage.svelte - Pass booking status to confirmation page\n6. frontend/.../confirmed/+page.svelte - Show pending vs confirmed UI\n\n## Key Architecture Insight\n\nThe auto_confirm field already exists in the BookingLink model and OpenAPI spec. The current default is false (requires confirmation), but the mailer has a hardcoded placeholder email. This plan fixes the organizer email issue, exposes the existing setting in the UI, and updates the confirmation page to reflect the booking state.\n\n## Task Dependencies\n\nTask 1 (mailer signature) -\u003e Task 2 (handler uses new signature)\nTask 3 (new form checkbox) -\u003e Task 4 (edit form checkbox)\nTask 5 (pass status to confirmation) -\u003e Task 6 (confirmation page UI)\nTasks 2, 4, 6 -\u003e Task 7 (manual testing)","status":"closed","priority":1,"issue_type":"epic","owner":"k@knt.li","created_at":"2026-01-26T14:52:40.841684004+01:00","created_by":"kolaente","updated_at":"2026-01-26T17:22:47.963796559+01:00","closed_at":"2026-01-26T17:22:47.963796559+01:00","close_reason":"Closed"}
{"id":"meet-mesh-uy0.1","title":"Update SendBookingPending to accept organizer User","description":"Update the mailer to accept the organizer User parameter instead of using a hardcoded email placeholder.\n\n**File:** `/home/konrad/www/meet-mesh/api/mailer.go`\n\n**Change:** Update `SendBookingPending` function signature from:\n```go\nfunc (m *Mailer) SendBookingPending(booking *Booking, link *BookingLink) error\n```\n\nTo:\n```go\nfunc (m *Mailer) SendBookingPending(booking *Booking, link *BookingLink, organizer *User) error\n```\n\nAnd update line 77 from:\n```go\nreturn m.send(\"organizer@example.com\", \"New Booking Request: \"+link.Name, body)\n```\n\nTo:\n```go\nreturn m.send(organizer.Email, \"New Booking Request: \"+link.Name, body)\n```\n\n**Commit:** `git commit -m \"feat(mailer): accept organizer user for pending booking email\"`","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:52:48.411888641+01:00","created_by":"kolaente","updated_at":"2026-01-26T17:22:47.327630067+01:00","closed_at":"2026-01-26T17:22:47.327630067+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-uy0.1","depends_on_id":"meet-mesh-uy0","type":"parent-child","created_at":"2026-01-26T14:52:48.414370831+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-uy0.2","title":"Update CreateBooking handler to pass organizer to mailer","description":"Update the public booking handler to fetch the organizer user and pass it to the mailer.\n\n**File:** `/home/konrad/www/meet-mesh/api/handler_public_booking.go`\n\n**Change:** Update the else branch around line 236-240. Replace:\n```go\n} else {\n    if h.mailer != nil {\n        h.mailer.SendBookingPending(\u0026booking, \u0026link)\n    }\n}\n```\n\nWith:\n```go\n} else {\n    if h.mailer != nil {\n        // Fetch organizer for email\n        var organizer User\n        if err := h.db.First(\u0026organizer, link.UserID).Error; err == nil {\n            h.mailer.SendBookingPending(\u0026booking, \u0026link, \u0026organizer)\n        }\n    }\n}\n```\n\n**Verify:** `go build ./...` in the api directory should succeed.\n\n**Commit:** `git commit -m \"feat(booking): pass organizer to pending email notification\"`","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:52:55.338382496+01:00","created_by":"kolaente","updated_at":"2026-01-26T17:22:47.420293566+01:00","closed_at":"2026-01-26T17:22:47.420293566+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-uy0.2","depends_on_id":"meet-mesh-uy0","type":"parent-child","created_at":"2026-01-26T14:52:55.35657343+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-uy0.2","depends_on_id":"meet-mesh-uy0.1","type":"blocks","created_at":"2026-01-26T14:52:55.36180873+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-uy0.3","title":"Add auto-confirm checkbox to new booking link form","description":"Add a checkbox to control auto-confirm behavior when creating a new booking link.\n\n**File:** `/home/konrad/www/meet-mesh/frontend/src/routes/(dashboard)/booking-links/new/+page.svelte`\n\n**Step 1:** Add state variable after line 20 (after `let bufferMinutes`):\n```typescript\nlet autoConfirm = $state(true);\n```\n\n**Step 2:** Add checkbox UI after the Buffer Time select (around line 141, before `\u003c!-- Availability --\u003e`):\n```svelte\n\u003c!-- Confirmation Setting --\u003e\n\u003cdiv class=\"pt-2\"\u003e\n    \u003cCheckbox\n        bind:checked={autoConfirm}\n        label=\"Auto-confirm bookings\"\n        description=\"When disabled, bookings require your approval before guests receive confirmation\"\n    /\u003e\n\u003c/div\u003e\n```\n\n**Step 3:** Update the API request body (around line 80) to include:\n```typescript\nauto_confirm: autoConfirm,\n```\n\n**Verify:** `cd frontend \u0026\u0026 pnpm check` should pass.\n\n**Commit:** `git commit -m \"feat(ui): add auto-confirm toggle to new booking link form\"`","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:04.72845833+01:00","created_by":"kolaente","updated_at":"2026-01-26T17:22:47.510717619+01:00","closed_at":"2026-01-26T17:22:47.510717619+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-uy0.3","depends_on_id":"meet-mesh-uy0","type":"parent-child","created_at":"2026-01-26T14:53:04.731173137+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-uy0.4","title":"Add auto-confirm checkbox to edit booking link form","description":"Add a checkbox to control auto-confirm behavior when editing a booking link.\n\n**File:** `/home/konrad/www/meet-mesh/frontend/src/routes/(dashboard)/booking-links/[id]/edit/+page.svelte`\n\n**Step 1:** Add state variable after line 26 (after `let availabilityRules`):\n```typescript\nlet autoConfirm = $state(true);\n```\n\n**Step 2:** Load value from API in onMount (after line 79, after loading availabilityRules):\n```typescript\nautoConfirm = data.auto_confirm ?? true;\n```\n\n**Step 3:** Add checkbox UI after Buffer Time select (before Availability section):\n```svelte\n\u003c!-- Confirmation Setting --\u003e\n\u003cdiv class=\"pt-2\"\u003e\n    \u003cCheckbox\n        bind:checked={autoConfirm}\n        label=\"Auto-confirm bookings\"\n        description=\"When disabled, bookings require your approval before guests receive confirmation\"\n    /\u003e\n\u003c/div\u003e\n```\n\n**Step 4:** Update the PUT request body (around line 117) to include:\n```typescript\nauto_confirm: autoConfirm,\n```\n\n**Verify:** `cd frontend \u0026\u0026 pnpm check` should pass.\n\n**Commit:** `git commit -m \"feat(ui): add auto-confirm toggle to edit booking link form\"`","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:11.872240744+01:00","created_by":"kolaente","updated_at":"2026-01-26T17:22:47.6009146+01:00","closed_at":"2026-01-26T17:22:47.6009146+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-uy0.4","depends_on_id":"meet-mesh-uy0","type":"parent-child","created_at":"2026-01-26T14:53:11.874659295+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-uy0.4","depends_on_id":"meet-mesh-uy0.3","type":"blocks","created_at":"2026-01-26T14:53:11.878341888+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-uy0.5","title":"Pass booking status to confirmation page","description":"Update BookingPage component to pass the booking status to the confirmation page via URL parameter.\n\n**File:** `/home/konrad/www/meet-mesh/frontend/src/lib/components/booking/BookingPage.svelte`\n\n**Change:** Update line 125 from:\n```typescript\ngoto(\\`/p/booking/\\${slug}/confirmed\\`);\n```\n\nTo:\n```typescript\n// Redirect to confirmed page with status\nconst status = response.data?.status;\ngoto(\\`/p/booking/\\${slug}/confirmed?status=\\${status}\\`);\n```\n\n**Verify:** `cd frontend \u0026\u0026 pnpm check` should pass.\n\n**Commit:** `git commit -m \"feat(booking): pass booking status to confirmation page\"`","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:33.14906621+01:00","created_by":"kolaente","updated_at":"2026-01-26T17:22:47.693980033+01:00","closed_at":"2026-01-26T17:22:47.693980033+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-uy0.5","depends_on_id":"meet-mesh-uy0","type":"parent-child","created_at":"2026-01-26T14:53:33.151637193+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-uy0.6","title":"Update confirmation page to show pending vs confirmed state","description":"Update the confirmation page to read status from URL and display different UI for pending vs confirmed bookings.\n\n**File:** `/home/konrad/www/meet-mesh/frontend/src/routes/(public)/p/booking/[slug]/confirmed/+page.svelte`\n\n**Replace entire file with:**\n```svelte\n\u003cscript lang=\"ts\"\u003e\n    import { page } from '$app/state';\n    import { Card } from '$lib/components/ui';\n\n    // BookingStatus: 1=pending, 2=confirmed, 3=declined\n    const status = $derived(Number(page.url.searchParams.get('status')) || 2);\n    const isPending = $derived(status === 1);\n\u003c/script\u003e\n\n\u003csvelte:head\u003e\n    \u003ctitle\u003e{isPending ? 'Booking Pending' : 'Booking Confirmed'} | Meet Mesh\u003c/title\u003e\n\u003c/svelte:head\u003e\n\n\u003cCard class=\"text-center py-8\"\u003e\n    {#if isPending}\n        \u003cdiv class=\"text-amber-500 mb-4\"\u003e\n            \u003csvg class=\"w-16 h-16 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"\u003e\n                \u003cpath stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" /\u003e\n            \u003c/svg\u003e\n        \u003c/div\u003e\n        \u003ch1 class=\"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-2\"\u003eBooking Pending Approval\u003c/h1\u003e\n        \u003cp class=\"text-gray-600 dark:text-gray-400\"\u003eYour booking request has been submitted.\u003c/p\u003e\n        \u003cp class=\"text-gray-600 dark:text-gray-400 mt-2\"\u003eYou will receive a confirmation email once the organizer approves your request.\u003c/p\u003e\n    {:else}\n        \u003cdiv class=\"text-green-500 mb-4\"\u003e\n            \u003csvg class=\"w-16 h-16 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"\u003e\n                \u003cpath stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" /\u003e\n            \u003c/svg\u003e\n        \u003c/div\u003e\n        \u003ch1 class=\"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-2\"\u003eBooking Confirmed!\u003c/h1\u003e\n        \u003cp class=\"text-gray-600 dark:text-gray-400\"\u003eYou will receive a confirmation email shortly.\u003c/p\u003e\n    {/if}\n\u003c/Card\u003e\n```\n\n**Verify:** `cd frontend \u0026\u0026 pnpm check \u0026\u0026 pnpm build` should succeed.\n\n**Commit:** `git commit -m \"feat(ui): show pending vs confirmed state on booking confirmation page\"`","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:44.949342427+01:00","created_by":"kolaente","updated_at":"2026-01-26T17:22:47.78244956+01:00","closed_at":"2026-01-26T17:22:47.78244956+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-uy0.6","depends_on_id":"meet-mesh-uy0","type":"parent-child","created_at":"2026-01-26T14:53:44.952437358+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-uy0.6","depends_on_id":"meet-mesh-uy0.5","type":"blocks","created_at":"2026-01-26T14:53:44.956238841+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-uy0.7","title":"Manual end-to-end testing","description":"Perform manual end-to-end testing of the booking confirmation toggle feature.\n\n**Test Scenario 1: Auto-confirm enabled (default behavior)**\n1. Create a new booking link with auto-confirm enabled (checkbox checked)\n2. Open the public booking page at `/p/booking/{slug}`\n3. Select a time slot and submit booking\n4. **Verify:** Confirmation page shows \"Booking Confirmed!\" with green checkmark\n5. **Verify:** Guest receives confirmation email (if SMTP configured)\n\n**Test Scenario 2: Auto-confirm disabled (requires approval)**\n1. Edit the booking link, uncheck auto-confirm\n2. Open the public booking page\n3. Select a time slot and submit booking\n4. **Verify:** Confirmation page shows \"Booking Pending Approval\" with amber clock icon\n5. **Verify:** Organizer receives email with Approve/Decline buttons (if SMTP configured)\n6. Click Approve link in email\n7. **Verify:** Guest receives confirmation email\n\n**Run the application:**\n```bash\nmake build \u0026\u0026 ./api/meet-mesh\n```\n\n**Final commit after testing:**\n```bash\ngit add -A\ngit commit -m \"feat: booking confirmation toggle - complete implementation\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:54.440339164+01:00","created_by":"kolaente","updated_at":"2026-01-26T17:22:47.874468285+01:00","closed_at":"2026-01-26T17:22:47.874468285+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-uy0.7","depends_on_id":"meet-mesh-uy0","type":"parent-child","created_at":"2026-01-26T14:53:54.442924106+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-uy0.7","depends_on_id":"meet-mesh-uy0.2","type":"blocks","created_at":"2026-01-26T14:53:54.446909391+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-uy0.7","depends_on_id":"meet-mesh-uy0.4","type":"blocks","created_at":"2026-01-26T14:53:54.450950207+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-uy0.7","depends_on_id":"meet-mesh-uy0.6","type":"blocks","created_at":"2026-01-26T14:53:54.455797747+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-v42","title":"Fold time slot selection into date selection","description":"# Fold Time Slot Selection into Date Selection - Implementation Plan\n\n**Goal:** Make the booking flow more fluid by showing time slots directly below the selected date, eliminating the separate step 2.\n\n**Architecture:** Modify BookingPage.svelte to show TimeSlotList inline with DateCalendar when a date is selected. Remove the 'time' step from the step state machine. Use side-by-side layout on desktop, stacked on mobile.\n\n**Tech Stack:** Svelte 5 (runes), Tailwind CSS v4\n\n---\n\n## Overview\n\nCurrently, booking a time slot requires 3 distinct steps:\n1. Select a date (see calendar)\n2. Select a time (separate view with back button)\n3. Enter details (form)\n\nAfter this change:\n1. Select date + time (calendar shows time slots below selected date)\n2. Enter details (form)\n\nThis is a UX improvement that reduces cognitive load and lets users easily compare different dates.\n\n## Key Files\n\n- **Modify:** `frontend/src/lib/components/booking/BookingPage.svelte` - Remove 'time' step, inline TimeSlotList\n- **Modify:** `frontend/src/lib/components/booking/DateCalendar.svelte` - Add onSelect callback prop\n- **No change needed:** TimeSlotList.svelte, BookingForm.svelte - Already work correctly\n\n## Testing Approach\n\nManual testing:\n1. Navigate to a booking link page\n2. Select a date - time slots should appear below\n3. Select a different date - time slots should update\n4. Select a time slot - should proceed to form\n5. Go back from form - should return to date/time view with selections preserved\n6. Test on mobile viewport - ensure stacked layout works","status":"closed","priority":2,"issue_type":"epic","owner":"k@knt.li","created_at":"2026-01-26T14:50:12.491616575+01:00","created_by":"kolaente","updated_at":"2026-01-26T17:25:20.5567319+01:00","closed_at":"2026-01-26T17:25:20.5567319+01:00","close_reason":"Closed","labels":["feature","frontend"]}
{"id":"meet-mesh-v42.1","title":"Remove 'time' step from step state machine","description":"## Task 1: Remove 'time' step from step state machine\n\n**Files:**\n- Modify: `frontend/src/lib/components/booking/BookingPage.svelte:36-38`\n\n**Step 1: Update the Step type**\n\nChange the Step type to remove 'time':\n\n```typescript\n// Before (line 37):\ntype Step = 'date' | 'time' | 'form' | 'submitting' | 'confirmed';\n\n// After:\ntype Step = 'date' | 'form' | 'submitting' | 'confirmed';\n```\n\n**Step 2: Run TypeScript check to verify no errors**\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\nExpected: Should pass (the 'time' step references will be cleaned up in subsequent tasks)\n\n**Step 3: Commit**\n\n```bash\ngit add frontend/src/lib/components/booking/BookingPage.svelte\ngit commit -m \"refactor(booking): remove 'time' from Step type\n\nPreparation for folding time slot selection into date view.\nThe 'time' step will be replaced with inline slot selection.\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:50:29.37094311+01:00","created_by":"kolaente","updated_at":"2026-01-26T17:25:19.73893815+01:00","closed_at":"2026-01-26T17:25:19.73893815+01:00","close_reason":"Closed","labels":["frontend","refactor"],"dependencies":[{"issue_id":"meet-mesh-v42.1","depends_on_id":"meet-mesh-v42","type":"parent-child","created_at":"2026-01-26T14:50:29.373620372+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-v42.2","title":"Update handleDateSelect to show slots instead of navigating","description":"## Task 2: Update handleDateSelect to show slots instead of navigating\n\n**Files:**\n- Modify: `frontend/src/lib/components/booking/BookingPage.svelte:66-78`\n\n**Step 1: Simplify handleDateSelect function**\n\nThe function should only update selectedDate (for time slot type). It should NOT navigate to a different step.\n\n```typescript\n// Before (lines 66-78):\nfunction handleDateSelect(date: string) {\n    selectedDate = date;\n    if (slotType === 1) {\n        // Time slot type - move to time selection\n        step = 'time';\n    } else if (slotType === 2) {\n        // Full day type - find the slot for this date and go to form\n        selectedSlot = link.slots.find((s) =\u003e s.start_time.startsWith(date));\n        if (selectedSlot) {\n            step = 'form';\n        }\n    }\n}\n\n// After:\nfunction handleDateSelect(date: string) {\n    selectedDate = date;\n    selectedSlot = undefined; // Clear any previously selected slot\n    if (slotType === 2) {\n        // Full day type - auto-select the slot for this date and go to form\n        selectedSlot = link.slots.find((s) =\u003e s.start_time.startsWith(date));\n        if (selectedSlot) {\n            step = 'form';\n        }\n    }\n    // For time slot type (slotType === 1), stay on 'date' step\n    // Time slots will be shown inline below the calendar\n}\n```\n\n**Step 2: Verify the change**\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\n**Step 3: Commit**\n\n```bash\ngit add frontend/src/lib/components/booking/BookingPage.svelte\ngit commit -m \"refactor(booking): simplify handleDateSelect for inline slots\n\nFor time slot type, no longer navigate to 'time' step.\nInstead, slots will display inline below the calendar.\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:52:25.395912176+01:00","created_by":"kolaente","updated_at":"2026-01-26T17:25:19.843450165+01:00","closed_at":"2026-01-26T17:25:19.843450165+01:00","close_reason":"Closed","labels":["frontend","refactor"],"dependencies":[{"issue_id":"meet-mesh-v42.2","depends_on_id":"meet-mesh-v42","type":"parent-child","created_at":"2026-01-26T14:52:25.398520447+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-v42.3","title":"Update goBack navigation to skip removed 'time' step","description":"## Task 3: Update goBack navigation to skip removed 'time' step\n\n**Files:**\n- Modify: `frontend/src/lib/components/booking/BookingPage.svelte:133-145`\n\n**Step 1: Simplify goBack function**\n\nRemove the 'time' step handling since it no longer exists.\n\n```typescript\n// Before (lines 133-145):\nfunction goBack() {\n    if (step === 'time') {\n        step = 'date';\n        selectedSlot = undefined;\n    } else if (step === 'form') {\n        if (slotType === 1) {\n            step = 'time';\n        } else {\n            step = 'date';\n        }\n        selectedSlot = undefined;\n    }\n}\n\n// After:\nfunction goBack() {\n    if (step === 'form') {\n        step = 'date';\n        selectedSlot = undefined;\n    }\n}\n```\n\n**Step 2: Verify the change**\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\n**Step 3: Commit**\n\n```bash\ngit add frontend/src/lib/components/booking/BookingPage.svelte\ngit commit -m \"refactor(booking): simplify goBack navigation\n\nRemove 'time' step handling since slots are now inline.\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:52:35.196090916+01:00","created_by":"kolaente","updated_at":"2026-01-26T17:25:19.948072081+01:00","closed_at":"2026-01-26T17:25:19.948072081+01:00","close_reason":"Closed","labels":["frontend","refactor"],"dependencies":[{"issue_id":"meet-mesh-v42.3","depends_on_id":"meet-mesh-v42","type":"parent-child","created_at":"2026-01-26T14:52:35.198482095+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-v42.4","title":"Remove step indicator for time step","description":"## Task 4: Remove step indicator for time step\n\n**Files:**\n- Modify: `frontend/src/lib/components/booking/BookingPage.svelte:186-215`\n\n**Step 1: Simplify step indicator**\n\nThe step indicator logic is complex because it conditionally shows the 'time' step. Simplify to always show just 2 steps.\n\n```svelte\n\u003c!-- Before (lines 186-215): Complex conditional step indicator --\u003e\n\n\u003c!-- After: Simplified 2-step indicator --\u003e\n\u003c!-- Step indicator --\u003e\n\u003cdiv class=\"flex items-center justify-center gap-2 mb-8\"\u003e\n    {#each ['date', 'form'] as s, i}\n        {@const currentIndex = ['date', 'form'].indexOf(step === 'date' ? 'date' : 'form')}\n        {@const stepIndex = i}\n        {@const isCurrent = stepIndex === currentIndex}\n        {@const isCompleted = stepIndex \u003c currentIndex}\n        \u003cdiv class=\"flex items-center gap-2\"\u003e\n            \u003cdiv\n                class=\"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium border\n                    {isCurrent ? 'bg-[var(--sky)] text-white border-[var(--sky)]' : isCompleted ? 'bg-[var(--emerald)] text-white border-[var(--emerald)]' : 'bg-[var(--bg-tertiary)] text-[var(--text-muted)] border-[var(--border-color)]'}\"\n            \u003e\n                {#if isCompleted}\n                    \u003csvg class=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"\u003e\n                        \u003cpath stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5 13l4 4L19 7\" /\u003e\n                    \u003c/svg\u003e\n                {:else}\n                    {stepIndex + 1}\n                {/if}\n            \u003c/div\u003e\n            {#if i \u003c 1}\n                \u003cdiv class=\"w-8 h-px bg-[var(--border-color)]\"\u003e\u003c/div\u003e\n            {/if}\n        \u003c/div\u003e\n    {/each}\n\u003c/div\u003e\n```\n\n**Step 2: Verify the change**\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\n**Step 3: Commit**\n\n```bash\ngit add frontend/src/lib/components/booking/BookingPage.svelte\ngit commit -m \"refactor(booking): simplify step indicator to 2 steps\n\nNow shows: 1. Date \u0026 Time -\u003e 2. Your Details\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:52:47.117678308+01:00","created_by":"kolaente","updated_at":"2026-01-26T17:25:20.058053957+01:00","closed_at":"2026-01-26T17:25:20.058053957+01:00","close_reason":"Closed","labels":["frontend","refactor"],"dependencies":[{"issue_id":"meet-mesh-v42.4","depends_on_id":"meet-mesh-v42","type":"parent-child","created_at":"2026-01-26T14:52:47.120113588+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-v42.5","title":"Add inline TimeSlotList below DateCalendar in date step","description":"## Task 5: Add inline TimeSlotList below DateCalendar in date step\n\n**Files:**\n- Modify: `frontend/src/lib/components/booking/BookingPage.svelte:234-251`\n\n**Step 1: Replace the time slot flow section**\n\nThis is the main change. Replace the separate 'time' step block with inline slot display in the 'date' step.\n\n```svelte\n\u003c!-- Before (lines 234-308): Separate date and time steps --\u003e\n{:else if slotType === 1}\n    \u003c!-- Time slot flow --\u003e\n    {#if step === 'date'}\n        \u003cdiv in:fly={{ x: -50, duration: 200 }}\u003e\n            \u003ch2 class=\"text-lg font-semibold text-[var(--text-primary)] mb-4\"\u003eSelect a Date\u003c/h2\u003e\n            \u003cDateCalendar\n                {availableDates}\n                bind:selectedDate\n                class=\"mx-auto max-w-sm\"\n            /\u003e\n            {#if selectedDate}\n                \u003cdiv class=\"mt-4 flex justify-end\"\u003e\n                    \u003cButton onclick={() =\u003e handleDateSelect(selectedDate!)}\u003e\n                        Continue\n                    \u003c/Button\u003e\n                \u003c/div\u003e\n            {/if}\n        \u003c/div\u003e\n    {:else if step === 'time'}\n        \u003c!-- ... time selection step ... --\u003e\n    {:else if step === 'form'}\n        \u003c!-- ... form step ... --\u003e\n    {/if}\n\n\u003c!-- After: Combined date + time selection --\u003e\n{:else if slotType === 1}\n    \u003c!-- Time slot flow --\u003e\n    {#if step === 'date'}\n        \u003cdiv in:fly={{ x: -50, duration: 200 }}\u003e\n            \u003ch2 class=\"text-lg font-semibold text-[var(--text-primary)] mb-4\"\u003eSelect a Date \u0026 Time\u003c/h2\u003e\n            \n            \u003c!-- Desktop: side-by-side, Mobile: stacked --\u003e\n            \u003cdiv class=\"flex flex-col lg:flex-row lg:gap-8\"\u003e\n                \u003c!-- Calendar --\u003e\n                \u003cdiv class=\"lg:flex-shrink-0\"\u003e\n                    \u003cDateCalendar\n                        {availableDates}\n                        bind:selectedDate\n                        onSelect={handleDateSelect}\n                        class=\"mx-auto max-w-sm\"\n                    /\u003e\n                \u003c/div\u003e\n                \n                \u003c!-- Time slots (shown when date selected) --\u003e\n                {#if selectedDate}\n                    \u003cdiv class=\"mt-6 lg:mt-0 lg:flex-1 lg:min-w-[200px]\" in:fly={{ y: 20, duration: 200 }}\u003e\n                        \u003cp class=\"text-sm font-medium text-[var(--text-secondary)] mb-3\"\u003e\n                            {new Date(selectedDate + 'T00:00:00').toLocaleDateString('en-US', {\n                                weekday: 'long',\n                                month: 'long',\n                                day: 'numeric'\n                            })}\n                        \u003c/p\u003e\n                        \u003cTimeSlotList\n                            slots={slotsForSelectedDate}\n                            bind:selectedSlot\n                            onSelect={handleSlotSelect}\n                        /\u003e\n                    \u003c/div\u003e\n                {:else}\n                    \u003cdiv class=\"hidden lg:flex lg:flex-1 lg:min-w-[200px] items-center justify-center\"\u003e\n                        \u003cp class=\"text-sm text-[var(--text-muted)]\"\u003eSelect a date to see available times\u003c/p\u003e\n                    \u003c/div\u003e\n                {/if}\n            \u003c/div\u003e\n        \u003c/div\u003e\n    {:else if step === 'form'}\n        \u003c!-- Form step (unchanged) --\u003e\n```\n\n**Step 2: Verify the change**\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\n**Step 3: Test manually**\n\n```bash\ncd frontend \u0026\u0026 pnpm dev\n# Open http://localhost:5173/p/booking/[your-test-slug]\n# 1. Select a date - slots should appear below/beside\n# 2. Select different date - slots should update\n# 3. Select a slot - should go to form\n```\n\n**Step 4: Commit**\n\n```bash\ngit add frontend/src/lib/components/booking/BookingPage.svelte\ngit commit -m \"feat(booking): show time slots inline with calendar\n\nCombined date and time selection into single view:\n- Desktop: side-by-side layout\n- Mobile: stacked layout with slots below calendar\n- Easier to compare availability across dates\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:08.102723603+01:00","created_by":"kolaente","updated_at":"2026-01-26T17:25:24.67955559+01:00","closed_at":"2026-01-26T17:25:24.67955559+01:00","close_reason":"Closed","labels":["feature","frontend"],"dependencies":[{"issue_id":"meet-mesh-v42.5","depends_on_id":"meet-mesh-v42","type":"parent-child","created_at":"2026-01-26T14:53:08.105454709+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-v42.5","depends_on_id":"meet-mesh-v42.7","type":"blocks","created_at":"2026-01-26T14:54:32.403445759+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-v42.6","title":"Remove unused 'time' step template code","description":"## Task 6: Remove unused 'time' step template code\n\n**Files:**\n- Modify: `frontend/src/lib/components/booking/BookingPage.svelte:252-279`\n\n**Step 1: Delete the {:else if step === 'time'} block**\n\nThe old 'time' step code (lines 252-279) is no longer needed. Delete it entirely.\n\n```svelte\n\u003c!-- DELETE this entire block (was lines 252-279): --\u003e\n{:else if step === 'time'}\n    \u003cdiv in:fly={{ x: 50, duration: 200 }}\u003e\n        \u003cdiv class=\"flex items-center gap-2 mb-4\"\u003e\n            \u003cbutton\n                type=\"button\"\n                onclick={goBack}\n                class=\"p-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-secondary)] rounded-[var(--radius-md)] transition-colors\"\n                aria-label=\"Go back\"\n            \u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"\u003e\n                    \u003cpath stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" /\u003e\n                \u003c/svg\u003e\n            \u003c/button\u003e\n            \u003ch2 class=\"text-lg font-semibold text-[var(--text-primary)]\"\u003eSelect a Time\u003c/h2\u003e\n        \u003c/div\u003e\n        \u003cp class=\"text-sm text-[var(--text-secondary)] mb-4\"\u003e\n            {new Date(selectedDate + 'T00:00:00').toLocaleDateString('en-US', {\n                weekday: 'long',\n                month: 'long',\n                day: 'numeric'\n            })}\n        \u003c/p\u003e\n        \u003cTimeSlotList\n            slots={slotsForSelectedDate}\n            bind:selectedSlot\n            onSelect={handleSlotSelect}\n        /\u003e\n    \u003c/div\u003e\n{:else if step === 'form'}\n```\n\n**Step 2: Verify no TypeScript errors**\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\nExpected: Should pass with no errors.\n\n**Step 3: Commit**\n\n```bash\ngit add frontend/src/lib/components/booking/BookingPage.svelte\ngit commit -m \"refactor(booking): remove obsolete time step template\n\nThe 'time' step UI is replaced by inline slot display.\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:32.215705943+01:00","created_by":"kolaente","updated_at":"2026-01-26T17:25:24.791609153+01:00","closed_at":"2026-01-26T17:25:24.791609153+01:00","close_reason":"Closed","labels":["frontend","refactor"],"dependencies":[{"issue_id":"meet-mesh-v42.6","depends_on_id":"meet-mesh-v42","type":"parent-child","created_at":"2026-01-26T14:53:32.218120193+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-v42.6","depends_on_id":"meet-mesh-v42.5","type":"blocks","created_at":"2026-01-26T14:54:32.601045038+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-v42.7","title":"Add onSelect callback prop to DateCalendar","description":"## Task 7: Add onSelect callback prop to DateCalendar\n\n**Files:**\n- Modify: `frontend/src/lib/components/booking/DateCalendar.svelte:3-12`\n\n**Step 1: Add onSelect prop to interface**\n\n```typescript\n// Before (lines 3-12):\ninterface Props {\n    availableDates: string[];\n    selectedDate?: string;\n    class?: string;\n}\n\nlet {\n    availableDates,\n    selectedDate = $bindable(),\n    class: className = ''\n}: Props = $props();\n\n// After:\ninterface Props {\n    availableDates: string[];\n    selectedDate?: string;\n    onSelect?: (date: string) =\u003e void;\n    class?: string;\n}\n\nlet {\n    availableDates,\n    selectedDate = $bindable(),\n    onSelect,\n    class: className = ''\n}: Props = $props();\n```\n\n**Step 2: Call onSelect in selectDate function**\n\n```typescript\n// Before (lines 55-58):\nfunction selectDate(day: number) {\n    const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;\n    selectedDate = dateStr;\n}\n\n// After:\nfunction selectDate(day: number) {\n    const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;\n    selectedDate = dateStr;\n    onSelect?.(dateStr);\n}\n```\n\n**Step 3: Verify the change**\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\n**Step 4: Commit**\n\n```bash\ngit add frontend/src/lib/components/booking/DateCalendar.svelte\ngit commit -m \"feat(DateCalendar): add onSelect callback prop\n\nAllows parent components to react to date selection without\nrelying solely on binding.\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:53:45.625392036+01:00","created_by":"kolaente","updated_at":"2026-01-26T17:25:20.35431228+01:00","closed_at":"2026-01-26T17:25:20.35431228+01:00","close_reason":"Closed","labels":["feature","frontend"],"dependencies":[{"issue_id":"meet-mesh-v42.7","depends_on_id":"meet-mesh-v42","type":"parent-child","created_at":"2026-01-26T14:53:45.646014616+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-v42.8","title":"End-to-end manual testing","description":"## Task 8: End-to-end manual testing\n\n**Files:**\n- No file changes\n\n**Step 1: Start the development server**\n\n```bash\ncd frontend \u0026\u0026 pnpm dev\n```\n\n**Step 2: Test the booking flow**\n\nNavigate to a booking link with time slots (e.g., http://localhost:5173/p/booking/[slug])\n\nTest checklist:\n- [ ] Calendar displays correctly\n- [ ] Selecting a date shows time slots below/beside the calendar\n- [ ] Selecting a different date updates the time slots\n- [ ] Time slots show correct times for the selected date\n- [ ] Clicking a time slot navigates to the form\n- [ ] \"Go back\" from form returns to date/time view with selection preserved\n- [ ] Step indicator shows 2 steps (not 3)\n- [ ] Mobile viewport: slots appear below calendar (stacked)\n- [ ] Desktop viewport: slots appear beside calendar (side-by-side)\n\n**Step 3: Test edge cases**\n\n- [ ] Date with no available slots shows \"No available time slots\" message\n- [ ] First available date is auto-focused when opening page\n- [ ] Keyboard navigation works (tab between dates and slots)\n\n**Step 4: Commit any final adjustments**\n\nIf any issues found, fix and commit with appropriate message.\n\n**Step 5: Final commit (if all tests pass)**\n\n```bash\ngit add -A\ngit commit -m \"test: verify booking flow with inline time slots\n\nTested:\n- Date selection updates slot display\n- Mobile/desktop responsive layouts\n- Navigation between steps\"\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-26T14:54:26.569110954+01:00","created_by":"kolaente","updated_at":"2026-01-26T17:25:24.895226951+01:00","closed_at":"2026-01-26T17:25:24.895226951+01:00","close_reason":"Closed","labels":["frontend","testing"],"dependencies":[{"issue_id":"meet-mesh-v42.8","depends_on_id":"meet-mesh-v42","type":"parent-child","created_at":"2026-01-26T14:54:26.571740146+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-v42.8","depends_on_id":"meet-mesh-v42.6","type":"blocks","created_at":"2026-01-26T14:54:32.810941952+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-w34","title":"UI Polish Fixes","description":"# UI Polish Fixes Implementation Plan\n\n**Goal:** Fix four UI inconsistencies identified in the frontend components.\n\n**Architecture:** Simple CSS and structural fixes to existing Svelte components.\n\n**Tech Stack:** SvelteKit, Svelte 5, Tailwind CSS v4, bits-ui\n\n---\n\n## Issues to Fix\n\n1. **Select border inconsistency** - Select uses 1px border and wrong radius, should match Input (2px border, standard radius)\n2. **Checkbox focus style** - Still uses outline instead of box-shadow ring\n3. **Dialog z-index** - Sidebar/navbar visible over dialog (z-50 vs z-100)\n4. **Poll Options button placement** - \"Add Option\" button glued to title, should be at right end","status":"closed","priority":2,"issue_type":"epic","owner":"k@knt.li","created_at":"2026-01-25T21:26:26.002313532+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:39:25.260772097+01:00","closed_at":"2026-01-26T10:39:25.260772097+01:00","close_reason":"Closed"}
{"id":"meet-mesh-w34.1","title":"Fix Select.svelte border and radius to match Input","description":"## Files\n- Modify: `frontend/src/lib/components/ui/Select.svelte`\n\n## Current State\n- Line 36: Label uses `text-[var(--text-primary)]` (should be `text-[var(--text-secondary)]`)\n- Line 51: Trigger uses `border border-[var(--border-color)]` (should be `border-2`)\n- Line 51: Trigger uses `rounded-[var(--radius-md)]` (should be `rounded-[var(--radius)]`)\n\n## Step 1: Fix label color\n\nLine 36, change:\n```svelte\n\u003clabel for={selectId} class=\"block text-sm font-medium text-[var(--text-primary)]\"\u003e\n```\nTo:\n```svelte\n\u003clabel for={selectId} class=\"block text-sm font-medium text-[var(--text-secondary)]\"\u003e\n```\n\n## Step 2: Fix border width and radius\n\nLine 51, in the Select.Trigger class string, change:\n- `border border-[var(--border-color)]` â†’ `border-2 border-[var(--border-color)]`\n- `rounded-[var(--radius-md)]` â†’ `rounded-[var(--radius)]`\n\n## Step 3: Run type check\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\nExpected: No errors\n\n## Step 4: Commit\n\n```bash\ngit add frontend/src/lib/components/ui/Select.svelte\ngit commit -m 'fix(ui): match Select border and radius to Input component'\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:30:47.248928064+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:39:24.833196784+01:00","closed_at":"2026-01-26T10:39:24.833196784+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-w34.1","depends_on_id":"meet-mesh-w34","type":"parent-child","created_at":"2026-01-25T21:30:47.25133494+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-w34.2","title":"Fix Checkbox.svelte focus style to use ring","description":"## Files\n- Modify: `frontend/src/lib/components/ui/Checkbox.svelte`\n\n## Current State\nLines 92-95 use outline:\n```css\n.checkbox:focus-visible {\n  outline: 2px solid var(--sky);\n  outline-offset: 2px;\n}\n```\n\n## Step 1: Update focus-visible style\n\nChange lines 92-95 to:\n```css\n.checkbox:focus-visible {\n  outline: none;\n  box-shadow: 0 0 0 2px var(--bg-primary), 0 0 0 4px var(--sky);\n}\n```\n\nThis creates a focus ring effect matching other form elements:\n- Inner ring uses `--bg-primary` as offset (like Tailwind's ring-offset)\n- Outer ring uses `--sky` as the focus color\n\n## Step 2: Run type check\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\nExpected: No errors\n\n## Step 3: Commit\n\n```bash\ngit add frontend/src/lib/components/ui/Checkbox.svelte\ngit commit -m 'fix(ui): update Checkbox focus to use ring style'\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:30:56.932063608+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:39:24.921805888+01:00","closed_at":"2026-01-26T10:39:24.921805888+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-w34.2","depends_on_id":"meet-mesh-w34","type":"parent-child","created_at":"2026-01-25T21:30:56.934860117+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-w34.3","title":"Fix Dialog z-index to appear above Sidebar","description":"## Files\n- Modify: `frontend/src/lib/components/ui/Dialog.svelte`\n\n## Current State\n- Dialog overlay (line 18): `z-50` (Tailwind z-50 = 50)\n- Dialog content (line 21): `z-50`\n- Sidebar: `z-index: 100`\n- MobileMenu: `z-index: 200`\n\nThe Sidebar and MobileMenu have higher z-index, so they appear above the Dialog.\n\n## Step 1: Increase Dialog z-index\n\nLine 18 (Dialog.Overlay), change:\n```svelte\nclass=\"fixed inset-0 z-50 bg-black/50 ...\n```\nTo:\n```svelte\nclass=\"fixed inset-0 z-[300] bg-black/50 ...\n```\n\nLine 21 (Dialog.Content), change:\n```svelte\nclass=\"fixed left-1/2 top-1/2 z-50 w-full ...\n```\nTo:\n```svelte\nclass=\"fixed left-1/2 top-1/2 z-[300] w-full ...\n```\n\nUsing z-[300] ensures the Dialog appears above Sidebar (100) and MobileMenu (200).\n\n## Step 2: Run type check\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\nExpected: No errors\n\n## Step 3: Visual verification\n\n1. Run dev server: `cd frontend \u0026\u0026 pnpm dev`\n2. Navigate to Settings page with a calendar connection\n3. Click the \"Test\" button\n4. Verify the dialog overlay covers the entire screen including the sidebar\n\n## Step 4: Commit\n\n```bash\ngit add frontend/src/lib/components/ui/Dialog.svelte\ngit commit -m 'fix(ui): increase Dialog z-index to appear above Sidebar'\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:31:13.637799098+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:39:25.006794948+01:00","closed_at":"2026-01-26T10:39:25.006794948+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-w34.3","depends_on_id":"meet-mesh-w34","type":"parent-child","created_at":"2026-01-25T21:31:13.640386245+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-w34.4","title":"Fix PollOptionManager Add Option button placement","description":"## Files\n- Modify: `frontend/src/lib/components/dashboard/PollOptionManager.svelte`\n\n## Current State\n\nThe Card component's header (Card.svelte line 18) already has:\n```svelte\n\u003cdiv class=\"flex items-center justify-between px-5 py-4 ...\"\u003e\n  {@render header()}\n\u003c/div\u003e\n```\n\nPollOptionManager (lines 141-152) wraps content in another div:\n```svelte\n{#snippet header()}\n  \u003cdiv class=\"flex items-center justify-between\"\u003e\n    \u003ch2\u003ePoll Options ({options.length})\u003c/h2\u003e\n    {#if !showAddForm}\n      \u003cButton\u003eAdd Option\u003c/Button\u003e\n    {/if}\n  \u003c/div\u003e\n{/snippet}\n```\n\nThe problem: Card header div already has `justify-between`, but it contains a single child (the user's div), so justify-between has no effect. The user's inner div then applies justify-between to its children.\n\nThe fix: Remove the wrapper div and render h2 and Button directly in the header snippet, so Card's justify-between works on them directly.\n\n## Step 1: Remove wrapper div from header snippet\n\nChange lines 141-152 from:\n```svelte\n{#snippet header()}\n  \u003cdiv class=\"flex items-center justify-between\"\u003e\n    \u003ch2 class=\"text-lg font-medium text-gray-900 dark:text-gray-100\"\u003e\n      Poll Options ({options.length})\n    \u003c/h2\u003e\n    {#if !showAddForm}\n      \u003cButton variant=\"secondary\" size=\"sm\" onclick={() =\u003e (showAddForm = true)}\u003e\n        {#snippet children()}Add Option{/snippet}\n      \u003c/Button\u003e\n    {/if}\n  \u003c/div\u003e\n{/snippet}\n```\n\nTo:\n```svelte\n{#snippet header()}\n  \u003ch2 class=\"text-lg font-medium text-gray-900 dark:text-gray-100\"\u003e\n    Poll Options ({options.length})\n  \u003c/h2\u003e\n  {#if !showAddForm}\n    \u003cButton variant=\"secondary\" size=\"sm\" onclick={() =\u003e (showAddForm = true)}\u003e\n      {#snippet children()}Add Option{/snippet}\n    \u003c/Button\u003e\n  {/if}\n{/snippet}\n```\n\n## Step 2: Run type check\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\nExpected: No errors\n\n## Step 3: Visual verification\n\n1. Run dev server: `cd frontend \u0026\u0026 pnpm dev`\n2. Navigate to a poll detail page (/polls/{id})\n3. Verify the \"Add Option\" button is aligned to the right end of the card header\n4. Verify the \"Poll Options (N)\" title is on the left\n\n## Step 4: Commit\n\n```bash\ngit add frontend/src/lib/components/dashboard/PollOptionManager.svelte\ngit commit -m 'fix(ui): align Add Option button to right in card header'\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:33:05.538157777+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:39:25.094283454+01:00","closed_at":"2026-01-26T10:39:25.094283454+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-w34.4","depends_on_id":"meet-mesh-w34","type":"parent-child","created_at":"2026-01-25T21:33:05.540886565+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-w34.5","title":"Build verification and visual testing","description":"## Purpose\n\nFinal verification that all UI polish fixes are working correctly.\n\n## Step 1: Run frontend type check\n\n```bash\ncd frontend \u0026\u0026 pnpm check\n```\n\nExpected: No TypeScript errors\n\n## Step 2: Build full project\n\n```bash\nmake build\n```\n\nExpected: Build succeeds with no errors\n\n## Step 3: Visual verification checklist\n\nRun dev server and manually verify each fix:\n\n1. **Select border consistency**\n   - [ ] Navigate to a page with Select components (e.g., booking link create/edit)\n   - [ ] Verify Select has 2px border matching Input\n   - [ ] Verify Select has same border radius as Input\n   - [ ] Verify Select label color matches Input label color\n\n2. **Checkbox focus ring**\n   - [ ] Navigate to a page with Checkbox (e.g., poll create with custom fields)\n   - [ ] Tab to the checkbox to focus it\n   - [ ] Verify focus ring appears as a sky-colored ring (not outline)\n   - [ ] Verify ring has offset from checkbox border\n\n3. **Dialog z-index**\n   - [ ] Navigate to Settings with a calendar connection\n   - [ ] Click \"Test\" button to open dialog\n   - [ ] Verify dialog overlay covers the entire screen\n   - [ ] Verify sidebar/navbar are NOT visible through the overlay\n\n4. **Poll Options button**\n   - [ ] Navigate to a poll detail page (/polls/{id})\n   - [ ] Verify \"Poll Options (N)\" title is on the left\n   - [ ] Verify \"Add Option\" button is aligned to the right edge of card header\n\n## Step 4: Final commit (if any fixes needed)\n\n```bash\ngit add -A\ngit commit -m 'fix: address UI polish issues'\n```\n\n## Step 5: Sync and push\n\n```bash\nbd sync\ngit push\n```","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T21:33:20.457374937+01:00","created_by":"kolaente","updated_at":"2026-01-26T10:39:25.177529641+01:00","closed_at":"2026-01-26T10:39:25.177529641+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-w34.5","depends_on_id":"meet-mesh-w34","type":"parent-child","created_at":"2026-01-25T21:33:20.459763233+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-w34.5","depends_on_id":"meet-mesh-w34.1","type":"blocks","created_at":"2026-01-25T21:33:29.494611553+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-w34.5","depends_on_id":"meet-mesh-w34.2","type":"blocks","created_at":"2026-01-25T21:33:29.58345044+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-w34.5","depends_on_id":"meet-mesh-w34.3","type":"blocks","created_at":"2026-01-25T21:33:29.670021792+01:00","created_by":"kolaente"},{"issue_id":"meet-mesh-w34.5","depends_on_id":"meet-mesh-w34.4","type":"blocks","created_at":"2026-01-25T21:33:29.753619554+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-x82","title":"Neo-brutalist UI polish and dark mode fixes","description":"# Neo-brutalist UI Polish and Dark Mode Fixes\n\n**Goal:** Fix remaining UI inconsistencies and dark mode issues in the neo-brutalist dashboard redesign.\n\n**Architecture:** Update form components (Input, Select, Checkbox) to use CSS variables for dark mode support. Fix broken icons, improve spacing, and ensure text readability across all pages.\n\n**Tech Stack:** SvelteKit, Tailwind CSS v4, CSS custom properties\n\n---\n\n## Issues to Fix\n\n1. Checkbox component missing neo-brutalist styling\n2. Input/textarea missing dark mode support\n3. Link icon broken in sidebar, buttons, and stats cards\n4. Dark mode text readability issues (titles, labels)\n5. Booking page step indicator and spacing\n6. Poll option \"Add option\" button alignment\n7. Select component dark mode styling\n8. Card spacing inconsistencies\n9. Hard refresh on create (SPA navigation)\n10. Redundant type pill on booking/poll cards\n11. Vote buttons and public pages dark mode","status":"closed","priority":2,"issue_type":"epic","owner":"k@knt.li","created_at":"2026-01-25T19:43:22.953986143+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:03:40.635230199+01:00","closed_at":"2026-01-25T20:03:40.635230199+01:00","close_reason":"Closed"}
{"id":"meet-mesh-x82.1","title":"Fix broken link icon SVG","description":"## Problem\nThe link icon appears broken (shows incomplete curved line) in:\n- Sidebar \"Booking Links\" nav item\n- \"New Link\" button in dashboard header\n- \"Booking Links\" stats card on dashboard\n\n## Files\n- Modify: `frontend/src/lib/components/dashboard/Sidebar.svelte`\n- Modify: `frontend/src/routes/(dashboard)/+page.svelte`\n\n## Root Cause\nThe SVG path for the link icon is incomplete. It only has one half of the chain link.\n\n## Fix\nReplace the broken link SVG with the complete chain link icon:\n```html\n\u003csvg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"\u003e\n  \u003cpath stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"/\u003e\n\u003c/svg\u003e\n```\n\n## Verification\n- Navigate to dashboard\n- Check sidebar \"Booking Links\" shows complete link icon\n- Check \"New Link\" button shows complete link icon\n- Check \"Booking Links\" stats card shows complete link icon","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T19:43:35.713200571+01:00","created_by":"kolaente","updated_at":"2026-01-25T19:53:53.651363461+01:00","closed_at":"2026-01-25T19:53:53.651363461+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-x82.1","depends_on_id":"meet-mesh-x82","type":"parent-child","created_at":"2026-01-25T19:43:35.715572126+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-x82.10","title":"Fix SPA navigation after creating booking link or poll","description":"## Problem\nAfter creating a new booking link or poll, the page does a hard refresh instead of SPA navigation. This causes:\n- Loss of dark mode state (if not persisted)\n- Full page reload flash\n- Poor user experience\n\n## Files\n- Modify: `frontend/src/routes/(dashboard)/booking-links/new/+page.svelte`\n- Modify: `frontend/src/routes/(dashboard)/polls/new/+page.svelte`\n\n## Root Cause\nThe form submission likely uses native form action or window.location instead of SvelteKit's goto().\n\n## Fix\nAfter successful API call, use SvelteKit navigation:\n```typescript\nimport { goto } from '$app/navigation';\n\n// After successful creation:\nawait goto('/booking-links');\n// or\nawait goto('/polls');\n```\n\nEnsure no `window.location.href` or form action redirects are used.\n\n## Verification\n- Create a new booking link\n- Page should navigate smoothly without full reload\n- Dark mode state should be preserved\n- Create a new poll\n- Same smooth navigation behavior","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T19:45:14.255236851+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:03:37.145627588+01:00","closed_at":"2026-01-25T20:03:37.145627588+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-x82.10","depends_on_id":"meet-mesh-x82","type":"parent-child","created_at":"2026-01-25T19:45:14.257631834+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-x82.11","title":"Style TimeSlotList for dark mode","description":"## Problem\nTimeSlotList component on booking page uses hardcoded colors:\n- `bg-white` background\n- `text-gray-900` text\n- `border-gray-200` border\n- Selected: `bg-indigo-600`\n\n## Files\n- Modify: `frontend/src/lib/components/booking/TimeSlotList.svelte`\n\n## Fix\nReplace Tailwind classes with CSS variables:\n\n**Unselected slot:**\n- `bg-[var(--bg-secondary)]`\n- `text-[var(--text-primary)]`\n- `border-[var(--border-color)]`\n- Hover: `bg-[var(--bg-tertiary)]` `border-[var(--sky)]`\n\n**Selected slot:**\n- `bg-[var(--sky)]`\n- `text-white`\n- `border-[var(--sky)]`\n\n## Verification\n- Navigate to public booking page\n- Select a date with available slots\n- Time slots should have dark background in dark mode\n- Selected slot should use sky color\n- Text should be readable in both modes","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T19:45:24.726431984+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:03:37.216102967+01:00","closed_at":"2026-01-25T20:03:37.216102967+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-x82.11","depends_on_id":"meet-mesh-x82","type":"parent-child","created_at":"2026-01-25T19:45:24.728930329+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-x82.2","title":"Add dark mode support to Input component","description":"## Problem\nThe Input component uses hardcoded Tailwind colors that don't adapt to dark mode:\n- `bg-white` background\n- `border-slate-300` border\n- `text-gray-900` text\n- `focus:ring-indigo-500` focus ring\n\n## Files\n- Modify: `frontend/src/lib/components/ui/Input.svelte`\n\n## Fix\nReplace Tailwind color classes with CSS variable equivalents:\n- Background: `bg-[var(--bg-secondary)]`\n- Border: `border-[var(--border-color)]`\n- Text: `text-[var(--text-primary)]`\n- Placeholder: `placeholder:text-[var(--text-muted)]`\n- Focus ring: `focus:ring-[var(--sky)]`\n- Label: `text-[var(--text-secondary)]`\n\nAlso add neo-brutalist styling:\n- Border width: 2px\n- Border radius: `var(--radius)`\n\n## Verification\n- Toggle dark mode on booking-links/new page\n- Input fields should have dark background with light text\n- Labels should be readable\n- Focus states should use sky color","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T19:43:49.852090355+01:00","created_by":"kolaente","updated_at":"2026-01-25T19:53:53.722375772+01:00","closed_at":"2026-01-25T19:53:53.722375772+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-x82.2","depends_on_id":"meet-mesh-x82","type":"parent-child","created_at":"2026-01-25T19:43:49.854418039+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-x82.3","title":"Create Checkbox component with neo-brutalist styling","description":"## Problem\nNative HTML checkboxes are used in poll creation form. They have no neo-brutalist styling and labels are barely visible in dark mode.\n\n## Files\n- Create: `frontend/src/lib/components/ui/Checkbox.svelte`\n- Modify: `frontend/src/lib/components/ui/index.ts` (add export)\n- Modify: `frontend/src/routes/(dashboard)/polls/new/+page.svelte`\n- Modify: `frontend/src/routes/(dashboard)/booking-links/new/+page.svelte` (if checkboxes exist)\n\n## Implementation\nCreate a styled checkbox component:\n```svelte\n\u003cscript lang=\"ts\"\u003e\n  interface Props {\n    checked?: boolean;\n    label?: string;\n    description?: string;\n    disabled?: boolean;\n    onchange?: (checked: boolean) =\u003e void;\n  }\n  let { checked = $bindable(false), label, description, disabled = false, onchange }: Props = $props();\n\u003c/script\u003e\n\n\u003clabel class=\"checkbox-wrapper\"\u003e\n  \u003cinput \n    type=\"checkbox\" \n    bind:checked \n    {disabled}\n    onchange={() =\u003e onchange?.(checked)}\n    class=\"checkbox\"\n  /\u003e\n  {#if label}\n    \u003cspan class=\"label\"\u003e{label}\u003c/span\u003e\n  {/if}\n\u003c/label\u003e\n\n\u003cstyle\u003e\n  .checkbox-wrapper {\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    cursor: pointer;\n  }\n  \n  .checkbox {\n    width: 20px;\n    height: 20px;\n    border: 2px solid var(--border-color);\n    border-radius: var(--radius);\n    background: var(--bg-secondary);\n    cursor: pointer;\n    appearance: none;\n    display: grid;\n    place-content: center;\n  }\n  \n  .checkbox:checked {\n    background: var(--sky);\n    border-color: var(--sky);\n  }\n  \n  .checkbox:checked::before {\n    content: '';\n    width: 10px;\n    height: 10px;\n    background: white;\n    clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);\n  }\n  \n  .checkbox:focus {\n    outline: 2px solid var(--sky);\n    outline-offset: 2px;\n  }\n  \n  .label {\n    color: var(--text-primary);\n    font-size: 0.9rem;\n    font-weight: 500;\n  }\n\u003c/style\u003e\n```\n\n## Verification\n- Navigate to polls/new\n- Checkboxes should have neo-brutalist styling\n- Labels should be readable in dark mode\n- Checked state should show sky blue background with white checkmark","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T19:44:04.067065972+01:00","created_by":"kolaente","updated_at":"2026-01-25T19:53:04.364401087+01:00","closed_at":"2026-01-25T19:53:04.364401087+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-x82.3","depends_on_id":"meet-mesh-x82","type":"parent-child","created_at":"2026-01-25T19:44:04.069405206+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-x82.4","title":"Add dark mode support to Select component","description":"## Problem\nThe Select component uses hardcoded colors that don't work in dark mode:\n- Trigger: `bg-white`, `border-slate-300`\n- Content: `bg-white`\n- Items: `hover:bg-indigo-50`, `text-gray-900`\n\n## Files\n- Modify: `frontend/src/lib/components/ui/Select.svelte`\n\n## Fix\nReplace Tailwind color classes with CSS variables:\n\n**Trigger:**\n- `bg-[var(--bg-secondary)]`\n- `border-[var(--border-color)]`\n- `text-[var(--text-primary)]`\n- Focus: `ring-[var(--sky)]`\n\n**Content (dropdown):**\n- `bg-[var(--bg-secondary)]`\n- `border-[var(--border-color)]`\n- Shadow: `var(--shadow)`\n\n**Items:**\n- `text-[var(--text-primary)]`\n- Hover: `bg-[var(--bg-tertiary)]`\n- Selected: `bg-[var(--sky)]` with white text\n\n## Verification\n- Toggle dark mode\n- Open any Select dropdown\n- Dropdown should have dark background\n- Options should be readable\n- Hover/selected states should work correctly","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T19:44:15.137354957+01:00","created_by":"kolaente","updated_at":"2026-01-25T19:53:53.795647622+01:00","closed_at":"2026-01-25T19:53:53.795647622+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-x82.4","depends_on_id":"meet-mesh-x82","type":"parent-child","created_at":"2026-01-25T19:44:15.140221516+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-x82.5","title":"Fix dark mode text readability across pages","description":"## Problem\nMultiple components have unreadable text in dark mode due to hardcoded colors:\n- Booking/poll card titles (e.g., \"Quick Call\") \n- VoteCard date titles (\"Saturday, January 31\")\n- Form section labels (\"Your Information\", \"Custom Fields\")\n- BookingPage step descriptions\n\n## Files\n- Modify: `frontend/src/routes/(dashboard)/booking-links/+page.svelte`\n- Modify: `frontend/src/routes/(dashboard)/polls/+page.svelte`\n- Modify: `frontend/src/lib/components/poll/VoteCard.svelte`\n- Modify: `frontend/src/lib/components/poll/VoterForm.svelte`\n- Modify: `frontend/src/lib/components/booking/BookingPage.svelte`\n\n## Fix\nReplace hardcoded text colors with CSS variables:\n- Titles: `text-[var(--text-primary)]` (was `text-gray-900`)\n- Subtitles/labels: `text-[var(--text-secondary)]` (was `text-gray-600`)\n- Muted text: `text-[var(--text-muted)]` (was `text-gray-400/500`)\n- Borders: `border-[var(--border-color)]` (was `border-gray-200`)\n\n## Verification\n- Toggle dark mode\n- Navigate to booking-links list - card title readable\n- Navigate to polls list - card title readable\n- Navigate to public poll page - date titles readable\n- Navigate to public booking page - step text readable","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T19:44:26.12384659+01:00","created_by":"kolaente","updated_at":"2026-01-25T19:57:58.102754981+01:00","closed_at":"2026-01-25T19:57:58.102754981+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-x82.5","depends_on_id":"meet-mesh-x82","type":"parent-child","created_at":"2026-01-25T19:44:26.126502026+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-x82.6","title":"Style booking page step indicator and fix spacing","description":"## Problem\n1. Step indicator uses indigo colors instead of design system colors\n2. No spacing between calendar picker card and time slots card\n\n## Files\n- Modify: `frontend/src/lib/components/booking/BookingPage.svelte`\n\n## Fix\n\n**Step indicator styling:**\n- Active step: `bg-[var(--sky)]` with white text, border\n- Completed step: `bg-[var(--emerald)]` with white checkmark\n- Upcoming step: `bg-[var(--bg-tertiary)]` with muted text\n- Connector lines: `bg-[var(--border-color)]`\n\n**Card spacing:**\nAdd gap between calendar and time slots sections:\n```css\n.booking-sections {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n```\n\n## Verification\n- Navigate to public booking page\n- Step indicator should use sky/emerald colors\n- There should be visible gap between calendar and time slots\n- Works in both light and dark mode","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T19:44:35.823016294+01:00","created_by":"kolaente","updated_at":"2026-01-25T19:59:07.403061588+01:00","closed_at":"2026-01-25T19:59:07.403061588+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-x82.6","depends_on_id":"meet-mesh-x82","type":"parent-child","created_at":"2026-01-25T19:44:35.825759251+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-x82.7","title":"Style VoteButtons for dark mode","description":"## Problem\nVoteButtons component uses hardcoded colors that don't work in dark mode:\n- Background: `bg-white`\n- Text: `text-gray-700`\n- Borders: `border-gray-200`\n- Selected states use indigo/red/amber without CSS variables\n\n## Files\n- Modify: `frontend/src/lib/components/poll/VoteButtons.svelte`\n\n## Fix\nReplace Tailwind classes with CSS variables:\n\n**Unselected state:**\n- `bg-[var(--bg-secondary)]`\n- `text-[var(--text-primary)]`\n- `border-[var(--border-color)]`\n- Hover: `bg-[var(--bg-tertiary)]`\n\n**Selected Yes:**\n- `bg-[var(--emerald)]`\n- `text-white`\n\n**Selected No:**\n- `bg-[var(--rose)]`\n- `text-white`\n\n**Selected Maybe:**\n- `bg-[var(--amber)]`\n- `text-white`\n\n## Verification\n- Navigate to public poll page\n- Vote buttons should have dark background in dark mode\n- Selected states should use design system colors\n- All text should be readable","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T19:44:45.27389154+01:00","created_by":"kolaente","updated_at":"2026-01-25T19:55:28.328033905+01:00","closed_at":"2026-01-25T19:55:28.328033905+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-x82.7","depends_on_id":"meet-mesh-x82","type":"parent-child","created_at":"2026-01-25T19:44:45.276326345+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-x82.8","title":"Fix poll page card spacing","description":"## Problem\nInconsistent spacing between cards on the public poll page. Vote option cards have different gaps than the \"Your Information\" section.\n\n## Files\n- Modify: `frontend/src/lib/components/poll/PollPage.svelte`\n\n## Fix\nWrap all cards in a consistent flex container with uniform gap:\n```css\n.poll-cards {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n```\n\nEnsure VoteCard components and VoterForm use the same gap/margin values.\n\n## Verification\n- Navigate to public poll page\n- All cards should have equal spacing (1rem gap)\n- Spacing should be consistent between vote cards and form section","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T19:44:54.125965276+01:00","created_by":"kolaente","updated_at":"2026-01-25T19:59:07.475206665+01:00","closed_at":"2026-01-25T19:59:07.475206665+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-x82.8","depends_on_id":"meet-mesh-x82","type":"parent-child","created_at":"2026-01-25T19:44:54.128513502+01:00","created_by":"kolaente"}]}
{"id":"meet-mesh-x82.9","title":"Remove redundant type pill from booking/poll cards","description":"## Problem\nBooking link cards show a \"Booking\" pill and poll cards show a \"Poll\" pill in the top-right corner. This is redundant since:\n- On the Booking Links page, all items are booking links\n- On the Polls page, all items are polls\n\n## Files\n- Modify: `frontend/src/routes/(dashboard)/booking-links/+page.svelte`\n- Modify: `frontend/src/routes/(dashboard)/polls/+page.svelte`\n\n## Fix\nRemove the type indicator badge from the card header. Keep only the status badge (Active/Draft/etc).\n\n## Verification\n- Navigate to booking-links page\n- Cards should NOT show \"Booking\" pill\n- Cards should still show status badge (Active, Draft, etc.)\n- Navigate to polls page\n- Cards should NOT show \"Poll\" pill\n- Cards should still show status badge","status":"closed","priority":2,"issue_type":"task","owner":"k@knt.li","created_at":"2026-01-25T19:45:03.659358982+01:00","created_by":"kolaente","updated_at":"2026-01-25T20:03:37.076340605+01:00","closed_at":"2026-01-25T20:03:37.076340605+01:00","close_reason":"Closed","dependencies":[{"issue_id":"meet-mesh-x82.9","depends_on_id":"meet-mesh-x82","type":"parent-child","created_at":"2026-01-25T19:45:03.661843347+01:00","created_by":"kolaente"}]}
